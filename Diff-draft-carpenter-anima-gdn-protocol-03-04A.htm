
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.42: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux zinfandel 3.2.0-4-amd64 #1 SMP Debian 3.2.35-2 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.2 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.1.2 --> 
<html> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: draft-carpenter-anima-gdn-protocol-03.txt - draft-carpenter-anima-gdn-protocol-04A.txt</title> 
  <style type="text/css"> 
    body    { margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th><a href="/rfcdiff?url2=draft-carpenter-anima-gdn-protocol-03.txt" style="color:#008; text-decoration:none;">&lt;</a>&nbsp;<a href="https://tools.ietf.org/html/draft-carpenter-anima-gdn-protocol-03.txt" style="color:#008">draft-carpenter-anima-gdn-protocol-03.txt</a>&nbsp;</th><th> </th><th>&nbsp;<a href="https://tools.ietf.org/html/draft-carpenter-anima-gdn-protocol-04A.txt" style="color:#008">draft-carpenter-anima-gdn-protocol-04A.txt</a>&nbsp;<a href="/rfcdiff?url1=draft-carpenter-anima-gdn-protocol-04A.txt" style="color:#008; text-decoration:none;">&gt;</a></th><th></th></tr> 
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Network Working Group                                       B. Carpenter</td><td> </td><td class="right">Network Working Group                                       B. Carpenter</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Internet-Draft                                         Univ. of Auckland</td><td> </td><td class="right">Internet-Draft                                         Univ. of Auckland</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Intended status: Standards Track                                  B. Liu</td><td> </td><td class="right">Intended status: Standards Track                                  B. Liu</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">Expires: <span class="delete">October 22,</span> 2015                   Huawei Technologies Co., Ltd</td><td> </td><td class="rblock">Expires: <span class="insert">November 18,</span> 2015                  Huawei Technologies Co., Ltd</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                          <span class="delete">April 20,</span> 2015</td><td> </td><td class="rblock">                                                            <span class="insert">May 17,</span> 2015</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> A Generic Discovery and Negotiation Protocol for Autonomic Networking</td><td> </td><td class="right"> A Generic Discovery and Negotiation Protocol for Autonomic Networking</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                 draft-carpenter-anima-gdn-protocol-0<span class="delete">3</span></td><td> </td><td class="rblock">                 draft-carpenter-anima-gdn-protocol-0<span class="insert">4</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Abstract</td><td> </td><td class="right">Abstract</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   This document establishes requirements for a protocol that enables</td><td> </td><td class="rblock">   This document establishes requirements for a <span class="insert">signaling</span> protocol that</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">intelligent</span> devices to dynamically discover <span class="delete">peer devices,</span> to</td><td> </td><td class="rblock">   enables <span class="insert">autonomic</span> devices <span class="insert">and autonomic service agents</span> to dynamically</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   synchronize state with them, and to negotiate parameter settings</td><td> </td><td class="rblock">   discover <span class="insert">peers,</span> to synchronize state with them, and to negotiate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   mutually with them.  The document then defines a general protocol for</td><td> </td><td class="rblock">   parameter settings mutually with them.  The document then defines a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   discovery, synchronization and negotiation, while the technical</td><td> </td><td class="rblock">   general protocol for discovery, synchronization and negotiation,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   objectives for specific scenarios are to be described in separate</td><td> </td><td class="rblock">   while the technical objectives for specific scenarios are to be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   documents.  An Appendix briefly discusses existing protocols with</td><td> </td><td class="rblock">   described in separate documents.  An Appendix briefly discusses</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   comparable features.</td><td> </td><td class="rblock">   existing protocols with comparable features.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Status of This Memo</td><td> </td><td class="right">Status of This Memo</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This Internet-Draft is submitted in full conformance with the</td><td> </td><td class="right">   This Internet-Draft is submitted in full conformance with the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   provisions of BCP 78 and BCP 79.</td><td> </td><td class="right">   provisions of BCP 78 and BCP 79.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Internet-Drafts are working documents of the Internet Engineering</td><td> </td><td class="right">   Internet-Drafts are working documents of the Internet Engineering</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Task Force (IETF).  Note that other groups may also distribute</td><td> </td><td class="right">   Task Force (IETF).  Note that other groups may also distribute</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   working documents as Internet-Drafts.  The list of current Internet-</td><td> </td><td class="right">   working documents as Internet-Drafts.  The list of current Internet-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Drafts is at http://datatracker.ietf.org/drafts/current/.</td><td> </td><td class="right">   Drafts is at http://datatracker.ietf.org/drafts/current/.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Internet-Drafts are draft documents valid for a maximum of six months</td><td> </td><td class="right">   Internet-Drafts are draft documents valid for a maximum of six months</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   and may be updated, replaced, or obsoleted by other documents at any</td><td> </td><td class="right">   and may be updated, replaced, or obsoleted by other documents at any</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   time.  It is inappropriate to use Internet-Drafts as reference</td><td> </td><td class="right">   time.  It is inappropriate to use Internet-Drafts as reference</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   material or to cite them other than as "work in progress."</td><td> </td><td class="right">   material or to cite them other than as "work in progress."</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   This Internet-Draft will expire on <span class="delete">October 22</span>, 2015.</td><td> </td><td class="rblock">   This Internet-Draft will expire on <span class="insert">November 18</span>, 2015.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Copyright Notice</td><td> </td><td class="right">Copyright Notice</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Copyright (c) 2015 IETF Trust and the persons identified as the</td><td> </td><td class="right">   Copyright (c) 2015 IETF Trust and the persons identified as the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   document authors.  All rights reserved.</td><td> </td><td class="right">   document authors.  All rights reserved.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This document is subject to BCP 78 and the IETF Trust's Legal</td><td> </td><td class="right">   This document is subject to BCP 78 and the IETF Trust's Legal</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Provisions Relating to IETF Documents</td><td> </td><td class="right">   Provisions Relating to IETF Documents</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   (http://trustee.ietf.org/license-info) in effect on the date of</td><td> </td><td class="right">   (http://trustee.ietf.org/license-info) in effect on the date of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   publication of this document.  Please review these documents</td><td> </td><td class="right">   publication of this document.  Please review these documents</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> page 2, line 20</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> page 2, line 20</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3</td><td> </td><td class="right">   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   2.  Requirement Analysis of Discovery, Synchronization and</td><td> </td><td class="right">   2.  Requirement Analysis of Discovery, Synchronization and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Negotiation . . . . . . . . . . . . . . . . . . . . . . . . .   4</td><td> </td><td class="right">       Negotiation . . . . . . . . . . . . . . . . . . . . . . . . .   4</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     2.1.  Requirements for Discovery  . . . . . . . . . . . . . . .   4</td><td> </td><td class="right">     2.1.  Requirements for Discovery  . . . . . . . . . . . . . . .   4</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     2.2.  Requirements for Synchronization and Negotiation</td><td> </td><td class="right">     2.2.  Requirements for Synchronization and Negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           Capability  . . . . . . . . . . . . . . . . . . . . . . .   5</td><td> </td><td class="right">           Capability  . . . . . . . . . . . . . . . . . . . . . . .   5</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     2.3.  Specific Technical Requirements . . . . . . . . . . . . .   7</td><td> </td><td class="right">     2.3.  Specific Technical Requirements . . . . . . . . . . . . .   7</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   3.  GDNP Protocol Overview  . . . . . . . . . . . . . . . . . . .   8</td><td> </td><td class="right">   3.  GDNP Protocol Overview  . . . . . . . . . . . . . . . . . . .   8</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     3.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   8</td><td> </td><td class="right">     3.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   8</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     3.2.  High-Level Design Choices . . . . . . . . . . . . . . . .   <span class="delete">9</span></td><td> </td><td class="rblock">     3.2.  High-Level Design Choices . . . . . . . . . . . . . . . .  <span class="insert">10</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     3.3.  GDNP Protocol Basic Properties and Mechanisms . . . . . .  <span class="delete">13</span></td><td> </td><td class="rblock">     3.3.  GDNP Protocol Basic Properties and Mechanisms . . . . . .  <span class="insert">14</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.3.1.  Required External Security Mechanism  . . . . . . . .  <span class="delete">13</span></td><td> </td><td class="rblock">       3.3.1.  Required External Security Mechanism  . . . . . . . .  <span class="insert">14</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.3.2.  Transport Layer Usage . . . . . . . . . . . . . . . .  <span class="delete">13</span></td><td> </td><td class="rblock">       3.3.2.  Transport Layer Usage . . . . . . . . . . . . . . . .  <span class="insert">14</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.3.3.  Discovery Mechanism and Procedures  . . . . . . . . .  <span class="delete">13</span></td><td> </td><td class="rblock">       3.3.3.  Discovery Mechanism and Procedures  . . . . . . . . .  <span class="insert">14</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.3.4.  Negotiation Procedures  . . . . . . . . . . . . . . .  <span class="delete">15</span></td><td> </td><td class="rblock">       3.3.4.  Negotiation Procedures  . . . . . . . . . . . . . . .  <span class="insert">16</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.3.5.  Synchronization Procedure . . . . . . . . . . . . . .  <span class="delete">16</span></td><td> </td><td class="rblock">       3.3.5.  Synchronization Procedure . . . . . . . . . . . . . .  <span class="insert">17</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     3.4.  GDNP Constants  . . . . . . . . . . . . . . . . . . . . .  <span class="delete">17</span></td><td> </td><td class="rblock">     3.4.  GDNP Constants  . . . . . . . . . . . . . . . . . . . . .  <span class="insert">18</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     3.5.  Session Identifier (Session ID) . . . . . . . . . . . . .  <span class="delete">17</span></td><td> </td><td class="rblock">     3.5.  Session Identifier (Session ID) . . . . . . . . . . . . .  <span class="insert">19</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     3.6.  GDNP Messages . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">18</span></td><td> </td><td class="rblock">     3.6.  GDNP Messages . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">19</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.6.1.  GDNP Message Format . . . . . . . . . . . . . . . . .  <span class="delete">18</span></td><td> </td><td class="rblock">       3.6.1.  GDNP Message Format . . . . . . . . . . . . . . . . .  <span class="insert">19</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.6.2.  Discovery Message . . . . . . . . . . . . . . . . . .  <span class="delete">19</span></td><td> </td><td class="rblock">       3.6.2.  Discovery Message . . . . . . . . . . . . . . . . . .  <span class="insert">20</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.6.3.  Response Message  . . . . . . . . . . . . . . . . . .  <span class="delete">19</span></td><td> </td><td class="rblock">       3.6.3.  Response Message  . . . . . . . . . . . . . . . . . .  <span class="insert">20</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.6.4.  Request Message . . . . . . . . . . . . . . . . . . .  <span class="delete">20</span></td><td> </td><td class="rblock">       3.6.4.  Request Message . . . . . . . . . . . . . . . . . . .  <span class="insert">21</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.6.5.  Negotiation Message . . . . . . . . . . . . . . . . .  <span class="delete">20</span></td><td> </td><td class="rblock">       3.6.5.  Negotiation Message . . . . . . . . . . . . . . . . .  <span class="insert">21</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.6.6.  Negotiation-ending Message  . . . . . . . . . . . . .  <span class="delete">21</span></td><td> </td><td class="rblock">       3.6.6.  Negotiation-ending Message  . . . . . . . . . . . . .  <span class="insert">22</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.6.7.  Confirm-waiting Message . . . . . . . . . . . . . . .  <span class="delete">21</span></td><td> </td><td class="rblock">       3.6.7.  Confirm-waiting Message . . . . . . . . . . . . . . .  <span class="insert">22</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     3.7.  GDNP General Options  . . . . . . . . . . . . . . . . . .  <span class="delete">21</span></td><td> </td><td class="rblock">     3.7.  GDNP General Options  . . . . . . . . . . . . . . . . . .  <span class="insert">22</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.7.1.  Format of GDNP Options  . . . . . . . . . . . . . . .  <span class="delete">21</span></td><td> </td><td class="rblock">       3.7.1.  Format of GDNP Options  . . . . . . . . . . . . . . .  <span class="insert">22</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.7.2.  Divert Option . . . . . . . . . . . . . . . . . . . .  <span class="delete">22</span></td><td> </td><td class="rblock">       3.7.2.  Divert Option . . . . . . . . . . . . . . . . . . . .  <span class="insert">23</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.7.3.  Accept Option . . . . . . . . . . . . . . . . . . . .  <span class="delete">22</span></td><td> </td><td class="rblock">       3.7.3.  Accept Option . . . . . . . . . . . . . . . . . . . .  <span class="insert">23</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.7.4.  Decline Option  . . . . . . . . . . . . . . . . . . .  <span class="delete">23</span></td><td> </td><td class="rblock">       3.7.4.  Decline Option  . . . . . . . . . . . . . . . . . . .  <span class="insert">24</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.7.5.  Waiting Time Option . . . . . . . . . . . . . . . . .  <span class="delete">23</span></td><td> </td><td class="rblock">       3.7.5.  Waiting Time Option . . . . . . . . . . . . . . . . .  <span class="insert">24</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.7.6.  Device Identity Option  . . . . . . . . . . . . . . .  <span class="delete">24</span></td><td> </td><td class="rblock">       3.7.6.  Device Identity Option  . . . . . . . . . . . . . . .  <span class="insert">25</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.7.7.  Locator Options . . . . . . . . . . . . . . . . . . .  <span class="delete">24</span></td><td> </td><td class="rblock">       3.7.7.  Locator Options . . . . . . . . . . . . . . . . . . .  <span class="insert">25</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     3.8.  Objective Options . . . . . . . . . . . . . . . . . . . .  <span class="delete">26</span></td><td> </td><td class="rblock">     3.8.  Objective Options . . . . . . . . . . . . . . . . . . . .  <span class="insert">27</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.8.1.  Format of Objective Options . . . . . . . . . . . . .  <span class="delete">26</span></td><td> </td><td class="rblock">       3.8.1.  Format of Objective Options . . . . . . . . . . . . .  <span class="insert">27</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.8.2.  General Considerations for Objective Options  . . . .  <span class="delete">27</span></td><td> </td><td class="rblock">       3.8.2.  General Considerations for Objective Options  . . . .  <span class="insert">28</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.8.3.  Organizing of Objective Options . . . . . . . . . . .  <span class="delete">27</span></td><td> </td><td class="rblock">       3.8.3.  Organizing of Objective Options . . . . . . . . . . .  <span class="insert">29</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.8.4.  Vendor Specific Objective Options . . . . . . . . . .  <span class="delete">28</span></td><td> </td><td class="rblock">       3.8.4.  Vendor Specific Objective Options . . . . . . . . . .  <span class="insert">29</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.8.5.  Experimental Objective Options  . . . . . . . . . . .  <span class="delete">29</span></td><td> </td><td class="rblock">       3.8.5.  Experimental Objective Options  . . . . . . . . . . .  <span class="insert">30</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   4.  Items for Future Work . . . . . . . . . . . . . . . . . . . .  <span class="delete">29</span></td><td> </td><td class="rblock">   4.  Items for Future Work . . . . . . . . . . . . . . . . . . . .  <span class="insert">31</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   5.  Security Considerations . . . . . . . . . . . . . . . . . . .  <span class="delete">30</span></td><td> </td><td class="rblock">   5.  Security Considerations . . . . . . . . . . . . . . . . . . .  <span class="insert">31</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <span class="delete">31</span></td><td> </td><td class="rblock">   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <span class="insert">33</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">33</span></td><td> </td><td class="rblock">   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">34</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   8.  Change log [RFC Editor: Please remove]  . . . . . . . . . . .  <span class="delete">33</span></td><td> </td><td class="rblock">   8.  Change log [RFC Editor: Please remove]  . . . . . . . . . . .  <span class="insert">35</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">34</span></td><td> </td><td class="rblock">   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">36</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     9.1.  Normative References  . . . . . . . . . . . . . . . . . .  <span class="delete">34</span></td><td> </td><td class="rblock">     9.1.  Normative References  . . . . . . . . . . . . . . . . . .  <span class="insert">36</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     9.2.  Informative References  . . . . . . . . . . . . . . . . .  <span class="delete">35</span></td><td> </td><td class="rblock">     9.2.  Informative References  . . . . . . . . . . . . . . . . .  <span class="insert">36</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Appendix A.  Capability Analysis of Current Protocols . . . . . .  <span class="delete">37</span></td><td> </td><td class="rblock">   Appendix A.  Capability Analysis of Current Protocols . . . . . .  <span class="insert">39</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">40</span></td><td> </td><td class="rblock">   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">41</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">1.  Introduction</td><td> </td><td class="right">1.  Introduction</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The success of the Internet has made IP-based networks bigger and</td><td> </td><td class="right">   The success of the Internet has made IP-based networks bigger and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   more complicated.  Large-scale ISP and enterprise networks have</td><td> </td><td class="right">   more complicated.  Large-scale ISP and enterprise networks have</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   become more and more problematic for human based management.  Also,</td><td> </td><td class="right">   become more and more problematic for human based management.  Also,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   operational costs are growing quickly.  Consequently, there are</td><td> </td><td class="right">   operational costs are growing quickly.  Consequently, there are</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   increased requirements for autonomic behavior in the networks.</td><td> </td><td class="right">   increased requirements for autonomic behavior in the networks.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   General aspects of autonomic networks are discussed in</td><td> </td><td class="right">   General aspects of autonomic networks are discussed in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [I-D.irtf-nmrg-autonomic-network-definitions] and</td><td> </td><td class="right">   [I-D.irtf-nmrg-autonomic-network-definitions] and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [I-D.irtf-nmrg-an-gap-analysis].  In order to fulfil autonomy,</td><td> </td><td class="right">   [I-D.irtf-nmrg-an-gap-analysis].  In order to fulfil autonomy,</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   devices that embody autonomic service agents need to <span class="delete">be able to</span></td><td> </td><td class="rblock">   devices that embody autonomic service agents <span class="insert">have specific signaling</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   discover each other, to synchronize state with each other, and to</td><td> </td><td class="rblock"><span class="insert">   requirements.  In particular they</span> need to discover each other, to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   negotiate parameters and resources directly with each other.  There</td><td> </td><td class="rblock">   synchronize state with each other, and to negotiate parameters and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   is no restriction on the type of parameters and resources concerned,</td><td> </td><td class="rblock">   resources directly with each other.  There is no restriction on the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   which include very basic information needed for addressing and</td><td> </td><td class="rblock">   type of parameters and resources concerned, which include very basic</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   routing, as well as anything else that might be configured in a</td><td> </td><td class="rblock">   information needed for addressing and routing, as well as anything</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   conventional network.</td><td> </td><td class="rblock">   else that might be configured in a conventional network.  <span class="insert">The atomic</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   unit of synchronization or negotiation is referred to as an</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   objective, defined more precisely later in this document.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Following this Introduction, Section 2 describes the requirements for</td><td> </td><td class="right">   Following this Introduction, Section 2 describes the requirements for</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">network device</span> discovery, synchronization and negotiation.</td><td> </td><td class="rblock">   discovery, synchronization and negotiation.  Negotiation is an</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Negotiation is an iterative process, requiring multiple message</td><td> </td><td class="rblock">   iterative process, requiring multiple message exchanges forming a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   exchanges forming a closed loop between the negotiating devices.</td><td> </td><td class="rblock">   closed loop between the negotiating devices.  State synchronization,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   State synchronization, when needed, can be regarded as a special case</td><td> </td><td class="rblock">   when needed, can be regarded as a special case of negotiation,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   of negotiation, without iteration.  Section 3.2 describes a behavior</td><td> </td><td class="rblock">   without iteration.  Section 3.2 describes a behavior model for a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   model for a protocol intended to support discovery, synchronization</td><td> </td><td class="rblock">   protocol intended to support discovery, synchronization and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   and negotiation.  The design of Generic Discovery and Negotiation</td><td> </td><td class="rblock">   negotiation.  The design of Generic Discovery and Negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Protocol (GDNP) in Section 3 of this document is mainly based on this</td><td> </td><td class="right">   Protocol (GDNP) in Section 3 of this document is mainly based on this</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   behavior model.  The relevant capabilities of various existing</td><td> </td><td class="right">   behavior model.  The relevant capabilities of various existing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   protocols are reviewed in Appendix A.</td><td> </td><td class="right">   protocols are reviewed in Appendix A.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The proposed discovery mechanism is oriented towards synchronization</td><td> </td><td class="right">   The proposed discovery mechanism is oriented towards synchronization</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   and negotiation objectives.  It is based on a neighbor discovery</td><td> </td><td class="right">   and negotiation objectives.  It is based on a neighbor discovery</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   process, but also supports diversion to off-link peers.  Although</td><td> </td><td class="right">   process, but also supports diversion to off-link peers.  Although</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   many negotiations will occur between horizontally distributed peers,</td><td> </td><td class="right">   many negotiations will occur between horizontally distributed peers,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   many target scenarios are hierarchical networks, which is the</td><td> </td><td class="right">   many target scenarios are hierarchical networks, which is the</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   predominant structure of current large-scale networks.  However, when</td><td> </td><td class="rblock">   predominant structure of current large-scale <span class="insert">managed</span> networks.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   a device starts up with no pre-configuration, it has no knowledge of</td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">a hierarchical superior.</span>  The protocol itself is capable of being</td><td> </td><td class="rblock">   However, when a device starts up with no pre-configuration, it has no</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   knowledge of <span class="insert">the topology.</span>  The protocol itself is capable of being</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   used in a small and/or flat network structure such as a small office</td><td> </td><td class="right">   used in a small and/or flat network structure such as a small office</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   or home network as well as a professionally managed network.</td><td> </td><td class="right">   or home network as well as a professionally managed network.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Therefore, the discovery mechanism needs to be able to allow a device</td><td> </td><td class="right">   Therefore, the discovery mechanism needs to be able to allow a device</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   to bootstrap itself without making any prior assumptions about</td><td> </td><td class="right">   to bootstrap itself without making any prior assumptions about</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   network structure.</td><td> </td><td class="right">   network structure.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Because GDNP can be used to perform a decision process among</td><td> </td><td class="right">   Because GDNP can be used to perform a decision process among</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   distributed devices or between networks, it must run in a secure and</td><td> </td><td class="right">   distributed devices or between networks, it must run in a secure and</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   strongly authenticatd environment.</td><td> </td><td class="rblock">   strongly authenticat<span class="insert">e</span>d environment.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   It is understood that in realistic deployments, not all devices will</td><td> </td><td class="right">   It is understood that in realistic deployments, not all devices will</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   support GDNP.  It is expected that some autonomic service agents will</td><td> </td><td class="right">   support GDNP.  It is expected that some autonomic service agents will</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   manage a group of non-autonomic nodes, and that other <span class="delete">non-autonomic</span></td><td> </td><td class="rblock">   <span class="insert">directly</span> manage a group of non-autonomic nodes, and that other <span class="insert">non-</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   nodes will be managed traditionally.  Such mixed scenarios are not</td><td> </td><td class="rblock"><span class="insert">   autonomic</span> nodes will be managed traditionally.  Such mixed scenarios</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   discussed in this specification.</td><td> </td><td class="rblock">   are not discussed in this specification.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">2.  Requirement Analysis of Discovery, Synchronization and Negotiation</td><td> </td><td class="right">2.  Requirement Analysis of Discovery, Synchronization and Negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This section discusses the requirements for discovery, negotiation</td><td> </td><td class="right">   This section discusses the requirements for discovery, negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   and synchronization capabilities.</td><td> </td><td class="rblock">   and synchronization capabilities.  <span class="insert">The primary user of the protocol</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   is an autonomic service agent (ASA), so the requirements are mainly</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   expressed as the features needed by an ASA.  A single physical device</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   might contain several ASAs, and a single ASA might manage several</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   objectives.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">2.1.  Requirements for Discovery</td><td> </td><td class="right">2.1.  Requirements for Discovery</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   In an autonomic network we must assume that when a device starts up</td><td> </td><td class="right">   In an autonomic network we must assume that when a device starts up</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   it has no information about any peer devices, the network structure,</td><td> </td><td class="right">   it has no information about any peer devices, the network structure,</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   or what specific role it must play.  In some cases, when a new</td><td> </td><td class="rblock">   or what specific role it must play.  <span class="insert">The ASA(s) inside the device are</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   application session starts up within a device, the device may again</td><td> </td><td class="rblock"><span class="insert">   in the same situation.</span>  In some cases, when a new application session</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   lack information about relevant <span class="delete">peer devices.</span>  It might be necessary</td><td> </td><td class="rblock">   starts up within a device, the device <span class="insert">or ASA</span> may again lack</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   to set up resources on multiple other devices, coordinated and</td><td> </td><td class="rblock">   information about relevant <span class="insert">peers.</span>  It might be necessary to set up</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   matched to each other so that there is no wasted resource.  Security</td><td> </td><td class="rblock">   resources on multiple other devices, coordinated and matched to each</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   settings might also need updating to allow for the new device or</td><td> </td><td class="rblock">   other so that there is no wasted resource.  Security settings might</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   user.  Therefore a basic requirement is that there must be a</td><td> </td><td class="rblock">   also need updating to allow for the new device or user.  Therefore a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   mechanism by which <span class="delete">a device</span> can separately discover peer <span class="delete">devices</span> for</td><td> </td><td class="rblock">   basic requirement is that there must be a mechanism by which <span class="insert">an ASA</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   each of the technical objectives that it needs to manage.  Some</td><td> </td><td class="rblock">   can separately discover peer <span class="insert">ASAs</span> for each of the technical</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   objectives may only be significant on the local link, but others may</td><td> </td><td class="rblock">   objectives that it needs to manage.  Some objectives may only be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   be significant across the routed network and require off-link</td><td> </td><td class="rblock">   significant on the local link, but others may be significant across</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   operations.  Thus, the relevant <span class="delete">peer devices</span> might be immediate</td><td> </td><td class="rblock">   the routed network and require off-link operations.  Thus, the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   neighbors on the same layer 2 link or they might be more distant and</td><td> </td><td class="rblock">   relevant <span class="insert">peers</span> might be immediate neighbors on the same layer 2 link</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   only accessible via layer 3.  The mechanism must therefore support</td><td> </td><td class="rblock">   or they might be more distant and only accessible via layer 3.  The</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   both on-link discovery and off-link discovery of <span class="delete">peers</span> that support</td><td> </td><td class="rblock">   mechanism must therefore support both on-link discovery and off-link</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   specific technical objectives.</td><td> </td><td class="rblock">   discovery of <span class="insert">ASAs</span> that support specific technical objectives.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   The relevant peer<span class="delete"> device</span>s may be different for different technical</td><td> </td><td class="rblock">   The relevant peers may be different for different technical</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   objectives.  Therefore discovery needs to be repeated as often as</td><td> </td><td class="right">   objectives.  Therefore discovery needs to be repeated as often as</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   necessary to find peers capable of acting as counterparts for each</td><td> </td><td class="right">   necessary to find peers capable of acting as counterparts for each</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   objective that a discovery initiator needs to handle.  In many</td><td> </td><td class="right">   objective that a discovery initiator needs to handle.  In many</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   scenarios, the discovery process may be followed by a synchronization</td><td> </td><td class="right">   scenarios, the discovery process may be followed by a synchronization</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   or negotiation process.  Therefore, a discovery objective may be</td><td> </td><td class="right">   or negotiation process.  Therefore, a discovery objective may be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   associated with one or more synchronization or negotiation</td><td> </td><td class="right">   associated with one or more synchronization or negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   objectives.</td><td> </td><td class="right">   objectives.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   When a<span class="delete"> device</span> first starts up, it has no knowledge of the network</td><td> </td><td class="rblock">   When a<span class="insert">n ASA</span> first starts up, it has no knowledge of the network</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   structure.  Therefore the discovery process must be able to support</td><td> </td><td class="right">   structure.  Therefore the discovery process must be able to support</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   any network scenario, assuming only that the device concerned is</td><td> </td><td class="right">   any network scenario, assuming only that the device concerned is</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   bootstrapped from factory condition.</td><td> </td><td class="right">   bootstrapped from factory condition.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   In some networks, as mentioned above, there will be some hierarchical</td><td> </td><td class="right">   In some networks, as mentioned above, there will be some hierarchical</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   structure, at least for certain synchronization or negotiation</td><td> </td><td class="right">   structure, at least for certain synchronization or negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">objectives.  A special case of discovery</span> is <span class="delete">that each device</span> must <span class="delete">be</span></td><td> </td><td class="rblock">   <span class="insert">objectives, but this</span> is <span class="insert">unknown in advance.  The discovery protocol</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   able to discover its</span> hierarchical <span class="delete">superior for each such objective</span></td><td> </td><td class="rblock">   must <span class="insert">therefore operate regardless of</span> hierarchical <span class="insert">structure, which</span> is</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   that it</span> is <span class="delete">capable</span> of <span class="delete">handling.</span>  This is part of the more general</td><td> </td><td class="rblock">   <span class="insert">an attribute</span> of <span class="insert">individual objectives and not of the autonomic</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   requirement to discover off-link <span class="delete">devices.</span></td><td> </td><td class="rblock"><span class="insert">   network as a whole.</span>  This is part of the more general requirement to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   discover off-link <span class="insert">peers.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   During initialisation, a device must be able to establish mutual</td><td> </td><td class="right">   During initialisation, a device must be able to establish mutual</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   trust with the rest of the network and join an authentication</td><td> </td><td class="right">   trust with the rest of the network and join an authentication</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   mechanism.  Although this will inevitably start with a discovery</td><td> </td><td class="right">   mechanism.  Although this will inevitably start with a discovery</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   action, it is a special case precisely because trust is not yet</td><td> </td><td class="right">   action, it is a special case precisely because trust is not yet</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   established.  This topic is the subject of</td><td> </td><td class="right">   established.  This topic is the subject of</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [I-D.pritikin-anima-bootstrapping-keyinfra].  In addition, depending</td><td> </td><td class="rblock">   [I-D.pritikin-anima-bootstrapping-keyinfra].  <span class="insert">We require that once</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   on the type of network involved, discovery of other central functions</td><td> </td><td class="rblock"><span class="insert">   trust has been established for a device, all ASAs within the device</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   might be needed, such as the Network Operations Center (NOC)</td><td> </td><td class="rblock"><span class="insert">   inherit the device's credentials and are also trusted.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [I-D.eckert-anima-stable-connectivity].  GDNP must be capable of</td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   supporting such discovery during initialisation, as well as discovery</td><td> </td><td class="rblock">   In addition, depending on the type of network involved, discovery of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   during ongoing operation.</td><td> </td><td class="rblock">   other central functions might be needed, such as the Network</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   Operations Center (NOC) [I-D.eckert-anima-stable-connectivity].  GDNP</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   must be capable of supporting such discovery during initialisation,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   as well as discovery during ongoing operation.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">The discovery process must not generate excessive (multicast) traffic</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   and must take account of sleeping nodes in the case of a resource-</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   constrained network.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">2.2.  Requirements for Synchronization and Negotiation Capability</td><td> </td><td class="right">2.2.  Requirements for Synchronization and Negotiation Capability</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   We start by considering routing protocols, the closest approximation</td><td> </td><td class="right">   We start by considering routing protocols, the closest approximation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   to autonomic networking in widespread use.  Routing protocols use a</td><td> </td><td class="right">   to autonomic networking in widespread use.  Routing protocols use a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   largely autonomic model based on distributed devices that communicate</td><td> </td><td class="right">   largely autonomic model based on distributed devices that communicate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   repeatedly with each other.  However, routing is mainly based on one-</td><td> </td><td class="right">   repeatedly with each other.  However, routing is mainly based on one-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   way information synchronization (in either direction), rather than on</td><td> </td><td class="right">   way information synchronization (in either direction), rather than on</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   bi-directional negotiation.  The focus is reachability, so current</td><td> </td><td class="right">   bi-directional negotiation.  The focus is reachability, so current</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   routing protocols only consider simple link status, i.e., up or down,</td><td> </td><td class="right">   routing protocols only consider simple link status, i.e., up or down,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> page 6, line 18</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> page 6, line 32</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   devices can improve overall network performance.  It follows that a</td><td> </td><td class="right">   devices can improve overall network performance.  It follows that a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   requirement for the protocol is to be capable of running in any</td><td> </td><td class="right">   requirement for the protocol is to be capable of running in any</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   device that would otherwise need human intervention.</td><td> </td><td class="right">   device that would otherwise need human intervention.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Human intervention in large networks is often replaced by use of a</td><td> </td><td class="right">   Human intervention in large networks is often replaced by use of a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   top-down network management system (NMS).  It therefore follows that</td><td> </td><td class="right">   top-down network management system (NMS).  It therefore follows that</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   a requirement for the protocol is to be capable of running in any</td><td> </td><td class="right">   a requirement for the protocol is to be capable of running in any</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   device that would otherwise be managed by an NMS, and that it can co-</td><td> </td><td class="right">   device that would otherwise be managed by an NMS, and that it can co-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   exist with an NMS.</td><td> </td><td class="right">   exist with an NMS.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">Since the goal is to minimize human intervention, it is necessary</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   that the network can in effect "think ahead" before changing its</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   parameters.  In other words there must be a possibility of</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   forecasting the effect of a change by a "dry run" mechanism before</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   actually installing the change.  This will be an application of the</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   protocol rather than a feature of the protocol itself.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                         </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Status information and traffic metrics need to be shared between</td><td> </td><td class="right">   Status information and traffic metrics need to be shared between</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   nodes for dynamic adjustment of resources and for monitoring</td><td> </td><td class="right">   nodes for dynamic adjustment of resources and for monitoring</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   purposes.  While this might be achieved by existing protocols when</td><td> </td><td class="right">   purposes.  While this might be achieved by existing protocols when</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   they are available, the new protocol needs to be able to support</td><td> </td><td class="right">   they are available, the new protocol needs to be able to support</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   parameter exchange, including mutual synchronization, even when no</td><td> </td><td class="right">   parameter exchange, including mutual synchronization, even when no</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   negotiation as such is required.</td><td> </td><td class="right">   negotiation as such is required.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">Recovery from faults and identification of faulty devices should be</span></td><td> </td><td class="rblock">   <span class="insert">Some features are expected</span> to <span class="insert">be implemented by individual ASAs, but</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   as automatic as possible.  However, the protocol's role is limited</span> to</td><td> </td><td class="rblock">   the <span class="insert">protocol must be general enough</span> to <span class="insert">allow them:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   the <span class="delete">ability</span> to <span class="delete">handle discovery, synchronization and negotiation at</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   any time, in case an autonomic service agent detects an anomaly such</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   as a negotiation counterpart failing.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Management logging, monitoring, alerts and tools for intervention are</td><td> </td><td class="rblock">      <span class="insert">It might happen that multiple ASAs attempt to manage the same</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   required.  However, these can only be features of individual</td><td> </td><td class="rblock"><span class="insert">      resource, leading to a need for conflict resolution.  In such a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">autonomic service agents.</span>  Another document</td><td> </td><td class="rblock"><span class="insert">      case, the protocol's role is limited to signaling between ASAs.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [I-D.eckert-anima-stable-connectivity] discusses how such agents may</td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   be linked into conventional OAM systems via an Autonomic Control</td><td> </td><td class="rblock"><span class="insert">      Recovery from faults and identification of faulty devices should</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Plane [I-D.behringer-anima-autonomic-control-plane].</td><td> </td><td class="rblock"><span class="insert">      be as automatic as possible.  The protocol's role is limited to</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      the ability to handle discovery, synchronization and negotiation</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      at any time, in case an ASA detects an anomaly such as a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      negotiation counterpart failing.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      Since the goal is to minimize human intervention, it is necessary</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      that the network can in effect "think ahead" before changing its</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      parameters.  In other words there must be a possibility of</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      forecasting the effect of a change by a "dry run" mechanism before</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      actually installing the change.  This will be an application of</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      the protocol rather than a feature of the protocol itself.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">      Management logging, monitoring, alerts and tools for intervention</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">      are required.  However, these can only be features of individual</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">      <span class="insert">ASAs.</span>  Another document [I-D.eckert-anima-stable-connectivity]</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">      discusses how such agents may be linked into conventional OAM</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">      systems via an Autonomic Control Plane</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">      [I-D.behringer-anima-autonomic-control-plane].</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The protocol needs to be able to deal with a wide variety of</td><td> </td><td class="right">   The protocol needs to be able to deal with a wide variety of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   technical objectives, covering any type of network parameter.</td><td> </td><td class="right">   technical objectives, covering any type of network parameter.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Therefore the protocol will need either an explicit information model</td><td> </td><td class="right">   Therefore the protocol will need either an explicit information model</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   describing its messages, or at least a flexible and extensible</td><td> </td><td class="right">   describing its messages, or at least a flexible and extensible</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   message format.  One design consideration is whether to adopt an</td><td> </td><td class="right">   message format.  One design consideration is whether to adopt an</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   existing information model or to design a new one.  Another</td><td> </td><td class="right">   existing information model or to design a new one.  Another</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   consideration is whether it should be able to carry some or all of</td><td> </td><td class="right">   consideration is whether it should be able to carry some or all of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the message formats used by existing configuration protocols.</td><td> </td><td class="right">   the message formats used by existing configuration protocols.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">The negotiation process must be guaranteed to terminate (with success</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   or failure) and if necessary it must contain tie-breaking rules for</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   each technical objective that requires them.  While this must be</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   defined specifically for each use case, the protocol should have some</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   general mechanisms in support of loop and deadlock prevention.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">2.3.  Specific Technical Requirements</td><td> </td><td class="right">2.3.  Specific Technical Requirements</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   To be a generic platform, the protocol payload format should be</td><td> </td><td class="right">   To be a generic platform, the protocol payload format should be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   independent of the transport protocol or IP version.  In particular,</td><td> </td><td class="right">   independent of the transport protocol or IP version.  In particular,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   it should be able to run over IPv6 or IPv4.  However, some functions,</td><td> </td><td class="right">   it should be able to run over IPv6 or IPv4.  However, some functions,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   such as multicasting or broadcasting on a link, might need to be IP</td><td> </td><td class="right">   such as multicasting or broadcasting on a link, might need to be IP</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   version dependent.  In case of doubt, IPv6 should be preferred.</td><td> </td><td class="right">   version dependent.  In case of doubt, IPv6 should be preferred.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The protocol must be able to access off-link counterparts via</td><td> </td><td class="right">   The protocol must be able to access off-link counterparts via</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   routable addresses, i.e., must not be restricted to link-local</td><td> </td><td class="right">   routable addresses, i.e., must not be restricted to link-local</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   operation.</td><td> </td><td class="right">   operation.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">The</span> negotiation <span class="delete">process must be guaranteed to terminate (with success</span></td><td> </td><td class="rblock">   <span class="insert">Following discovery, an ASA will normally perform</span> negotiation or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   or <span class="delete">failure)</span> and <span class="delete">if necessary</span> it must <span class="delete">contain tie-breaking rules</span> for</td><td> </td><td class="rblock">   <span class="insert">synchronization for the corresponding objectives.  The design should</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">each technical objective that requires them.  While this must</span> be</td><td> </td><td class="rblock"><span class="insert">   allow for this</span> and <span class="insert">may provide an optional mechanism to combine</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   defined <span class="delete">specifically</span> for <span class="delete">each use case, the protocol should have some</span></td><td> </td><td class="rblock"><span class="insert">   discovery and negotiation/synchronization in a single call.  However,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   general mechanisms in support of loop and deadlock prevention.</span></td><td> </td><td class="rblock">   it must <span class="insert">also be possible</span> for <span class="insert">an external discovery mechanism to</span> be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">used, if so</span> defined for <span class="insert">a given objective.  In other words, GDNP</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   discovery must not be a prerequisite for GDNP negotiation or</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   synchronization.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Dependencies and conflicts: In order to decide a configuration on a</td><td> </td><td class="right">   Dependencies and conflicts: In order to decide a configuration on a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   given device, the device may need information from neighbors.  This</td><td> </td><td class="right">   given device, the device may need information from neighbors.  This</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   can be established through the negotiation procedure, or through</td><td> </td><td class="right">   can be established through the negotiation procedure, or through</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   synchronization if that is sufficient.  However, a given item in a</td><td> </td><td class="right">   synchronization if that is sufficient.  However, a given item in a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   neighbor may depend on other information from its own neighbors,</td><td> </td><td class="right">   neighbor may depend on other information from its own neighbors,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   which may need another negotiation or synchronization procedure to</td><td> </td><td class="right">   which may need another negotiation or synchronization procedure to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   obtain or decide.  Therefore, there are potential dependencies and</td><td> </td><td class="right">   obtain or decide.  Therefore, there are potential dependencies and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   conflicts among negotiation or synchronization procedures.  Resolving</td><td> </td><td class="right">   conflicts among negotiation or synchronization procedures.  Resolving</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   dependencies and conflicts is a matter for the individual <span class="delete">autonomic</span></td><td> </td><td class="rblock">   dependencies and conflicts is a matter for the individual <span class="insert">ASAs</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   service agents</span> involved.  To allow this, there need to be clear</td><td> </td><td class="rblock">   involved.  To allow this, there need to be clear boundaries and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   boundaries and convergence mechanisms for negotiations.  Also some</td><td> </td><td class="rblock">   convergence mechanisms for negotiations.  Also some mechanisms are</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   mechanisms are needed to avoid loop dependencies.</td><td> </td><td class="rblock">   needed to avoid loop dependencies.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Policy constraints: There must be provision for general policy intent</td><td> </td><td class="right">   Policy constraints: There must be provision for general policy intent</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   rules to be applied by all devices in the network (e.g., security</td><td> </td><td class="right">   rules to be applied by all devices in the network (e.g., security</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   rules, prefix length, resource sharing rules).  However, policy</td><td> </td><td class="right">   rules, prefix length, resource sharing rules).  However, policy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   intent distribution might not use the negotiation protocol itself.</td><td> </td><td class="right">   intent distribution might not use the negotiation protocol itself.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Management monitoring, alerts and intervention: Devices should be</td><td> </td><td class="right">   Management monitoring, alerts and intervention: Devices should be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   able to report to a monitoring system.  Some events must be able to</td><td> </td><td class="right">   able to report to a monitoring system.  Some events must be able to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   generate operator alerts and some provision for emergency</td><td> </td><td class="right">   generate operator alerts and some provision for emergency</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   intervention must be possible (e.g.  to freeze synchronization or</td><td> </td><td class="right">   intervention must be possible (e.g.  to freeze synchronization or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> page 8, line 7</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> page 8, line 40</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the negotiation protocol itself.</td><td> </td><td class="right">   the negotiation protocol itself.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The protocol needs to be fully secure against forged messages and</td><td> </td><td class="right">   The protocol needs to be fully secure against forged messages and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   man-in-the middle attacks, and as secure as reasonably possible</td><td> </td><td class="right">   man-in-the middle attacks, and as secure as reasonably possible</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   against denial of service attacks.  It needs to be capable of</td><td> </td><td class="right">   against denial of service attacks.  It needs to be capable of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   encryption in order to resist unwanted monitoring, although this</td><td> </td><td class="right">   encryption in order to resist unwanted monitoring, although this</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   capability may not be required in all deployments.  However, it is</td><td> </td><td class="right">   capability may not be required in all deployments.  However, it is</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   not required that the protocol itself provides these security</td><td> </td><td class="right">   not required that the protocol itself provides these security</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   features; it may depend on an existing secure environment.</td><td> </td><td class="right">   features; it may depend on an existing secure environment.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">ASAs and the protocol engine need to run asynchronously when wait</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   states occur.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.  GDNP Protocol Overview</td><td> </td><td class="right">3.  GDNP Protocol Overview</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.1.  Terminology</td><td> </td><td class="right">3.1.  Terminology</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",</td><td> </td><td class="right">   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and</td><td> </td><td class="right">   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   "OPTIONAL" in this document are to be interpreted as described in</td><td> </td><td class="right">   "OPTIONAL" in this document are to be interpreted as described in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [RFC2119] when they appear in ALL CAPS.  When these words are not in</td><td> </td><td class="right">   [RFC2119] when they appear in ALL CAPS.  When these words are not in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   ALL CAPS (such as "should" or "Should"), they have their usual</td><td> </td><td class="right">   ALL CAPS (such as "should" or "Should"), they have their usual</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   English meanings, and are not to be interpreted as [RFC2119] key</td><td> </td><td class="right">   English meanings, and are not to be interpreted as [RFC2119] key</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   words.</td><td> </td><td class="right">   words.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This document uses terminology defined in</td><td> </td><td class="right">   This document uses terminology defined in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [I-D.irtf-nmrg-autonomic-network-definitions].</td><td> </td><td class="right">   [I-D.irtf-nmrg-autonomic-network-definitions].</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The following additional terms are used throughout this document:</td><td> </td><td class="right">   The following additional terms are used throughout this document:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   o  Discovery: a process by which <span class="delete">a device</span> discovers <span class="delete">peer devices</span></td><td> </td><td class="rblock">   o  Discovery: a process by which <span class="insert">an ASA</span> discovers <span class="insert">peers</span> according to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      according to a specific discovery objective.  The discovery</td><td> </td><td class="rblock">      a specific discovery objective.  The discovery results may be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      results may be different according to the different discovery</td><td> </td><td class="rblock">      different according to the different discovery objectives.  The</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      objectives.  The discovered <span class="delete">peer devices</span> may later be used as</td><td> </td><td class="rblock">      discovered <span class="insert">peers</span> may later be used as negotiation counterparts or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      negotiation counterparts or as sources of synchronization data.</td><td> </td><td class="rblock">      as sources of synchronization data.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   o  Negotiation: a process by which two (or more) <span class="delete">device</span>s interact</td><td> </td><td class="rblock">   o  Negotiation: a process by which two (or more) <span class="insert">ASA</span>s interact</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      iteratively to agree on parameter settings that best satisfy the</td><td> </td><td class="right">      iteratively to agree on parameter settings that best satisfy the</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      objectives of one or more <span class="delete">device</span>s.</td><td> </td><td class="rblock">      objectives of one or more <span class="insert">ASA</span>s.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   o  State Synchronization: a process by which two (or more) <span class="delete">device</span>s</td><td> </td><td class="rblock">   o  State Synchronization: a process by which two (or more) <span class="insert">ASA</span>s</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      interact to agree on the current state of parameter values stored</td><td> </td><td class="right">      interact to agree on the current state of parameter values stored</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      in each <span class="delete">device.</span>  This is a special case of negotiation in which</td><td> </td><td class="rblock">      in each <span class="insert">ASA.</span>  This is a special case of negotiation in which</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      information is sent but the <span class="delete">devices</span> do not request their peers to</td><td> </td><td class="rblock">      information is sent but the <span class="insert">ASAs</span> do not request their peers to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      change parameter settings.  All other definitions apply to both</td><td> </td><td class="right">      change parameter settings.  All other definitions apply to both</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      negotiation and synchronization.</td><td> </td><td class="right">      negotiation and synchronization.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  Objective: An objective in GDNP is a configurable state of some</td><td> </td><td class="right">   o  Objective: An objective in GDNP is a configurable state of some</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      kind, which occurs in three contexts: Discovery, Negotiation and</td><td> </td><td class="right">      kind, which occurs in three contexts: Discovery, Negotiation and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      Synchronization.  In the protocol, an objective is represented by</td><td> </td><td class="right">      Synchronization.  In the protocol, an objective is represented by</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      an identifier (actually a GDNP option number) and if relevant a</td><td> </td><td class="right">      an identifier (actually a GDNP option number) and if relevant a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      value.  Normally, a given objective will occur during discovery</td><td> </td><td class="right">      value.  Normally, a given objective will occur during discovery</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      and negotiation, or during discovery and synchronization, but not</td><td> </td><td class="right">      and negotiation, or during discovery and synchronization, but not</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      in all three contexts.</td><td> </td><td class="right">      in all three contexts.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0029" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      *  One <span class="delete">device</span> may support multiple independent objectives.</td><td> </td><td class="rblock">      *  One <span class="insert">ASA</span> may support multiple independent objectives.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      *  The parameter described by a given objective is naturally based</td><td> </td><td class="right">      *  The parameter described by a given objective is naturally based</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         on a specific service or function or action.  It may in</td><td> </td><td class="right">         on a specific service or function or action.  It may in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         principle be anything that can be set to a specific logical,</td><td> </td><td class="right">         principle be anything that can be set to a specific logical,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         numerical or string value, or a more complex data structure, by</td><td> </td><td class="right">         numerical or string value, or a more complex data structure, by</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0030" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         a network node.  That node is generally expected to <span class="delete">be</span> an</td><td> </td><td class="rblock">         a network node.  That node is generally expected to <span class="insert">contain</span> an</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         <span class="delete">autonomic service agent</span> which may itself manage other nodes.</td><td> </td><td class="rblock">         <span class="insert">ASA</span> which may itself manage other nodes.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      *  Discovery Objective: if a node needs to synchronize or</td><td> </td><td class="right">      *  Discovery Objective: if a node needs to synchronize or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         negotiate a specific objective but does not know a peer that</td><td> </td><td class="right">         negotiate a specific objective but does not know a peer that</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         supports this objective, it starts a discovery process.  The</td><td> </td><td class="right">         supports this objective, it starts a discovery process.  The</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         objective is called a Discovery Objective during this process.</td><td> </td><td class="right">         objective is called a Discovery Objective during this process.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      *  Synchronization Objective: an objective whose specific</td><td> </td><td class="right">      *  Synchronization Objective: an objective whose specific</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         technical content needs to be synchronized among two or more</td><td> </td><td class="right">         technical content needs to be synchronized among two or more</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0031" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         <span class="delete">device</span>s.</td><td> </td><td class="rblock">         <span class="insert">ASA</span>s.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      *  Negotiation Objective: an objective whose specific technical</td><td> </td><td class="right">      *  Negotiation Objective: an objective whose specific technical</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0032" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         content needs to be decided in coordination with another</td><td> </td><td class="rblock">         content needs to be decided in coordination with another <span class="insert">ASA.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         <span class="delete">network device.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0033" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   o  Discovery Initiator: <span class="delete">a device</span> that spontaneously starts discovery</td><td> </td><td class="rblock">   o  Discovery Initiator: <span class="insert">an ASA</span> that spontaneously starts discovery by</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      by sending a discovery message referring to a specific discovery</td><td> </td><td class="rblock">      sending a discovery message referring to a specific discovery</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      objective.</td><td> </td><td class="right">      objective.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0034" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   o  Discovery Responder: a peer <span class="delete">device</span> which responds to the discovery</td><td> </td><td class="rblock">   o  Discovery Responder: a peer <span class="insert">ASA</span> which responds to the discovery</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      objective initiated by the discovery initiator.</td><td> </td><td class="right">      objective initiated by the discovery initiator.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0035" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   o  Synchronization Initiator: a<span class="delete"> device</span> that spontaneously starts</td><td> </td><td class="rblock">   o  Synchronization Initiator: a<span class="insert">n ASA</span> that spontaneously starts</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      synchronization by sending a request message referring to a</td><td> </td><td class="right">      synchronization by sending a request message referring to a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      specific synchronization objective.</td><td> </td><td class="right">      specific synchronization objective.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0036" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   o  Synchronization Responder: a peer <span class="delete">device</span> which responds with the</td><td> </td><td class="rblock">   o  Synchronization Responder: a peer <span class="insert">ASA</span> which responds with the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      value of a synchronization objective.</td><td> </td><td class="right">      value of a synchronization objective.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0037" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   o  Negotiation Initiator: a<span class="delete"> device</span> that spontaneously starts</td><td> </td><td class="rblock">   o  Negotiation Initiator: a<span class="insert">n ASA</span> that spontaneously starts</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      negotiation by sending a request message referring to a specific</td><td> </td><td class="right">      negotiation by sending a request message referring to a specific</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      negotiation objective.</td><td> </td><td class="right">      negotiation objective.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0038" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   o  Negotiation Counterpart: a peer <span class="delete">device </span>with which the Negotiation</td><td> </td><td class="rblock">   o  Negotiation Counterpart: a peer with which the Negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      Initiator negotiates a specific negotiation objective.</td><td> </td><td class="right">      Initiator negotiates a specific negotiation objective.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.2.  High-Level Design Choices</td><td> </td><td class="right">3.2.  High-Level Design Choices</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This section describes a behavior model and some considerations for</td><td> </td><td class="right">   This section describes a behavior model and some considerations for</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   designing a generic discovery, synchronization and negotiation</td><td> </td><td class="right">   designing a generic discovery, synchronization and negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   protocol, which can act as a platform for different technical</td><td> </td><td class="right">   protocol, which can act as a platform for different technical</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   objectives.</td><td> </td><td class="right">   objectives.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   NOTE: This protocol is described here in a stand-alone fashion as a</td><td> </td><td class="right">   NOTE: This protocol is described here in a stand-alone fashion as a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> page 10, line 31</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> page 11, line 18</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  Security infrastructure and trust relationship</td><td> </td><td class="right">   o  Security infrastructure and trust relationship</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      Because this negotiation protocol may directly cause changes to</td><td> </td><td class="right">      Because this negotiation protocol may directly cause changes to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      device configurations and bring significant impacts to a running</td><td> </td><td class="right">      device configurations and bring significant impacts to a running</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      network, this protocol is assumed to run within an existing secure</td><td> </td><td class="right">      network, this protocol is assumed to run within an existing secure</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      environment with strong authentication.</td><td> </td><td class="right">      environment with strong authentication.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      On the other hand, a limited negotiation model might be deployed</td><td> </td><td class="right">      On the other hand, a limited negotiation model might be deployed</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      based on a limited trust relationship.  For example, between two</td><td> </td><td class="right">      based on a limited trust relationship.  For example, between two</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0039" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      administrative domains, <span class="delete">device</span>s might also exchange limited</td><td> </td><td class="rblock">      administrative domains, <span class="insert">ASA</span>s might also exchange limited</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      information and negotiate some particular configurations based on</td><td> </td><td class="right">      information and negotiate some particular configurations based on</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      a limited conventional or contractual trust relationship.</td><td> </td><td class="right">      a limited conventional or contractual trust relationship.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  Discovery, synchronization and negotiation designed together</td><td> </td><td class="right">   o  Discovery, synchronization and negotiation designed together</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      The discovery method and the synchronization and negotiation</td><td> </td><td class="right">      The discovery method and the synchronization and negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      methods are designed in the same way and can be combined when this</td><td> </td><td class="right">      methods are designed in the same way and can be combined when this</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      is useful.  These processes can also be performed independently</td><td> </td><td class="right">      is useful.  These processes can also be performed independently</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      when appropriate.</td><td> </td><td class="right">      when appropriate.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      *  GDNP discovery is appropriate for efficient discovery of GDNP</td><td> </td><td class="right">      *  GDNP discovery is appropriate for efficient discovery of GDNP</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         peers and allows a rapid mode of operation described in</td><td> </td><td class="right">         peers and allows a rapid mode of operation described in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         Section 3.3.3.  For some parameters, especially those concerned</td><td> </td><td class="right">         Section 3.3.3.  For some parameters, especially those concerned</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         with application layer services, a text-based discovery</td><td> </td><td class="right">         with application layer services, a text-based discovery</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         mechanism such as DNS Service Discovery</td><td> </td><td class="right">         mechanism such as DNS Service Discovery</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         [I-D.ietf-dnssd-requirements] or Service Location Protocol</td><td> </td><td class="right">         [I-D.ietf-dnssd-requirements] or Service Location Protocol</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         [RFC2608] might be more appropriate.  The choice is left to the</td><td> </td><td class="right">         [RFC2608] might be more appropriate.  The choice is left to the</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0040" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         designers of individual A<span class="delete">utonomic Service Agent</span>s.</td><td> </td><td class="rblock">         designers of individual A<span class="insert">SA</span>s.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  A uniform pattern for technical contents</td><td> </td><td class="right">   o  A uniform pattern for technical contents</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      The synchronization and negotiation contents are defined according</td><td> </td><td class="right">      The synchronization and negotiation contents are defined according</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      to a uniform pattern.  They could be carried either in simple TLV</td><td> </td><td class="right">      to a uniform pattern.  They could be carried either in simple TLV</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      (Type, Length and Value) format or in payloads described by a</td><td> </td><td class="right">      (Type, Length and Value) format or in payloads described by a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      flexible language.  The initial protocol design uses the TLV</td><td> </td><td class="right">      flexible language.  The initial protocol design uses the TLV</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      approach.  The format is extensible for unknown future</td><td> </td><td class="right">      approach.  The format is extensible for unknown future</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      requirements.</td><td> </td><td class="right">      requirements.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> page 11, line 15</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> page 12, line 4</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  A uniform pattern for technical contents</td><td> </td><td class="right">   o  A uniform pattern for technical contents</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      The synchronization and negotiation contents are defined according</td><td> </td><td class="right">      The synchronization and negotiation contents are defined according</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      to a uniform pattern.  They could be carried either in simple TLV</td><td> </td><td class="right">      to a uniform pattern.  They could be carried either in simple TLV</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      (Type, Length and Value) format or in payloads described by a</td><td> </td><td class="right">      (Type, Length and Value) format or in payloads described by a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      flexible language.  The initial protocol design uses the TLV</td><td> </td><td class="right">      flexible language.  The initial protocol design uses the TLV</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      approach.  The format is extensible for unknown future</td><td> </td><td class="right">      approach.  The format is extensible for unknown future</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      requirements.</td><td> </td><td class="right">      requirements.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  A conservative model for synchronization</td><td> </td><td class="right">   o  A conservative model for synchronization</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0041" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                                                         </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      GDNP supports bilateral synchronization, which could be used to</td><td> </td><td class="right">      GDNP supports bilateral synchronization, which could be used to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      perform synchronization among a small number of nodes.</td><td> </td><td class="right">      perform synchronization among a small number of nodes.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      *  For some parameters, synchronization across large groups of</td><td> </td><td class="right">      *  For some parameters, synchronization across large groups of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         nodes, possibly including all autonomic nodes, might be needed.</td><td> </td><td class="right">         nodes, possibly including all autonomic nodes, might be needed.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         For such cases, a flooding mechanism such as ADNCP</td><td> </td><td class="right">         For such cases, a flooding mechanism such as ADNCP</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         [I-D.stenberg-anima-adncp] is considered more appropriate.</td><td> </td><td class="right">         [I-D.stenberg-anima-adncp] is considered more appropriate.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         GDNP is designed to coexist with ADNCP.  The choice is left to</td><td> </td><td class="right">         GDNP is designed to coexist with ADNCP.  The choice is left to</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0042" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         the designers of individual A<span class="delete">utonomic Service Agent</span>s.</td><td> </td><td class="rblock">         the designers of individual A<span class="insert">SA</span>s.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  A simple initiator/responder model for negotiation</td><td> </td><td class="right">   o  A simple initiator/responder model for negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      Multi-party negotiations are too complicated to be modeled and</td><td> </td><td class="right">      Multi-party negotiations are too complicated to be modeled and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      there might be too many dependencies among the parties to converge</td><td> </td><td class="right">      there might be too many dependencies among the parties to converge</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      efficiently.  A simple initiator/responder model is more feasible</td><td> </td><td class="right">      efficiently.  A simple initiator/responder model is more feasible</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      and can complete multiple-party negotiations by indirect steps.</td><td> </td><td class="right">      and can complete multiple-party negotiations by indirect steps.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  Organizing of synchronization or negotiation content</td><td> </td><td class="right">   o  Organizing of synchronization or negotiation content</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      Naturally, the technical content will be organized according to</td><td> </td><td class="right">      Naturally, the technical content will be organized according to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      the relevant function or service.  The content from different</td><td> </td><td class="right">      the relevant function or service.  The content from different</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      functions or services is kept independent from each other.  They</td><td> </td><td class="right">      functions or services is kept independent from each other.  They</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      are not combined into a single option or single session because</td><td> </td><td class="right">      are not combined into a single option or single session because</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      these contents may be negotiated or synchronized with different</td><td> </td><td class="right">      these contents may be negotiated or synchronized with different</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      counterparts or may be different in response time.</td><td> </td><td class="right">      counterparts or may be different in response time.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  Self aware network device</td><td> </td><td class="right">   o  Self aware network device</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0043" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      Every <span class="delete">network</span> device will be pre-loaded with various functions and</td><td> </td><td class="rblock">      Every <span class="insert">autonomic</span> device will be pre-loaded with various functions</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      be aware of its own capabilities, typically decided by the</td><td> </td><td class="rblock">      and <span class="insert">ASAs and will</span> be aware of its own capabilities, typically</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      hardware, firmware or pre-installed software.  Its exact role may</td><td> </td><td class="rblock">      decided by the hardware, firmware or pre-installed software.  Its</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      depend on the surrounding network behaviors, which may include</td><td> </td><td class="rblock">      exact role may depend on the surrounding network behaviors, which</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      forwarding behaviors, aggregation properties, topology location,</td><td> </td><td class="rblock">      may include forwarding behaviors, aggregation properties, topology</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      bandwidth, tunnel or translation properties, etc.  The surrounding</td><td> </td><td class="rblock">      location, bandwidth, tunnel or translation properties, etc.  The</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      topology will depend on the network planning.  Following an</td><td> </td><td class="rblock">      surrounding topology will depend on the network planning.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      initial discovery phase, the device properties and those of its</td><td> </td><td class="rblock">      Following an initial discovery phase, the device properties and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      neighbors are the foundation of the synchronization or negotiation</td><td> </td><td class="rblock">      those of its neighbors are the foundation of the synchronization</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      behavior of a specific device.  A device has no pre-configuration</td><td> </td><td class="rblock">      or negotiation behavior of a specific device.  A device has no</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      for the particular network in which it is installed.</td><td> </td><td class="rblock">      pre-configuration for the particular network in which it is</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">      installed.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  Requests and responses in negotiation procedures</td><td> </td><td class="right">   o  Requests and responses in negotiation procedures</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      The initiator can negotiate with its relevant negotiation</td><td> </td><td class="right">      The initiator can negotiate with its relevant negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0044" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      counterpart <span class="delete">devices,</span> which may be different according to the</td><td> </td><td class="rblock">      counterpart <span class="insert">ASAs,</span> which may be different according to the specific</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      specific negotiation objective.  It can request relevant</td><td> </td><td class="rblock">      negotiation objective.  It can request relevant information from</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      information from the negotiation counterpart so that it can decide</td><td> </td><td class="rblock">      the negotiation counterpart so that it can decide its local</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      its local configuration to give the most coordinated performance.</td><td> </td><td class="rblock">      configuration to give the most coordinated performance.  It can</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      It can request the negotiation counterpart to make a matching</td><td> </td><td class="rblock">      request the negotiation counterpart to make a matching</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      configuration in order to set up a successful communication with</td><td> </td><td class="right">      configuration in order to set up a successful communication with</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      it.  It can request certain simulation or forecast results by</td><td> </td><td class="right">      it.  It can request certain simulation or forecast results by</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      sending some dry run conditions.</td><td> </td><td class="right">      sending some dry run conditions.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      Beyond the traditional yes/no answer, the responder can reply with</td><td> </td><td class="right">      Beyond the traditional yes/no answer, the responder can reply with</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      a suggested alternative if its answer is 'no'.  This would start a</td><td> </td><td class="right">      a suggested alternative if its answer is 'no'.  This would start a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      bi-directional negotiation ending in a compromise between the two</td><td> </td><td class="right">      bi-directional negotiation ending in a compromise between the two</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0045" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      <span class="delete">device</span>s.</td><td> </td><td class="rblock">      <span class="insert">ASA</span>s.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  Convergence of negotiation procedures</td><td> </td><td class="right">   o  Convergence of negotiation procedures</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      To enable convergence, when a responder makes a suggestion of a</td><td> </td><td class="right">      To enable convergence, when a responder makes a suggestion of a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      changed condition in a negative reply, it should be as close as</td><td> </td><td class="right">      changed condition in a negative reply, it should be as close as</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      possible to the original request or previous suggestion.  The</td><td> </td><td class="right">      possible to the original request or previous suggestion.  The</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      suggested value of the third or later negotiation steps should be</td><td> </td><td class="right">      suggested value of the third or later negotiation steps should be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      chosen between the suggested values from the last two negotiation</td><td> </td><td class="right">      chosen between the suggested values from the last two negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      steps.  In any case there must be a mechanism to guarantee</td><td> </td><td class="right">      steps.  In any case there must be a mechanism to guarantee</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      convergence (or failure) in a small number of steps, such as a</td><td> </td><td class="right">      convergence (or failure) in a small number of steps, such as a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      timeout or maximum number of iterations.</td><td> </td><td class="right">      timeout or maximum number of iterations.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      *  End of negotiation</td><td> </td><td class="right">      *  End of negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         A limited number of rounds, for example three, or a timeout, is</td><td> </td><td class="right">         A limited number of rounds, for example three, or a timeout, is</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0046" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         needed on each <span class="delete">device</span> for each negotiation objective.  It may</td><td> </td><td class="rblock">         needed on each <span class="insert">ASA</span> for each negotiation objective.  It may be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         be an implementation choice, a pre-configurable parameter, or a</td><td> </td><td class="rblock">         an implementation choice, a pre-configurable parameter, or a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         network-wide policy intent.  These choices might vary between</td><td> </td><td class="right">         network-wide policy intent.  These choices might vary between</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0047" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         different types of <span class="delete">autonomic service agent.</span>  Therefore, the</td><td> </td><td class="rblock">         different types of <span class="insert">ASA.</span>  Therefore, the definition of each</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         definition of each negotiation objective MUST clearly specify</td><td> </td><td class="rblock">         negotiation objective MUST clearly specify this, so that the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         this, so that the negotiation can always be terminated</td><td> </td><td class="rblock">         negotiation can always be terminated properly.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         properly.</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      *  Failed negotiation</td><td> </td><td class="right">      *  Failed negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         There must be a well-defined procedure for concluding that a</td><td> </td><td class="right">         There must be a well-defined procedure for concluding that a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         negotiation cannot succeed, and if so deciding what happens</td><td> </td><td class="right">         negotiation cannot succeed, and if so deciding what happens</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         next (deadlock resolution, tie-breaking, or revert to best-</td><td> </td><td class="right">         next (deadlock resolution, tie-breaking, or revert to best-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         effort service).  Again, this MUST be specified for individual</td><td> </td><td class="right">         effort service).  Again, this MUST be specified for individual</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         negotiation objectives, as an implementation choice, a pre-</td><td> </td><td class="right">         negotiation objectives, as an implementation choice, a pre-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         configurable parameter, or a network-wide policy intent.</td><td> </td><td class="right">         configurable parameter, or a network-wide policy intent.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.3.  GDNP Protocol Basic Properties and Mechanisms</td><td> </td><td class="right">3.3.  GDNP Protocol Basic Properties and Mechanisms</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.3.1.  Required External Security Mechanism</td><td> </td><td class="right">3.3.1.  Required External Security Mechanism</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The protocol SHOULD run within a secure Autonomic Control Plane (ACP)</td><td> </td><td class="right">   The protocol SHOULD run within a secure Autonomic Control Plane (ACP)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0048" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [I-D.behringer-anima-autonomic-control-plane].  If <span class="delete">this</span> is</td><td> </td><td class="rblock">   [I-D.behringer-anima-autonomic-control-plane].  <span class="insert">The procedure for</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">impossible, it</span> MUST use TLS [RFC5246] or DTLS [RFC6347] for all</td><td> </td><td class="rblock"><span class="insert">   establishing the ACP MUST provide a flag indicating to GDNP that the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   messages, based on a local Public Key Infrastructure (PKI) [RFC5280]</td><td> </td><td class="rblock"><span class="insert">   ACP has been established.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   managed within the autonomic network itself.</td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   If <span class="insert">there</span> is <span class="insert">no ACP, the protocol</span> MUST use TLS [RFC5246] or DTLS</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   [RFC6347] for all messages, based on a local Public Key</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   Infrastructure (PKI) [RFC5280] managed within the autonomic network</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   itself.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Link-local multicast is used for discovery messages.  These cannot be</td><td> </td><td class="right">   Link-local multicast is used for discovery messages.  These cannot be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   secured, but responses to discovery messages MUST be secured.</td><td> </td><td class="right">   secured, but responses to discovery messages MUST be secured.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   However, during initialisation, before a node has joined the</td><td> </td><td class="right">   However, during initialisation, before a node has joined the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   applicable trust infrastructure, e.g.,</td><td> </td><td class="right">   applicable trust infrastructure, e.g.,</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0049" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   [I-D.pritikin-anima-bootstrapping-keyinfra], it <span class="delete">will</span> be impossible to</td><td> </td><td class="rblock">   [I-D.pritikin-anima-bootstrapping-keyinfra], it <span class="insert">might</span> be impossible</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   secure certain messages.  Such messages MUST be limited to the</td><td> </td><td class="rblock">   to secure certain messages.  Such messages MUST be limited to the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   strictly necessary minimum.</td><td> </td><td class="right">   strictly necessary minimum.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.3.2.  Transport Layer Usage</td><td> </td><td class="right">3.3.2.  Transport Layer Usage</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0050" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   The protocol is capable of running over UDP or TCP, except for</td><td> </td><td class="rblock">   The protocol is capable of running over UDP or TCP, except for <span class="insert">link-</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   multicast discovery <span class="delete">messages</span> which can only run over <span class="delete">UDP.</span>  When</td><td> </td><td class="rblock"><span class="insert">   local</span> multicast discovery <span class="insert">messages,</span> which can only run over <span class="insert">UDP and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   running within <span class="delete">an</span> ACP, UDP SHOULD be used for messages not exceeding</td><td> </td><td class="rblock"><span class="insert">   MUST NOT be fragmented, and therefore cannot exceed the link MTU</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   the minimum IPv6 path MTU, and TCP <span class="delete">SHOULD</span> be used for longer</td><td> </td><td class="rblock"><span class="insert">   size.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   messages.  In other words, IPv6 fragmentation <span class="delete">should be</span> avoided.</td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   When running without an ACP, TLS MUST be used by default, except for</td><td> </td><td class="rblock">   When running within <span class="insert">a secure</span> ACP, UDP SHOULD be used for messages not</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   multicast discovery messages.  DTLS MAY be supported as an</td><td> </td><td class="rblock">   exceeding the minimum IPv6 path MTU, and TCP <span class="insert">MUST</span> be used for longer</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">alternative.</span></td><td> </td><td class="rblock">   messages.  In other words, IPv6 fragmentation <span class="insert">is</span> avoided.  <span class="insert">If a node</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   receives a UDP message but the reply is too long, it MUST open a TCP</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   connection to the peer for the reply.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   When running without an ACP, TLS MUST be <span class="insert">supported and</span> used by</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   default, except for multicast discovery messages.  DTLS MAY be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   supported as an <span class="insert">alternative but the details are out of scope for this</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   document.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   For all transport protocols, the GDNP protocol listens to the GDNP</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Listen Port (Section 3.4).</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.3.3.  Discovery Mechanism and Procedures</td><td> </td><td class="right">3.3.3.  Discovery Mechanism and Procedures</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  Separated discovery and negotiation mechanisms</td><td> </td><td class="right">   o  Separated discovery and negotiation mechanisms</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0051" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                                                         </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         Although discovery and negotiation or synchronization are</td><td> </td><td class="right">         Although discovery and negotiation or synchronization are</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         defined together in the GDNP, they are separated mechanisms.</td><td> </td><td class="right">         defined together in the GDNP, they are separated mechanisms.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         The discovery process could run independently from the</td><td> </td><td class="right">         The discovery process could run independently from the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         negotiation or synchronization process.  Upon receiving a</td><td> </td><td class="right">         negotiation or synchronization process.  Upon receiving a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         discovery (Section 3.6.2) or request (Section 3.6.4) message,</td><td> </td><td class="right">         discovery (Section 3.6.2) or request (Section 3.6.4) message,</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0052" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         the recipient <span class="delete">device</span> should return a message in which it either</td><td> </td><td class="rblock">         the recipient <span class="insert">ASA</span> should return a message in which it either</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         indicates itself as a discovery responder or diverts the</td><td> </td><td class="right">         indicates itself as a discovery responder or diverts the</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0053" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         initiator towards another more suitable <span class="delete">device</span>.</td><td> </td><td class="rblock">         initiator towards another more suitable <span class="insert">ASA</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         The discovery action will normally be followed by a negotiation</td><td> </td><td class="right">         The discovery action will normally be followed by a negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         or synchronization action.  The discovery results could be</td><td> </td><td class="right">         or synchronization action.  The discovery results could be</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0054" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         utilized by the negotiation protocol to decide which <span class="delete">device</span> the</td><td> </td><td class="rblock">         utilized by the negotiation protocol to decide which <span class="insert">ASA</span> the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         initiator will negotiate with.</td><td> </td><td class="right">         initiator will negotiate with.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  Discovery Procedures</td><td> </td><td class="right">   o  Discovery Procedures</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         Discovery starts as an on-link operation.  The Divert option</td><td> </td><td class="right">         Discovery starts as an on-link operation.  The Divert option</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0055" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         can tell the discovery initiator to contact an off-link</td><td> </td><td class="rblock">         can tell the discovery initiator to contact an off-link <span class="insert">ASA for</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         discovery <span class="delete">objective device.</span>  Every DISCOVERY message is sent by</td><td> </td><td class="rblock"><span class="insert">         that</span> discovery <span class="insert">objective.</span>  Every DISCOVERY message is sent by a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         a discovery initiator via UDP to the ALL_GDNP_NEIGHBOR</td><td> </td><td class="rblock">         discovery initiator via UDP to the ALL_GDNP_NEIGHBOR multicast</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         multicast address (Section 3.4).  Every network device that</td><td> </td><td class="rblock">         address (Section 3.4).  Every network device that supports the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         supports the GDNP always listens to a well-known UDP port to</td><td> </td><td class="rblock">         GDNP always listens to a well-known UDP port to capture the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         capture the discovery messages.</td><td> </td><td class="rblock">         discovery messages.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0056" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         If the neighbor device supports the requested discovery</td><td> </td><td class="rblock">         If <span class="insert">an ASA in</span> the neighbor device supports the requested</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         objective, it MAY respond with a Response message</td><td> </td><td class="rblock">         discovery objective, it MAY respond with a Response message</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         (Section 3.6.3) with locator option(s).  Otherwise, if the</td><td> </td><td class="right">         (Section 3.6.3) with locator option(s).  Otherwise, if the</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0057" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         neigbor <span class="delete">device</span> has cached information about <span class="delete">a device</span> that</td><td> </td><td class="rblock">         neigbor has cached information about <span class="insert">an ASA</span> that supports the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         supports the requested discovery objective (usually because it</td><td> </td><td class="rblock">         requested discovery objective (usually because it discovered</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         discovered the same objective before), it SHOULD respond with a</td><td> </td><td class="rblock">         the same objective before), it SHOULD respond with a Response</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         Response message with a Divert option pointing to the</td><td> </td><td class="rblock">         message with a Divert option pointing to the appropriate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         appropriate Discovery Responder.</td><td> </td><td class="rblock">         Discovery Responder.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         If no discovery response is received within a reasonable</td><td> </td><td class="right">         If no discovery response is received within a reasonable</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         timeout (default GDNP_DEF_TIMEOUT milliseconds, Section 3.4),</td><td> </td><td class="right">         timeout (default GDNP_DEF_TIMEOUT milliseconds, Section 3.4),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         the DISCOVERY message MAY be repeated, with a newly generated</td><td> </td><td class="right">         the DISCOVERY message MAY be repeated, with a newly generated</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         Session ID (Section 3.5).  An exponential backoff SHOULD be</td><td> </td><td class="right">         Session ID (Section 3.5).  An exponential backoff SHOULD be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         used for subsequent repetitions, in order to mitigate possible</td><td> </td><td class="right">         used for subsequent repetitions, in order to mitigate possible</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         denial of service attacks.</td><td> </td><td class="right">         denial of service attacks.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         After a GDNP device successfully discovers a Discovery</td><td> </td><td class="right">         After a GDNP device successfully discovers a Discovery</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         Responder supporting a specific objective, it MUST cache this</td><td> </td><td class="right">         Responder supporting a specific objective, it MUST cache this</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> page 15, line 24</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> page 16, line 32</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         This relayed discovery mechanism, with caching of the results,</td><td> </td><td class="right">         This relayed discovery mechanism, with caching of the results,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         should be sufficient to support most network bootstrapping</td><td> </td><td class="right">         should be sufficient to support most network bootstrapping</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         scenarios.</td><td> </td><td class="right">         scenarios.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  A complete discovery process will start with multicast on the</td><td> </td><td class="right">   o  A complete discovery process will start with multicast on the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      local link; a neighbor might divert it to an off-link destination,</td><td> </td><td class="right">      local link; a neighbor might divert it to an off-link destination,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      which could be a default higher-level gateway in a hierarchical</td><td> </td><td class="right">      which could be a default higher-level gateway in a hierarchical</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      network.  Then discovery would continue with a unicast to that</td><td> </td><td class="right">      network.  Then discovery would continue with a unicast to that</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      gateway; if that gateway is still not the right counterpart, it</td><td> </td><td class="right">      gateway; if that gateway is still not the right counterpart, it</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0058" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      should divert to another <span class="delete">device</span>, which is in principle closer to</td><td> </td><td class="rblock">      should divert to another <span class="insert">gateway</span>, which is in principle closer to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      the right counterpart.  Finally the right counterpart responds to</td><td> </td><td class="right">      the right counterpart.  Finally the right counterpart responds to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      start the negotiation or synchronization process.</td><td> </td><td class="right">      start the negotiation or synchronization process.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  Rapid Mode (Discovery/Negotiation binding)</td><td> </td><td class="right">   o  Rapid Mode (Discovery/Negotiation binding)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         A Discovery message MAY include one or more Negotiation</td><td> </td><td class="right">         A Discovery message MAY include one or more Negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         Objective option(s).  This allows a rapid mode of negotiation</td><td> </td><td class="right">         Objective option(s).  This allows a rapid mode of negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         described in Section 3.3.4.  A similar mechanism is defined for</td><td> </td><td class="right">         described in Section 3.3.4.  A similar mechanism is defined for</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         synchronization in Section 3.3.5.</td><td> </td><td class="right">         synchronization in Section 3.3.5.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.3.4.  Negotiation Procedures</td><td> </td><td class="right">3.3.4.  Negotiation Procedures</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   A negotiation initiator sends a negotiation request to a counterpart</td><td> </td><td class="right">   A negotiation initiator sends a negotiation request to a counterpart</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0059" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">device,</span> including a specific negotiation objective.  It may request</td><td> </td><td class="rblock">   <span class="insert">ASA,</span> including a specific negotiation objective.  It may request the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   the negotiation counterpart to make a specific configuration.</td><td> </td><td class="rblock">   negotiation counterpart to make a specific configuration.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Alternatively, it may request a certain simulation or forecast result</td><td> </td><td class="right">   Alternatively, it may request a certain simulation or forecast result</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   by sending a dry run configuration.  The details, including the</td><td> </td><td class="right">   by sending a dry run configuration.  The details, including the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   distinction between dry run and an actual configuration change, will</td><td> </td><td class="right">   distinction between dry run and an actual configuration change, will</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   be defined separately for each type of negotiation objective.</td><td> </td><td class="right">   be defined separately for each type of negotiation objective.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   If the counterpart can immediately apply the requested configuration,</td><td> </td><td class="right">   If the counterpart can immediately apply the requested configuration,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   it will give an immediate positive (accept) answer.  This will end</td><td> </td><td class="right">   it will give an immediate positive (accept) answer.  This will end</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the negotiation phase immediately.  Otherwise, it will negotiate.  It</td><td> </td><td class="right">   the negotiation phase immediately.  Otherwise, it will negotiate.  It</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   will reply with a proposed alternative configuration that it can</td><td> </td><td class="right">   will reply with a proposed alternative configuration that it can</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   apply (typically, a configuration that uses fewer resources than</td><td> </td><td class="right">   apply (typically, a configuration that uses fewer resources than</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   requested by the negotiation initiator).  This will start a bi-</td><td> </td><td class="right">   requested by the negotiation initiator).  This will start a bi-</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0060" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   directional negotiation to reach a compromise between the two <span class="delete">network</span></td><td> </td><td class="rblock">   directional negotiation to reach a compromise between the two <span class="insert">ASAs.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   devices.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The negotiation procedure is ended when one of the negotiation peers</td><td> </td><td class="right">   The negotiation procedure is ended when one of the negotiation peers</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   sends a Negotiation Ending message, which contains an accept or</td><td> </td><td class="right">   sends a Negotiation Ending message, which contains an accept or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   decline option and does not need a response from the negotiation</td><td> </td><td class="right">   decline option and does not need a response from the negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   peer.  Negotiation may also end in failure (equivalent to a decline)</td><td> </td><td class="right">   peer.  Negotiation may also end in failure (equivalent to a decline)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   if a timeout is exceeded or a loop count is exceeded.</td><td> </td><td class="right">   if a timeout is exceeded or a loop count is exceeded.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   A negotiation procedure concerns one objective and one counterpart.</td><td> </td><td class="right">   A negotiation procedure concerns one objective and one counterpart.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Both the initiator and the counterpart may take part in simultaneous</td><td> </td><td class="right">   Both the initiator and the counterpart may take part in simultaneous</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0061" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   negotiations with various other <span class="delete">devices,</span> or in simultaneous</td><td> </td><td class="rblock">   negotiations with various other <span class="insert">ASAs,</span> or in simultaneous negotiations</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   negotiations about different objectives.  Thus, GDNP is expected to</td><td> </td><td class="rblock">   about different objectives.  Thus, GDNP is expected to be used in a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   be used in a multi-threaded mode.  Certain negotiation objectives may</td><td> </td><td class="rblock">   multi-threaded mode.  Certain negotiation objectives may have</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   have restrictions on multi-threading, for example to avoid <span class="delete">over-</span></td><td> </td><td class="rblock">   restrictions on multi-threading, for example to avoid <span class="insert">over-allocating</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   allocating</span> resources.</td><td> </td><td class="rblock">   resources.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Rapid Mode (Discovery/Negotiation linkage)</td><td> </td><td class="right">   Rapid Mode (Discovery/Negotiation linkage)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      A Discovery message MAY include a Negotiation Objective option.</td><td> </td><td class="right">      A Discovery message MAY include a Negotiation Objective option.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      In this case the Discovery message also acts as a Request message</td><td> </td><td class="right">      In this case the Discovery message also acts as a Request message</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      to indicate to the Discovery Responder that it could directly</td><td> </td><td class="right">      to indicate to the Discovery Responder that it could directly</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      reply to the Discovery Initiator with a Negotiation message for</td><td> </td><td class="right">      reply to the Discovery Initiator with a Negotiation message for</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      rapid processing, if it could act as the corresponding negotiation</td><td> </td><td class="right">      rapid processing, if it could act as the corresponding negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      counterpart.  However, the indication is only advisory not</td><td> </td><td class="right">      counterpart.  However, the indication is only advisory not</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      prescriptive.</td><td> </td><td class="right">      prescriptive.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      This rapid mode could reduce the interactions between nodes so</td><td> </td><td class="right">      This rapid mode could reduce the interactions between nodes so</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      that a higher efficiency could be achieved.  This rapid</td><td> </td><td class="right">      that a higher efficiency could be achieved.  This rapid</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      negotiation function SHOULD be configured off by default and MAY</td><td> </td><td class="right">      negotiation function SHOULD be configured off by default and MAY</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      be configured on or off by policy intent.</td><td> </td><td class="right">      be configured on or off by policy intent.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.3.5.  Synchronization Procedure</td><td> </td><td class="right">3.3.5.  Synchronization Procedure</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   A synchronization initiator sends a synchronization request to a</td><td> </td><td class="right">   A synchronization initiator sends a synchronization request to a</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0062" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">counterpart device,</span> including a specific synchronization objective.</td><td> </td><td class="rblock">   <span class="insert">counterpart,</span> including a specific synchronization objective.  The</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   The counterpart responds with a Response message containing the</td><td> </td><td class="rblock">   counterpart responds with a Response message containing the current</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   current value of the requested synchronization objective.  No further</td><td> </td><td class="rblock">   value of the requested synchronization objective.  No further</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   messages are needed.  If no Response message is received, the</td><td> </td><td class="right">   messages are needed.  If no Response message is received, the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   synchronization request MAY be repeated after a suitable timeout.</td><td> </td><td class="right">   synchronization request MAY be repeated after a suitable timeout.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   In the case just described, the message exchange is unicast and</td><td> </td><td class="right">   In the case just described, the message exchange is unicast and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   concerns only one synchronization objective.  For large groups of</td><td> </td><td class="right">   concerns only one synchronization objective.  For large groups of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   nodes requiring mutual synchronization, ADNCP</td><td> </td><td class="right">   nodes requiring mutual synchronization, ADNCP</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [I-D.stenberg-anima-adncp] is considered more appropriate.  In the</td><td> </td><td class="right">   [I-D.stenberg-anima-adncp] is considered more appropriate.  In the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   following case, several synchronization objectives may be combined.</td><td> </td><td class="right">   following case, several synchronization objectives may be combined.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Rapid Mode (Discovery/Synchronization linkage)</td><td> </td><td class="right">   Rapid Mode (Discovery/Synchronization linkage)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l8" /><small>skipping to change at</small><em> page 21, line 28</em></th><th> </th><th><a name="part-r8" /><small>skipping to change at</small><em> page 22, line 30</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   A responding node sends a CONFIRM-WAITING message to indicate the</td><td> </td><td class="right">   A responding node sends a CONFIRM-WAITING message to indicate the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   requesting node to wait for a further negotiation response.  It might</td><td> </td><td class="right">   requesting node to wait for a further negotiation response.  It might</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   be that the local process needs more time or that the negotiation</td><td> </td><td class="right">   be that the local process needs more time or that the negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   depends on another triggered negotiation.  This message MUST NOT</td><td> </td><td class="right">   depends on another triggered negotiation.  This message MUST NOT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   include any other options than the Waiting Time Option</td><td> </td><td class="right">   include any other options than the Waiting Time Option</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   (Section 3.7.5).</td><td> </td><td class="right">   (Section 3.7.5).</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.7.  GDNP General Options</td><td> </td><td class="right">3.7.  GDNP General Options</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This section defines the GDNP general options for the negotiation and</td><td> </td><td class="right">   This section defines the GDNP general options for the negotiation and</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0063" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   synchronization protocol signal<span class="delete">l</span>ing.  Additional option types are</td><td> </td><td class="rblock">   synchronization protocol signaling.  Additional option types are</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   reserved for GDNP general options defined in the future.</td><td> </td><td class="right">   reserved for GDNP general options defined in the future.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.7.1.  Format of GDNP Options</td><td> </td><td class="right">3.7.1.  Format of GDNP Options</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    0                   1                   2                   3</td><td> </td><td class="right">    0                   1                   2                   3</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td> </td><td class="right">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |          option-code          |           option-len          |</td><td> </td><td class="right">   |          option-code          |           option-len          |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |                          option-data                          |</td><td> </td><td class="right">   |                          option-data                          |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l9" /><small>skipping to change at</small><em> page 22, line 22</em></th><th> </th><th><a name="part-r9" /><small>skipping to change at</small><em> page 23, line 25</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   specific negotiation or synchronization counterpart (on-link or off-</td><td> </td><td class="right">   specific negotiation or synchronization counterpart (on-link or off-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   link) or a default gateway.  The divert option MUST only be</td><td> </td><td class="right">   link) or a default gateway.  The divert option MUST only be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   encapsulated in Response messages.  If found elsewhere, it SHOULD be</td><td> </td><td class="right">   encapsulated in Response messages.  If found elsewhere, it SHOULD be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   silently ignored.</td><td> </td><td class="right">   silently ignored.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    0                   1                   2                   3</td><td> </td><td class="right">    0                   1                   2                   3</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td> </td><td class="right">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |         OPTION_DIVERT         |           option-len          |</td><td> </td><td class="right">   |         OPTION_DIVERT         |           option-len          |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0064" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   |             Locator Option(s) of Diversion <span class="delete">Device</span>(s)          |</td><td> </td><td class="rblock">   |             Locator Option(s) of Diversion <span class="insert">Target</span>(s)          |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   .                                                               .</td><td> </td><td class="right">   .                                                               .</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Option-code:  OPTION_DIVERT (G32).</td><td> </td><td class="right">   Option-code:  OPTION_DIVERT (G32).</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Option-len:  The total length of diverted destination sub-option(s)</td><td> </td><td class="right">   Option-len:  The total length of diverted destination sub-option(s)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      in octets.</td><td> </td><td class="right">      in octets.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Locator Option(s) of Diversion Device(s):  Embedded Locator Option(s)</td><td> </td><td class="right">   Locator Option(s) of Diversion Device(s):  Embedded Locator Option(s)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0065" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      (Section 3.7.7) that point to diverted destination <span class="delete">device</span>(s).</td><td> </td><td class="rblock">      (Section 3.7.7) that point to diverted destination <span class="insert">target</span>(s).</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.7.3.  Accept Option</td><td> </td><td class="right">3.7.3.  Accept Option</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The accept option is used to indicate to the negotiation counterpart</td><td> </td><td class="right">   The accept option is used to indicate to the negotiation counterpart</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   that the proposed negotiation content is accepted.</td><td> </td><td class="right">   that the proposed negotiation content is accepted.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The accept option MUST only be encapsulated in Negotiation-ending</td><td> </td><td class="right">   The accept option MUST only be encapsulated in Negotiation-ending</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   messages.  If found elsewhere, it SHOULD be silently ignored.</td><td> </td><td class="right">   messages.  If found elsewhere, it SHOULD be silently ignored.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    0                   1                   2                   3</td><td> </td><td class="right">    0                   1                   2                   3</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l10" /><small>skipping to change at</small><em> page 24, line 48</em></th><th> </th><th><a name="part-r10" /><small>skipping to change at</small><em> page 25, line 48</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Option-len:  Length of identities in octets</td><td> </td><td class="right">   Option-len:  Length of identities in octets</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Identities:  A variable-length field containing the device identity</td><td> </td><td class="right">   Identities:  A variable-length field containing the device identity</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      and one or more domain identities.  The format is not yet defined.</td><td> </td><td class="right">      and one or more domain identities.  The format is not yet defined.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Note:  Currently this option is a placeholder.  It might be removed</td><td> </td><td class="right">   Note:  Currently this option is a placeholder.  It might be removed</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      or modified.</td><td> </td><td class="right">      or modified.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.7.7.  Locator Options</td><td> </td><td class="right">3.7.7.  Locator Options</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0066" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   These locator options are used to present a <span class="delete">device's</span> or <span class="delete">interface's</span></td><td> </td><td class="rblock">   These locator options are used to present <span class="insert">reachability information</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   reachability information.</span>  They are Locator IPv4 Address Option,</td><td> </td><td class="rblock"><span class="insert">   for an ASA,</span> a <span class="insert">device</span> or <span class="insert">an interface.</span>  They are Locator IPv4 Address</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Locator IPv6 Address Option and Locator FQDN (Fully Qualified Domain</td><td> </td><td class="rblock">   Option, Locator IPv6 Address Option and Locator FQDN (Fully Qualified</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Name) Option.</td><td> </td><td class="rblock">   Domain Name) Option.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Note that it is assumed that all locators are in scope throughout the</td><td> </td><td class="right">   Note that it is assumed that all locators are in scope throughout the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   GDNP domain.  GDNP is not intended to work across disjoint addressing</td><td> </td><td class="right">   GDNP domain.  GDNP is not intended to work across disjoint addressing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   or naming realms.</td><td> </td><td class="right">   or naming realms.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.7.7.1.  Locator IPv4 address option</td><td> </td><td class="right">3.7.7.1.  Locator IPv4 address option</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    0                   1                   2                   3</td><td> </td><td class="right">    0                   1                   2                   3</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td> </td><td class="right">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |    OPTION_LOCATOR_IPV4ADDR    |           option-len          |</td><td> </td><td class="right">   |    OPTION_LOCATOR_IPV4ADDR    |           option-len          |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |                          IPv4-Address                         |</td><td> </td><td class="right">   |                          IPv4-Address                         |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Option-code:  OPTION_LOCATOR_IPV4ADDR (G37)</td><td> </td><td class="right">   Option-code:  OPTION_LOCATOR_IPV4ADDR (G37)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Option-len:  4, in octets</td><td> </td><td class="right">   Option-len:  4, in octets</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0067" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   IPv4-Address:  The IPv4 address locator of the <span class="delete">device/interface</span></td><td> </td><td class="rblock">   IPv4-Address:  The IPv4 address locator of the <span class="insert">target</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Note: If an operator has internal network address translation for</td><td> </td><td class="right">   Note: If an operator has internal network address translation for</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   IPv4, this option MUST NOT be used within the Divert option.</td><td> </td><td class="right">   IPv4, this option MUST NOT be used within the Divert option.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.7.7.2.  Locator IPv6 address option</td><td> </td><td class="right">3.7.7.2.  Locator IPv6 address option</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    0                   1                   2                   3</td><td> </td><td class="right">    0                   1                   2                   3</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td> </td><td class="right">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |   OPTION_LOCATOR_IPV6ADDR     |           option-len          |</td><td> </td><td class="right">   |   OPTION_LOCATOR_IPV6ADDR     |           option-len          |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l11" /><small>skipping to change at</small><em> page 25, line 45</em></th><th> </th><th><a name="part-r11" /><small>skipping to change at</small><em> page 26, line 45</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |                                                               |</td><td> </td><td class="right">   |                                                               |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |                          IPv6-Address                         |</td><td> </td><td class="right">   |                          IPv6-Address                         |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |                                                               |</td><td> </td><td class="right">   |                                                               |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |                                                               |</td><td> </td><td class="right">   |                                                               |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Option-code:  OPTION_LOCATOR_IPV6ADDR (G38)</td><td> </td><td class="right">   Option-code:  OPTION_LOCATOR_IPV6ADDR (G38)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Option-len:  16, in octets</td><td> </td><td class="right">   Option-len:  16, in octets</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0068" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   IPv6-Address:  The IPv6 address locator of the <span class="delete">device/interface</span></td><td> </td><td class="rblock">   IPv6-Address:  The IPv6 address locator of the <span class="insert">target</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Note: A link-local IPv6 address MUST NOT be used when this option is</td><td> </td><td class="right">   Note: A link-local IPv6 address MUST NOT be used when this option is</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   used within the Divert option.</td><td> </td><td class="right">   used within the Divert option.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.7.7.3.  Locator FQDN option</td><td> </td><td class="right">3.7.7.3.  Locator FQDN option</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    0                   1                   2                   3</td><td> </td><td class="right">    0                   1                   2                   3</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td> </td><td class="right">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |         OPTION_FQDN           |           option-len          |</td><td> </td><td class="right">   |         OPTION_FQDN           |           option-len          |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |                   Fully Qualified Domain Name                 |</td><td> </td><td class="right">   |                   Fully Qualified Domain Name                 |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |                       (variable length)                       |</td><td> </td><td class="right">   |                       (variable length)                       |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   .                                                               .</td><td> </td><td class="right">   .                                                               .</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Option-code:  OPTION_FQDN (G39)</td><td> </td><td class="right">   Option-code:  OPTION_FQDN (G39)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Option-len:  Length of Fully Qualified Domain Name in octets</td><td> </td><td class="right">   Option-len:  Length of Fully Qualified Domain Name in octets</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0069" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Domain-Name:  The Fully Qualified Domain Name of the <span class="delete">entity</span></td><td> </td><td class="rblock">   Domain-Name:  The Fully Qualified Domain Name of the <span class="insert">target</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Note: Any FQDN which might not be valid throughout the network in</td><td> </td><td class="right">   Note: Any FQDN which might not be valid throughout the network in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   question, such as a Multicast DNS name [RFC6762], MUST NOT be used</td><td> </td><td class="right">   question, such as a Multicast DNS name [RFC6762], MUST NOT be used</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   when this option is used within the Divert option.</td><td> </td><td class="right">   when this option is used within the Divert option.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.8.  Objective Options</td><td> </td><td class="right">3.8.  Objective Options</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.8.1.  Format of Objective Options</td><td> </td><td class="right">3.8.1.  Format of Objective Options</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   An objective option is used to identify objectives for the purposes</td><td> </td><td class="right">   An objective option is used to identify objectives for the purposes</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   of discovery, negotiation or synchronization.  All objectives must</td><td> </td><td class="right">   of discovery, negotiation or synchronization.  All objectives must</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   follow a common format as follows:</td><td> </td><td class="right">   follow a common format as follows:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    0                   1                   2                   3</td><td> </td><td class="right">    0                   1                   2                   3</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td> </td><td class="right">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |         OPTION_XXX            |           option-len          |</td><td> </td><td class="right">   |         OPTION_XXX            |           option-len          |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0070" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   |   <span class="delete">loop-count  |    flags    </span>  |                               |</td><td> </td><td class="rblock">   |   <span class="insert">flags       |   loop-count</span>  |                               |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+          value                |</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+          value                |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   .                                    (variable length)          .</td><td> </td><td class="right">   .                                    (variable length)          .</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Option-code:  OPTION_XXX: The option code assigned in the</td><td> </td><td class="right">   Option-code:  OPTION_XXX: The option code assigned in the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      specification of the XXX objective.</td><td> </td><td class="right">      specification of the XXX objective.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   option-len:  The total length in octets.</td><td> </td><td class="right">   option-len:  The total length in octets.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0071" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">loop-count:  The loop count.  This field is present if and only if</span></td><td> </td><td class="rblock">   <span class="insert">flags:  Flag bits.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">      the objective is a negotiation objective.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0072" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">flags:  Flag bits.</span>  This field is present if and only if <span class="delete">defined in</span></td><td> </td><td class="rblock">      <span class="insert">Bit 0 (D bit): set if this objective is valid for GDNP discovery</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">      the specification of</span> the objective.</td><td> </td><td class="rblock"><span class="insert">      operations.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      Bit 1 (N bit): set if this objective is valid for GDNP negotiation</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      operations.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      Bit 2 (S bit): set if this objective is valid for GDNP</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      synchronization operations.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      Bits 3~7: reserved, set to zero and ignored on reception.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   loop-count:  The loop count for terminating negotation.</span>  This field</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">      is present if and only if the <span class="insert">objective is a negotiation</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">      objective.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   value:  This field is to express the actual value of a negotiation or</td><td> </td><td class="right">   value:  This field is to express the actual value of a negotiation or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      synchronization objective.  Its format is defined in the</td><td> </td><td class="right">      synchronization objective.  Its format is defined in the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      specification of the objective and may be a single value or a data</td><td> </td><td class="right">      specification of the objective and may be a single value or a data</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      structure of any kind.</td><td> </td><td class="right">      structure of any kind.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.8.2.  General Considerations for Objective Options</td><td> </td><td class="right">3.8.2.  General Considerations for Objective Options</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Objective Options MUST be assigned an option type greater than G63 in</td><td> </td><td class="right">   Objective Options MUST be assigned an option type greater than G63 in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the GDNP option table.</td><td> </td><td class="right">   the GDNP option table.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l12" /><small>skipping to change at</small><em> page 29, line 12</em></th><th> </th><th><a name="part-r12" /><small>skipping to change at</small><em> page 30, line 19</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   In the case of a vendor-specific objective, the loop count and flags,</td><td> </td><td class="right">   In the case of a vendor-specific objective, the loop count and flags,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   if present, follow the PEN.</td><td> </td><td class="right">   if present, follow the PEN.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    0                   1                   2                   3</td><td> </td><td class="right">    0                   1                   2                   3</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td> </td><td class="right">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |         OPTION_vendor         |           option-len          |</td><td> </td><td class="right">   |         OPTION_vendor         |           option-len          |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |                              PEN                              |</td><td> </td><td class="right">   |                              PEN                              |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0073" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   |   <span class="delete">loop-count  |    flags    </span>  |                               |</td><td> </td><td class="rblock">   |   <span class="insert">flags       |   loop-count</span>  |                               |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+          value                |</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+          value                |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   .                                    (variable length)          .</td><td> </td><td class="right">   .                                    (variable length)          .</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td> </td><td class="right">   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Option-code:  OPTION_vendor (G128~159)</td><td> </td><td class="right">   Option-code:  OPTION_vendor (G128~159)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Option-len:  The total length in octets.</td><td> </td><td class="right">   Option-len:  The total length in octets.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   PEN:  Private Enterprise Number.</td><td> </td><td class="right">   PEN:  Private Enterprise Number.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0074" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">loop-count:  The loop count.  This field is present if and only if</span></td><td> </td><td class="rblock">   <span class="insert">flags:  See Section 3.8.1</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">      the objective is a negotiation objective.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0075" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">flags:  Flag bits.</span>  This field is present if and only if <span class="delete">defined in</span></td><td> </td><td class="rblock">   <span class="insert">loop-count:  See Section 3.8.1</span> This field is present if and only if</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">      the specification of</span> the objective.</td><td> </td><td class="rblock">      the <span class="insert">objective is a negotiation</span> objective.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   value:  This field is to express the actual value of a negotiation or</td><td> </td><td class="right">   value:  This field is to express the actual value of a negotiation or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      synchronization objective.  Its format is defined in the vendor's</td><td> </td><td class="right">      synchronization objective.  Its format is defined in the vendor's</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      specification of the objective.</td><td> </td><td class="right">      specification of the objective.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.8.5.  Experimental Objective Options</td><td> </td><td class="right">3.8.5.  Experimental Objective Options</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Option codes G176~191 have been reserved for experimental options.</td><td> </td><td class="right">   Option codes G176~191 have been reserved for experimental options.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Multiple option codes have been assigned because a single experiment</td><td> </td><td class="right">   Multiple option codes have been assigned because a single experiment</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   may use multiple options simultaneously.  These experimental options</td><td> </td><td class="right">   may use multiple options simultaneously.  These experimental options</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l13" /><small>skipping to change at</small><em> page 29, line 50</em></th><th> </th><th><a name="part-r13" /><small>skipping to change at</small><em> page 31, line 9</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   human decision and SHOULD NOT be used in unmanaged networks such as</td><td> </td><td class="right">   human decision and SHOULD NOT be used in unmanaged networks such as</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   home networks.</td><td> </td><td class="right">   home networks.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   These option codes are also RECOMMENDED for use in documentation</td><td> </td><td class="right">   These option codes are also RECOMMENDED for use in documentation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   examples.</td><td> </td><td class="right">   examples.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">4.  Items for Future Work</td><td> </td><td class="right">4.  Items for Future Work</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   There are various design questions that are worthy of more work in</td><td> </td><td class="right">   There are various design questions that are worthy of more work in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the near future, as listed below (statically numbered for reference</td><td> </td><td class="right">   the near future, as listed below (statically numbered for reference</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0076" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   purposes):</td><td> </td><td class="rblock">   purposes<span class="insert">, resolved issues removed</span>):</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  5.  Need to expand description of the minimum requirements for the</td><td> </td><td class="right">   o  5.  Need to expand description of the minimum requirements for the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      specification of an individual discovery, synchronization or</td><td> </td><td class="right">      specification of an individual discovery, synchronization or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      negotiation objective.</td><td> </td><td class="right">      negotiation objective.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  6.  Use case and protocol walkthrough.  A description of how a</td><td> </td><td class="right">   o  6.  Use case and protocol walkthrough.  A description of how a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      node starts up, performs discovery, and conducts negotiation and</td><td> </td><td class="right">      node starts up, performs discovery, and conducts negotiation and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      synchronisation for a sample use case would help readers to</td><td> </td><td class="right">      synchronisation for a sample use case would help readers to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      understand the applicability of this specification.  Maybe it</td><td> </td><td class="right">      understand the applicability of this specification.  Maybe it</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0077" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      should be an artificial use case or maybe a simple real <span class="delete">one.</span></td><td> </td><td class="rblock">      should be an artificial use case or maybe a simple real <span class="insert">one, based</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      However, the authors have not yet decided whether to have a</td><td> </td><td class="rblock"><span class="insert">      on a conceptual API.</span>  However, the authors have not yet decided</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      separate document or have it in <span class="delete">this</span> document.</td><td> </td><td class="rblock">      whether to have a separate document or have it in <span class="insert">the protocol</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">      document.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  7.  Cross-check against other ANIMA WG documents for consistency</td><td> </td><td class="right">   o  7.  Cross-check against other ANIMA WG documents for consistency</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      and gaps.</td><td> </td><td class="right">      and gaps.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0078" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">o  12.  Justify that IP address within ACP or (D)TLS environment is</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      sufficient to prove AN identity; or explain how Device Identity</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      Option is used.  (Sheng)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      For now, we assume that all ASAs in a device are trusted as soon</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      as the device is trusted, and share credentials.  In that case the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      Device Identity Option is useless.  This needs to be reviewed</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      later.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   o  14.  Do we need an unsolicited flooding mechanism for discovery</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      (for discovery results that everyone needs), to reduce scaling</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      impact of flooding discovery messages?  (Toerless)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">5.  Security Considerations</td><td> </td><td class="right">5.  Security Considerations</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   It is obvious that a successful attack on negotiation-enabled nodes</td><td> </td><td class="right">   It is obvious that a successful attack on negotiation-enabled nodes</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   would be extremely harmful, as such nodes might end up with a</td><td> </td><td class="right">   would be extremely harmful, as such nodes might end up with a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   completely undesirable configuration that would also adversely affect</td><td> </td><td class="right">   completely undesirable configuration that would also adversely affect</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   their peers.  GDNP nodes and messages therefore require full</td><td> </td><td class="right">   their peers.  GDNP nodes and messages therefore require full</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   protection.</td><td> </td><td class="right">   protection.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   - Authentication</td><td> </td><td class="right">   - Authentication</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l14" /><small>skipping to change at</small><em> page 33, line 12</em></th><th> </th><th><a name="part-r14" /><small>skipping to change at</small><em> page 34, line 27</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   integers.  The following initial values are assigned in Section 3.7</td><td> </td><td class="right">   integers.  The following initial values are assigned in Section 3.7</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   and Section 3.8.1 in this document:</td><td> </td><td class="right">   and Section 3.8.1 in this document:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         Type  |          Name               |   RFCs</td><td> </td><td class="right">         Type  |          Name               |   RFCs</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      ---------+-----------------------------+------------</td><td> </td><td class="right">      ---------+-----------------------------+------------</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">          G32  |Divert Option                | this document</td><td> </td><td class="right">          G32  |Divert Option                | this document</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">          G33  |Accept Option                | this document</td><td> </td><td class="right">          G33  |Accept Option                | this document</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">          G34  |Decline Option               | this document</td><td> </td><td class="right">          G34  |Decline Option               | this document</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">          G35  |Waiting Time Option          | this document</td><td> </td><td class="right">          G35  |Waiting Time Option          | this document</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">          G36  |Device Identity Option       | this document</td><td> </td><td class="right">          G36  |Device Identity Option       | this document</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0079" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">          G37  <span class="delete">|Device</span> IPv4 Address Option   | this document</td><td> </td><td class="rblock">          G37  <span class="insert">|Locator</span> IPv4 Address Option  | this document</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">          G38  <span class="delete">|Device</span> IPv6 Address Option   | this document</td><td> </td><td class="rblock">          G38  <span class="insert">|Locator</span> IPv6 Address Option  | this document</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">          G39  <span class="delete">|Device</span> FQDN Option           | this document</td><td> </td><td class="rblock">          G39  <span class="insert">|Locator</span> FQDN Option          | this document</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       G40~63  |Reserved for future GDNP     |</td><td> </td><td class="right">       G40~63  |Reserved for future GDNP     |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               |General Options              |</td><td> </td><td class="right">               |General Options              |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       G64~127 |Reserved for future GDNP     |</td><td> </td><td class="right">       G64~127 |Reserved for future GDNP     |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               |Objective Options            |</td><td> </td><td class="right">               |Objective Options            |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       G128~159|Vendor Specific Options      | this document</td><td> </td><td class="right">       G128~159|Vendor Specific Options      | this document</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       G160~175|Reserved for future use      |</td><td> </td><td class="right">       G160~175|Reserved for future use      |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       G176~191|Experimental Options         | this document</td><td> </td><td class="right">       G176~191|Experimental Options         | this document</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       G192~???|Reserved for future use      |</td><td> </td><td class="right">       G192~???|Reserved for future use      |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">7.  Acknowledgements</td><td> </td><td class="right">7.  Acknowledgements</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   A major contribution to the original version of this document was</td><td> </td><td class="right">   A major contribution to the original version of this document was</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   made by Sheng Jiang.</td><td> </td><td class="right">   made by Sheng Jiang.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0080" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Valuable comments were received from Michael Behringer, Zongpeng Du,</td><td> </td><td class="rblock">   Valuable comments were received from Michael Behringer, <span class="insert">Jeferson</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Yu Fu, Zhenbin Li, Dimitri Papadimitriou, Michael Richardson, Markus</td><td> </td><td class="rblock"><span class="insert">   Campos Nobre, Laurent Ciavaglia,</span> Zongpeng Du, Yu Fu, Zhenbin Li,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Stenberg, Rene Struik, Dacheng Zhang, and other participants in the</td><td> </td><td class="rblock">   Dimitri Papadimitriou, Michael Richardson, Markus Stenberg, Rene</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   NMRG research group and the ANIMA working group.</td><td> </td><td class="rblock">   Struik, Dacheng Zhang, and other participants in the NMRG research</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   group and the ANIMA working group.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This document was produced using the xml2rfc tool [RFC2629].</td><td> </td><td class="right">   This document was produced using the xml2rfc tool [RFC2629].</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">8.  Change log [RFC Editor: Please remove]</td><td> </td><td class="right">8.  Change log [RFC Editor: Please remove]</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0081" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">draft-carpenter-anima-discovery-negotiation-protocol-04, 2015-05-17:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Tuned wording around hierarchical structure.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Changed "device" to "ASA" in many places.  Reformulated requirements</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   etc. to be clear that the ASA is the customer for signaling.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Requirements expanded and rearranged following design team</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   discussion.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Clarified that GDNP discovery must not be a prerequisite for GDNP</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   negotiation or synchronization (resolved issue 13).</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Specified flag bits for objective options (resolved issue 15).</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Clarified usage of ACP vs TLS/DTLS and TCP vs UDP (resolved issues</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   9,10,11).  Editorial improvements.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   draft-carpenter-anima-discovery-negotiation-protocol-03, 2015-04-20:</td><td> </td><td class="right">   draft-carpenter-anima-discovery-negotiation-protocol-03, 2015-04-20:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Removed intrinsic security, required external security</td><td> </td><td class="right">   Removed intrinsic security, required external security</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Format changes to allow ADNCP co-existence</td><td> </td><td class="right">   Format changes to allow ADNCP co-existence</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Recognized DNS-SD as alternative discovery method</td><td> </td><td class="right">   Recognized DNS-SD as alternative discovery method</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Editorial improvements</td><td> </td><td class="right">   Editorial improvements</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l15" /><small>skipping to change at</small><em> page 35, line 31</em></th><th> </th><th><a name="part-r15" /><small>skipping to change at</small><em> page 37, line 18</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              eckert-anima-stable-connectivity-01 (work in progress),</td><td> </td><td class="right">              eckert-anima-stable-connectivity-01 (work in progress),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              March 2015.</td><td> </td><td class="right">              March 2015.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [I-D.ietf-dnssd-requirements]</td><td> </td><td class="right">   [I-D.ietf-dnssd-requirements]</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Lynn, K., Cheshire, S., Blanchet, M., and D. Migault,</td><td> </td><td class="right">              Lynn, K., Cheshire, S., Blanchet, M., and D. Migault,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              "Requirements for Scalable DNS-SD/mDNS Extensions", draft-</td><td> </td><td class="right">              "Requirements for Scalable DNS-SD/mDNS Extensions", draft-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              ietf-dnssd-requirements-06 (work in progress), March 2015.</td><td> </td><td class="right">              ietf-dnssd-requirements-06 (work in progress), March 2015.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [I-D.ietf-homenet-dncp]</td><td> </td><td class="right">   [I-D.ietf-homenet-dncp]</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Stenberg, M. and S. Barth, "Distributed Node Consensus</td><td> </td><td class="right">              Stenberg, M. and S. Barth, "Distributed Node Consensus</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0082" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              Protocol", <span class="delete">draft-ietf-homenet-dncp-01</span> (work in progress),</td><td> </td><td class="rblock">              Protocol", <span class="insert">draft-ietf-homenet-dncp-03</span> (work in progress),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">March</span> 2015.</td><td> </td><td class="rblock">              <span class="insert">April</span> 2015.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [I-D.ietf-homenet-hncp]</td><td> </td><td class="right">   [I-D.ietf-homenet-hncp]</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Stenberg, M., Barth, S., and P. Pfister, "Home Networking</td><td> </td><td class="right">              Stenberg, M., Barth, S., and P. Pfister, "Home Networking</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Control Protocol", draft-ietf-homenet-hncp-04 (work in</td><td> </td><td class="right">              Control Protocol", draft-ietf-homenet-hncp-04 (work in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              progress), March 2015.</td><td> </td><td class="right">              progress), March 2015.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [I-D.ietf-netconf-restconf]</td><td> </td><td class="right">   [I-D.ietf-netconf-restconf]</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Bierman, A., Bjorklund, M., and K. Watsen, "RESTCONF</td><td> </td><td class="right">              Bierman, A., Bjorklund, M., and K. Watsen, "RESTCONF</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Protocol", draft-ietf-netconf-restconf-04 (work in</td><td> </td><td class="right">              Protocol", draft-ietf-netconf-restconf-04 (work in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              progress), January 2015.</td><td> </td><td class="right">              progress), January 2015.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [I-D.irtf-nmrg-an-gap-analysis]</td><td> </td><td class="right">   [I-D.irtf-nmrg-an-gap-analysis]</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Jiang, S., Carpenter, B., and M. Behringer, "General Gap</td><td> </td><td class="right">              Jiang, S., Carpenter, B., and M. Behringer, "General Gap</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Analysis for Autonomic Networking", draft-irtf-nmrg-an-</td><td> </td><td class="right">              Analysis for Autonomic Networking", draft-irtf-nmrg-an-</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0083" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              gap-analysis-0<span class="delete">5 (work in progress), March</span> 2015.</td><td> </td><td class="rblock">              gap-analysis-0<span class="insert">6 (work in progress), April</span> 2015.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [I-D.irtf-nmrg-autonomic-network-definitions]</td><td> </td><td class="right">   [I-D.irtf-nmrg-autonomic-network-definitions]</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Behringer, M., Pritikin, M., Bjarnason, S., Clemm, A.,</td><td> </td><td class="right">              Behringer, M., Pritikin, M., Bjarnason, S., Clemm, A.,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Carpenter, B., Jiang, S., and L. Ciavaglia, "Autonomic</td><td> </td><td class="right">              Carpenter, B., Jiang, S., and L. Ciavaglia, "Autonomic</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Networking - Definitions and Design Goals", draft-irtf-</td><td> </td><td class="right">              Networking - Definitions and Design Goals", draft-irtf-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              nmrg-autonomic-network-definitions-07 (work in progress),</td><td> </td><td class="right">              nmrg-autonomic-network-definitions-07 (work in progress),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              March 2015.</td><td> </td><td class="right">              March 2015.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [I-D.liang-iana-pen]</td><td> </td><td class="right">   [I-D.liang-iana-pen]</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Liang, P., Melnikov, A., and D. Conrad, "Private</td><td> </td><td class="right">              Liang, P., Melnikov, A., and D. Conrad, "Private</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l16" /><small>skipping to change at</small><em> page 38, line 30</em></th><th> </th><th><a name="part-r16" /><small>skipping to change at</small><em> page 40, line 16</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   There are various existing protocols that have elementary negotiation</td><td> </td><td class="right">   There are various existing protocols that have elementary negotiation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   abilities, such as Dynamic Host Configuration Protocol for IPv6</td><td> </td><td class="right">   abilities, such as Dynamic Host Configuration Protocol for IPv6</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   (DHCPv6) [RFC3315], Neighbor Discovery (ND) [RFC4861], Port Control</td><td> </td><td class="right">   (DHCPv6) [RFC3315], Neighbor Discovery (ND) [RFC4861], Port Control</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Protocol (PCP) [RFC6887], Remote Authentication Dial In User Service</td><td> </td><td class="right">   Protocol (PCP) [RFC6887], Remote Authentication Dial In User Service</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   (RADIUS) [RFC2865], Diameter [RFC6733], etc.  Most of them are</td><td> </td><td class="right">   (RADIUS) [RFC2865], Diameter [RFC6733], etc.  Most of them are</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   configuration or management protocols.  However, they either provide</td><td> </td><td class="right">   configuration or management protocols.  However, they either provide</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   only a simple request/response model in a master/slave context or</td><td> </td><td class="right">   only a simple request/response model in a master/slave context or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   very limited negotiation abilities.</td><td> </td><td class="right">   very limited negotiation abilities.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0084" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   There are <span class="delete">also signal</span>ling protocols with an element of negotiation.</td><td> </td><td class="rblock">   There are <span class="insert">some signa</span>ling protocols with an element of negotiation.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   For example Resource ReSerVation Protocol (RSVP) [RFC2205] was</td><td> </td><td class="right">   For example Resource ReSerVation Protocol (RSVP) [RFC2205] was</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   designed for negotiating quality of service parameters along the path</td><td> </td><td class="right">   designed for negotiating quality of service parameters along the path</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   of a unicast or multicast flow.  RSVP is a very specialised protocol</td><td> </td><td class="right">   of a unicast or multicast flow.  RSVP is a very specialised protocol</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   aimed at end-to-end flows.  However, it has some flexibility, having</td><td> </td><td class="right">   aimed at end-to-end flows.  However, it has some flexibility, having</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   been extended for MPLS label distribution [RFC3209].  A more generic</td><td> </td><td class="right">   been extended for MPLS label distribution [RFC3209].  A more generic</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   design is General Internet Signalling Transport (GIST) [RFC5971], but</td><td> </td><td class="right">   design is General Internet Signalling Transport (GIST) [RFC5971], but</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   it is complex, tries to solve many problems, and is also aimed at</td><td> </td><td class="right">   it is complex, tries to solve many problems, and is also aimed at</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0085" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   per-flow <span class="delete">signalling</span> across many hops rather than at device-to-device</td><td> </td><td class="rblock">   per-flow <span class="insert">signaling</span> across many hops rather than at device-to-device</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">signalling.</span>  However, we cannot completely exclude extended RSVP or</td><td> </td><td class="rblock">   <span class="insert">signaling.</span>  However, we cannot completely exclude extended RSVP or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   GIST as a synchronization and negotiation protocol.  They do not</td><td> </td><td class="right">   GIST as a synchronization and negotiation protocol.  They do not</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   appear to be directly useable for peer discovery.</td><td> </td><td class="right">   appear to be directly useable for peer discovery.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   We now consider two protocols that are works in progress at the time</td><td> </td><td class="right">   We now consider two protocols that are works in progress at the time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   of this writing.  Firstly, RESTCONF [I-D.ietf-netconf-restconf] is a</td><td> </td><td class="right">   of this writing.  Firstly, RESTCONF [I-D.ietf-netconf-restconf] is a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   protocol intended to convey NETCONF information expressed in the YANG</td><td> </td><td class="right">   protocol intended to convey NETCONF information expressed in the YANG</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   language via HTTP, including the ability to transit HTML</td><td> </td><td class="right">   language via HTTP, including the ability to transit HTML</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   intermediaries.  While this is a powerful approach in the context of</td><td> </td><td class="right">   intermediaries.  While this is a powerful approach in the context of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   centralised configuration of a complex network, it is not well</td><td> </td><td class="right">   centralised configuration of a complex network, it is not well</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   adapted to efficient interactive negotiation between peer devices,</td><td> </td><td class="right">   adapted to efficient interactive negotiation between peer devices,</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 85 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>261 lines changed or deleted</i></th><th><i> </i></th><th><i>348 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.42. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
X-Generator: pyht 0.35

<!-- args: {'--oldcolour': 'red', '--width': '', 'difftype': '--html', 'filename2': '\n\n\n\nNetwork Working Group                                       B. Carpenter\nInternet-Draft                                         Univ. of Auckland\nIntended status: Standards Track                                  B. Liu\nExpires: November 18, 2015                  Huawei Technologies Co., Ltd\n                                                            May 17, 2015\n\n\n A Generic Discovery and Negotiation Protocol for Autonomic Networking\n                 draft-carpenter-anima-gdn-protocol-04\n\nAbstract\n\n   This document establishes requirements for a signaling protocol that\n   enables autonomic devices and autonomic service agents to dynamically\n   discover peers, to synchronize state with them, and to negotiate\n   parameter settings mutually with them.  The document then defines a\n   general protocol for discovery, synchronization and negotiation,\n   while the technical objectives for specific scenarios are to be\n   described in separate documents.  An Appendix briefly discusses\n   existing protocols with comparable features.\n\nStatus of This Memo\n\n   This Internet-Draft is submitted in full conformance with the\n   provisions of BCP 78 and BCP 79.\n\n   Internet-Drafts are working documents of the Internet Engineering\n   Task Force (IETF).  Note that other groups may also distribute\n   working documents as Internet-Drafts.  The list of current Internet-\n   Drafts is at http://datatracker.ietf.org/drafts/current/.\n\n   Internet-Drafts are draft documents valid for a maximum of six months\n   and may be updated, replaced, or obsoleted by other documents at any\n   time.  It is inappropriate to use Internet-Drafts as reference\n   material or to cite them other than as "work in progress."\n\n   This Internet-Draft will expire on November 18, 2015.\n\nCopyright Notice\n\n   Copyright (c) 2015 IETF Trust and the persons identified as the\n   document authors.  All rights reserved.\n\n   This document is subject to BCP 78 and the IETF Trust\'s Legal\n   Provisions Relating to IETF Documents\n   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication of this document.  Please review these documents\n   carefully, as they describe your rights and restrictions with respect\n\n\n\nCarpenter _ Liu         Expires November 18, 2015               [Page 1]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   to this document.  Code Components extracted from this document must\n   include Simplified BSD License text as described in Section 4.e of\n   the Trust Legal Provisions and are provided without warranty as\n   described in the Simplified BSD License.\n\nTable of Contents\n\n   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3\n   2.  Requirement Analysis of Discovery, Synchronization and\n       Negotiation . . . . . . . . . . . . . . . . . . . . . . . . .   4\n     2.1.  Requirements for Discovery  . . . . . . . . . . . . . . .   4\n     2.2.  Requirements for Synchronization and Negotiation\n           Capability  . . . . . . . . . . . . . . . . . . . . . . .   5\n     2.3.  Specific Technical Requirements . . . . . . . . . . . . .   7\n   3.  GDNP Protocol Overview  . . . . . . . . . . . . . . . . . . .   8\n     3.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   8\n     3.2.  High-Level Design Choices . . . . . . . . . . . . . . . .  10\n     3.3.  GDNP Protocol Basic Properties and Mechanisms . . . . . .  14\n       3.3.1.  Required External Security Mechanism  . . . . . . . .  14\n       3.3.2.  Transport Layer Usage . . . . . . . . . . . . . . . .  14\n       3.3.3.  Discovery Mechanism and Procedures  . . . . . . . . .  14\n       3.3.4.  Negotiation Procedures  . . . . . . . . . . . . . . .  16\n       3.3.5.  Synchronization Procedure . . . . . . . . . . . . . .  17\n     3.4.  GDNP Constants  . . . . . . . . . . . . . . . . . . . . .  18\n     3.5.  Session Identifier (Session ID) . . . . . . . . . . . . .  19\n     3.6.  GDNP Messages . . . . . . . . . . . . . . . . . . . . . .  19\n       3.6.1.  GDNP Message Format . . . . . . . . . . . . . . . . .  19\n       3.6.2.  Discovery Message . . . . . . . . . . . . . . . . . .  20\n       3.6.3.  Response Message  . . . . . . . . . . . . . . . . . .  20\n       3.6.4.  Request Message . . . . . . . . . . . . . . . . . . .  21\n       3.6.5.  Negotiation Message . . . . . . . . . . . . . . . . .  21\n       3.6.6.  Negotiation-ending Message  . . . . . . . . . . . . .  22\n       3.6.7.  Confirm-waiting Message . . . . . . . . . . . . . . .  22\n     3.7.  GDNP General Options  . . . . . . . . . . . . . . . . . .  22\n       3.7.1.  Format of GDNP Options  . . . . . . . . . . . . . . .  22\n       3.7.2.  Divert Option . . . . . . . . . . . . . . . . . . . .  23\n       3.7.3.  Accept Option . . . . . . . . . . . . . . . . . . . .  23\n       3.7.4.  Decline Option  . . . . . . . . . . . . . . . . . . .  24\n       3.7.5.  Waiting Time Option . . . . . . . . . . . . . . . . .  24\n       3.7.6.  Device Identity Option  . . . . . . . . . . . . . . .  25\n       3.7.7.  Locator Options . . . . . . . . . . . . . . . . . . .  25\n     3.8.  Objective Options . . . . . . . . . . . . . . . . . . . .  27\n       3.8.1.  Format of Objective Options . . . . . . . . . . . . .  27\n       3.8.2.  General Considerations for Objective Options  . . . .  28\n       3.8.3.  Organizing of Objective Options . . . . . . . . . . .  29\n       3.8.4.  Vendor Specific Objective Options . . . . . . . . . .  29\n       3.8.5.  Experimental Objective Options  . . . . . . . . . . .  30\n   4.  Items for Future Work . . . . . . . . . . . . . . . . . . . .  31\n\n\n\nCarpenter _ Liu         Expires November 18, 2015               [Page 2]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   5.  Security Considerations . . . . . . . . . . . . . . . . . . .  31\n   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  33\n   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .  34\n   8.  Change log [RFC Editor: Please remove]  . . . . . . . . . . .  35\n   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  36\n     9.1.  Normative References  . . . . . . . . . . . . . . . . . .  36\n     9.2.  Informative References  . . . . . . . . . . . . . . . . .  36\n   Appendix A.  Capability Analysis of Current Protocols . . . . . .  39\n   Authors\' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  41\n\n1.  Introduction\n\n   The success of the Internet has made IP-based networks bigger and\n   more complicated.  Large-scale ISP and enterprise networks have\n   become more and more problematic for human based management.  Also,\n   operational costs are growing quickly.  Consequently, there are\n   increased requirements for autonomic behavior in the networks.\n   General aspects of autonomic networks are discussed in\n   [I-D.irtf-nmrg-autonomic-network-definitions] and\n   [I-D.irtf-nmrg-an-gap-analysis].  In order to fulfil autonomy,\n   devices that embody autonomic service agents have specific signaling\n   requirements.  In particular they need to discover each other, to\n   synchronize state with each other, and to negotiate parameters and\n   resources directly with each other.  There is no restriction on the\n   type of parameters and resources concerned, which include very basic\n   information needed for addressing and routing, as well as anything\n   else that might be configured in a conventional network.  The atomic\n   unit of synchronization or negotiation is referred to as an\n   objective, defined more precisely later in this document.\n\n   Following this Introduction, Section 2 describes the requirements for\n   discovery, synchronization and negotiation.  Negotiation is an\n   iterative process, requiring multiple message exchanges forming a\n   closed loop between the negotiating devices.  State synchronization,\n   when needed, can be regarded as a special case of negotiation,\n   without iteration.  Section 3.2 describes a behavior model for a\n   protocol intended to support discovery, synchronization and\n   negotiation.  The design of Generic Discovery and Negotiation\n   Protocol (GDNP) in Section 3 of this document is mainly based on this\n   behavior model.  The relevant capabilities of various existing\n   protocols are reviewed in Appendix A.\n\n   The proposed discovery mechanism is oriented towards synchronization\n   and negotiation objectives.  It is based on a neighbor discovery\n   process, but also supports diversion to off-link peers.  Although\n   many negotiations will occur between horizontally distributed peers,\n   many target scenarios are hierarchical networks, which is the\n   predominant structure of current large-scale managed networks.\n\n\n\nCarpenter _ Liu         Expires November 18, 2015               [Page 3]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   However, when a device starts up with no pre-configuration, it has no\n   knowledge of the topology.  The protocol itself is capable of being\n   used in a small and/or flat network structure such as a small office\n   or home network as well as a professionally managed network.\n   Therefore, the discovery mechanism needs to be able to allow a device\n   to bootstrap itself without making any prior assumptions about\n   network structure.\n\n   Because GDNP can be used to perform a decision process among\n   distributed devices or between networks, it must run in a secure and\n   strongly authenticated environment.\n\n   It is understood that in realistic deployments, not all devices will\n   support GDNP.  It is expected that some autonomic service agents will\n   directly manage a group of non-autonomic nodes, and that other non-\n   autonomic nodes will be managed traditionally.  Such mixed scenarios\n   are not discussed in this specification.\n\n2.  Requirement Analysis of Discovery, Synchronization and Negotiation\n\n   This section discusses the requirements for discovery, negotiation\n   and synchronization capabilities.  The primary user of the protocol\n   is an autonomic service agent (ASA), so the requirements are mainly\n   expressed as the features needed by an ASA.  A single physical device\n   might contain several ASAs, and a single ASA might manage several\n   objectives.\n\n2.1.  Requirements for Discovery\n\n   In an autonomic network we must assume that when a device starts up\n   it has no information about any peer devices, the network structure,\n   or what specific role it must play.  The ASA(s) inside the device are\n   in the same situation.  In some cases, when a new application session\n   starts up within a device, the device or ASA may again lack\n   information about relevant peers.  It might be necessary to set up\n   resources on multiple other devices, coordinated and matched to each\n   other so that there is no wasted resource.  Security settings might\n   also need updating to allow for the new device or user.  Therefore a\n   basic requirement is that there must be a mechanism by which an ASA\n   can separately discover peer ASAs for each of the technical\n   objectives that it needs to manage.  Some objectives may only be\n   significant on the local link, but others may be significant across\n   the routed network and require off-link operations.  Thus, the\n   relevant peers might be immediate neighbors on the same layer 2 link\n   or they might be more distant and only accessible via layer 3.  The\n   mechanism must therefore support both on-link discovery and off-link\n   discovery of ASAs that support specific technical objectives.\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015               [Page 4]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   The relevant peers may be different for different technical\n   objectives.  Therefore discovery needs to be repeated as often as\n   necessary to find peers capable of acting as counterparts for each\n   objective that a discovery initiator needs to handle.  In many\n   scenarios, the discovery process may be followed by a synchronization\n   or negotiation process.  Therefore, a discovery objective may be\n   associated with one or more synchronization or negotiation\n   objectives.\n\n   When an ASA first starts up, it has no knowledge of the network\n   structure.  Therefore the discovery process must be able to support\n   any network scenario, assuming only that the device concerned is\n   bootstrapped from factory condition.\n\n   In some networks, as mentioned above, there will be some hierarchical\n   structure, at least for certain synchronization or negotiation\n   objectives, but this is unknown in advance.  The discovery protocol\n   must therefore operate regardless of hierarchical structure, which is\n   an attribute of individual objectives and not of the autonomic\n   network as a whole.  This is part of the more general requirement to\n   discover off-link peers.\n\n   During initialisation, a device must be able to establish mutual\n   trust with the rest of the network and join an authentication\n   mechanism.  Although this will inevitably start with a discovery\n   action, it is a special case precisely because trust is not yet\n   established.  This topic is the subject of\n   [I-D.pritikin-anima-bootstrapping-keyinfra].  We require that once\n   trust has been established for a device, all ASAs within the device\n   inherit the device\'s credentials and are also trusted.\n\n   In addition, depending on the type of network involved, discovery of\n   other central functions might be needed, such as the Network\n   Operations Center (NOC) [I-D.eckert-anima-stable-connectivity].  GDNP\n   must be capable of supporting such discovery during initialisation,\n   as well as discovery during ongoing operation.\n\n   The discovery process must not generate excessive (multicast) traffic\n   and must take account of sleeping nodes in the case of a resource-\n   constrained network.\n\n2.2.  Requirements for Synchronization and Negotiation Capability\n\n   We start by considering routing protocols, the closest approximation\n   to autonomic networking in widespread use.  Routing protocols use a\n   largely autonomic model based on distributed devices that communicate\n   repeatedly with each other.  However, routing is mainly based on one-\n   way information synchronization (in either direction), rather than on\n\n\n\nCarpenter _ Liu         Expires November 18, 2015               [Page 5]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   bi-directional negotiation.  The focus is reachability, so current\n   routing protocols only consider simple link status, i.e., up or down,\n   and an underlying assumption is that all nodes need a consistent view\n   of the network topology.  Other information, such as latency,\n   congestion, capacity, and particularly unused capacity, would be\n   helpful to get better path selection and utilization rate, but are\n   not normally used in distributed routing algorithms.  Also, autonomic\n   networks need to be able to manage many more dimensions, such as\n   security settings, power saving, load balancing, etc.  In general,\n   these items do not apply to all participating nodes, but only to a\n   subset.  A basic requirement for the protocol is therefore the\n   ability to represent, discover, synchronize and negotiate almost any\n   kind of network parameter among arbitrary subsets of participating\n   nodes.\n\n   Human intervention in complex situations is costly and error-prone.\n   Therefore, synchronization or negotiation of parameters without human\n   intervention is desirable whenever the coordination of multiple\n   devices can improve overall network performance.  It follows that a\n   requirement for the protocol is to be capable of running in any\n   device that would otherwise need human intervention.\n\n   Human intervention in large networks is often replaced by use of a\n   top-down network management system (NMS).  It therefore follows that\n   a requirement for the protocol is to be capable of running in any\n   device that would otherwise be managed by an NMS, and that it can co-\n   exist with an NMS.\n\n   Status information and traffic metrics need to be shared between\n   nodes for dynamic adjustment of resources and for monitoring\n   purposes.  While this might be achieved by existing protocols when\n   they are available, the new protocol needs to be able to support\n   parameter exchange, including mutual synchronization, even when no\n   negotiation as such is required.\n\n   Some features are expected to be implemented by individual ASAs, but\n   the protocol must be general enough to allow them:\n\n      It might happen that multiple ASAs attempt to manage the same\n      resource, leading to a need for conflict resolution.  In such a\n      case, the protocol\'s role is limited to signaling between ASAs.\n\n      Recovery from faults and identification of faulty devices should\n      be as automatic as possible.  The protocol\'s role is limited to\n      the ability to handle discovery, synchronization and negotiation\n      at any time, in case an ASA detects an anomaly such as a\n      negotiation counterpart failing.\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015               [Page 6]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n      Since the goal is to minimize human intervention, it is necessary\n      that the network can in effect "think ahead" before changing its\n      parameters.  In other words there must be a possibility of\n      forecasting the effect of a change by a "dry run" mechanism before\n      actually installing the change.  This will be an application of\n      the protocol rather than a feature of the protocol itself.\n\n      Management logging, monitoring, alerts and tools for intervention\n      are required.  However, these can only be features of individual\n      ASAs.  Another document [I-D.eckert-anima-stable-connectivity]\n      discusses how such agents may be linked into conventional OAM\n      systems via an Autonomic Control Plane\n      [I-D.behringer-anima-autonomic-control-plane].\n\n   The protocol needs to be able to deal with a wide variety of\n   technical objectives, covering any type of network parameter.\n   Therefore the protocol will need either an explicit information model\n   describing its messages, or at least a flexible and extensible\n   message format.  One design consideration is whether to adopt an\n   existing information model or to design a new one.  Another\n   consideration is whether it should be able to carry some or all of\n   the message formats used by existing configuration protocols.\n\n   The negotiation process must be guaranteed to terminate (with success\n   or failure) and if necessary it must contain tie-breaking rules for\n   each technical objective that requires them.  While this must be\n   defined specifically for each use case, the protocol should have some\n   general mechanisms in support of loop and deadlock prevention.\n\n2.3.  Specific Technical Requirements\n\n   To be a generic platform, the protocol payload format should be\n   independent of the transport protocol or IP version.  In particular,\n   it should be able to run over IPv6 or IPv4.  However, some functions,\n   such as multicasting or broadcasting on a link, might need to be IP\n   version dependent.  In case of doubt, IPv6 should be preferred.\n\n   The protocol must be able to access off-link counterparts via\n   routable addresses, i.e., must not be restricted to link-local\n   operation.\n\n   Following discovery, an ASA will normally perform negotiation or\n   synchronization for the corresponding objectives.  The design should\n   allow for this and may provide an optional mechanism to combine\n   discovery and negotiation/synchronization in a single call.  However,\n   it must also be possible for an external discovery mechanism to be\n   used, if so defined for a given objective.  In other words, GDNP\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015               [Page 7]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   discovery must not be a prerequisite for GDNP negotiation or\n   synchronization.\n\n   Dependencies and conflicts: In order to decide a configuration on a\n   given device, the device may need information from neighbors.  This\n   can be established through the negotiation procedure, or through\n   synchronization if that is sufficient.  However, a given item in a\n   neighbor may depend on other information from its own neighbors,\n   which may need another negotiation or synchronization procedure to\n   obtain or decide.  Therefore, there are potential dependencies and\n   conflicts among negotiation or synchronization procedures.  Resolving\n   dependencies and conflicts is a matter for the individual ASAs\n   involved.  To allow this, there need to be clear boundaries and\n   convergence mechanisms for negotiations.  Also some mechanisms are\n   needed to avoid loop dependencies.\n\n   Policy constraints: There must be provision for general policy intent\n   rules to be applied by all devices in the network (e.g., security\n   rules, prefix length, resource sharing rules).  However, policy\n   intent distribution might not use the negotiation protocol itself.\n\n   Management monitoring, alerts and intervention: Devices should be\n   able to report to a monitoring system.  Some events must be able to\n   generate operator alerts and some provision for emergency\n   intervention must be possible (e.g.  to freeze synchronization or\n   negotiation in a mis-behaving device).  These features may not use\n   the negotiation protocol itself.\n\n   The protocol needs to be fully secure against forged messages and\n   man-in-the middle attacks, and as secure as reasonably possible\n   against denial of service attacks.  It needs to be capable of\n   encryption in order to resist unwanted monitoring, although this\n   capability may not be required in all deployments.  However, it is\n   not required that the protocol itself provides these security\n   features; it may depend on an existing secure environment.\n\n   ASAs and the protocol engine need to run asynchronously when wait\n   states occur.\n\n3.  GDNP Protocol Overview\n\n3.1.  Terminology\n\n   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",\n   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and\n   "OPTIONAL" in this document are to be interpreted as described in\n   [RFC2119] when they appear in ALL CAPS.  When these words are not in\n   ALL CAPS (such as "should" or "Should"), they have their usual\n\n\n\nCarpenter _ Liu         Expires November 18, 2015               [Page 8]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   English meanings, and are not to be interpreted as [RFC2119] key\n   words.\n\n   This document uses terminology defined in\n   [I-D.irtf-nmrg-autonomic-network-definitions].\n\n   The following additional terms are used throughout this document:\n\n   o  Discovery: a process by which an ASA discovers peers according to\n      a specific discovery objective.  The discovery results may be\n      different according to the different discovery objectives.  The\n      discovered peers may later be used as negotiation counterparts or\n      as sources of synchronization data.\n\n   o  Negotiation: a process by which two (or more) ASAs interact\n      iteratively to agree on parameter settings that best satisfy the\n      objectives of one or more ASAs.\n\n   o  State Synchronization: a process by which two (or more) ASAs\n      interact to agree on the current state of parameter values stored\n      in each ASA.  This is a special case of negotiation in which\n      information is sent but the ASAs do not request their peers to\n      change parameter settings.  All other definitions apply to both\n      negotiation and synchronization.\n\n   o  Objective: An objective in GDNP is a configurable state of some\n      kind, which occurs in three contexts: Discovery, Negotiation and\n      Synchronization.  In the protocol, an objective is represented by\n      an identifier (actually a GDNP option number) and if relevant a\n      value.  Normally, a given objective will occur during discovery\n      and negotiation, or during discovery and synchronization, but not\n      in all three contexts.\n\n      *  One ASA may support multiple independent objectives.\n\n      *  The parameter described by a given objective is naturally based\n         on a specific service or function or action.  It may in\n         principle be anything that can be set to a specific logical,\n         numerical or string value, or a more complex data structure, by\n         a network node.  That node is generally expected to contain an\n         ASA which may itself manage other nodes.\n\n      *  Discovery Objective: if a node needs to synchronize or\n         negotiate a specific objective but does not know a peer that\n         supports this objective, it starts a discovery process.  The\n         objective is called a Discovery Objective during this process.\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015               [Page 9]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n      *  Synchronization Objective: an objective whose specific\n         technical content needs to be synchronized among two or more\n         ASAs.\n\n      *  Negotiation Objective: an objective whose specific technical\n         content needs to be decided in coordination with another ASA.\n\n   o  Discovery Initiator: an ASA that spontaneously starts discovery by\n      sending a discovery message referring to a specific discovery\n      objective.\n\n   o  Discovery Responder: a peer ASA which responds to the discovery\n      objective initiated by the discovery initiator.\n\n   o  Synchronization Initiator: an ASA that spontaneously starts\n      synchronization by sending a request message referring to a\n      specific synchronization objective.\n\n   o  Synchronization Responder: a peer ASA which responds with the\n      value of a synchronization objective.\n\n   o  Negotiation Initiator: an ASA that spontaneously starts\n      negotiation by sending a request message referring to a specific\n      negotiation objective.\n\n   o  Negotiation Counterpart: a peer with which the Negotiation\n      Initiator negotiates a specific negotiation objective.\n\n3.2.  High-Level Design Choices\n\n   This section describes a behavior model and some considerations for\n   designing a generic discovery, synchronization and negotiation\n   protocol, which can act as a platform for different technical\n   objectives.\n\n   NOTE: This protocol is described here in a stand-alone fashion as a\n   proof of concept.  An early version was prototyped by Huawei and the\n   Beijing University of Posts and Telecommunications.  However, this is\n   not yet a definitive proposal for IETF adoption.  In particular,\n   adaptation and extension of one of the protocols discussed in\n   Appendix A might be an option.  This whole specification is subject\n   to change as a result.\n\n   o  A generic platform\n\n      The protocol is designed as a generic platform, which is\n      independent from the synchronization or negotiation contents.  It\n      takes care of the general intercommunication between counterparts.\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 10]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n      The technical contents will vary according to the various\n      synchronization or negotiation objectives and the different pairs\n      of counterparts.\n\n\n   o  Security infrastructure and trust relationship\n\n      Because this negotiation protocol may directly cause changes to\n      device configurations and bring significant impacts to a running\n      network, this protocol is assumed to run within an existing secure\n      environment with strong authentication.\n\n      On the other hand, a limited negotiation model might be deployed\n      based on a limited trust relationship.  For example, between two\n      administrative domains, ASAs might also exchange limited\n      information and negotiate some particular configurations based on\n      a limited conventional or contractual trust relationship.\n\n\n   o  Discovery, synchronization and negotiation designed together\n\n      The discovery method and the synchronization and negotiation\n      methods are designed in the same way and can be combined when this\n      is useful.  These processes can also be performed independently\n      when appropriate.\n\n      *  GDNP discovery is appropriate for efficient discovery of GDNP\n         peers and allows a rapid mode of operation described in\n         Section 3.3.3.  For some parameters, especially those concerned\n         with application layer services, a text-based discovery\n         mechanism such as DNS Service Discovery\n         [I-D.ietf-dnssd-requirements] or Service Location Protocol\n         [RFC2608] might be more appropriate.  The choice is left to the\n         designers of individual ASAs.\n\n   o  A uniform pattern for technical contents\n\n      The synchronization and negotiation contents are defined according\n      to a uniform pattern.  They could be carried either in simple TLV\n      (Type, Length and Value) format or in payloads described by a\n      flexible language.  The initial protocol design uses the TLV\n      approach.  The format is extensible for unknown future\n      requirements.\n\n\n   o  A conservative model for synchronization\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 11]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n      GDNP supports bilateral synchronization, which could be used to\n      perform synchronization among a small number of nodes.\n\n      *  For some parameters, synchronization across large groups of\n         nodes, possibly including all autonomic nodes, might be needed.\n         For such cases, a flooding mechanism such as ADNCP\n         [I-D.stenberg-anima-adncp] is considered more appropriate.\n         GDNP is designed to coexist with ADNCP.  The choice is left to\n         the designers of individual ASAs.\n\n   o  A simple initiator/responder model for negotiation\n\n      Multi-party negotiations are too complicated to be modeled and\n      there might be too many dependencies among the parties to converge\n      efficiently.  A simple initiator/responder model is more feasible\n      and can complete multiple-party negotiations by indirect steps.\n\n\n   o  Organizing of synchronization or negotiation content\n\n      Naturally, the technical content will be organized according to\n      the relevant function or service.  The content from different\n      functions or services is kept independent from each other.  They\n      are not combined into a single option or single session because\n      these contents may be negotiated or synchronized with different\n      counterparts or may be different in response time.\n\n\n   o  Self aware network device\n\n      Every autonomic device will be pre-loaded with various functions\n      and ASAs and will be aware of its own capabilities, typically\n      decided by the hardware, firmware or pre-installed software.  Its\n      exact role may depend on the surrounding network behaviors, which\n      may include forwarding behaviors, aggregation properties, topology\n      location, bandwidth, tunnel or translation properties, etc.  The\n      surrounding topology will depend on the network planning.\n      Following an initial discovery phase, the device properties and\n      those of its neighbors are the foundation of the synchronization\n      or negotiation behavior of a specific device.  A device has no\n      pre-configuration for the particular network in which it is\n      installed.\n\n\n   o  Requests and responses in negotiation procedures\n\n      The initiator can negotiate with its relevant negotiation\n      counterpart ASAs, which may be different according to the specific\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 12]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n      negotiation objective.  It can request relevant information from\n      the negotiation counterpart so that it can decide its local\n      configuration to give the most coordinated performance.  It can\n      request the negotiation counterpart to make a matching\n      configuration in order to set up a successful communication with\n      it.  It can request certain simulation or forecast results by\n      sending some dry run conditions.\n\n      Beyond the traditional yes/no answer, the responder can reply with\n      a suggested alternative if its answer is \'no\'.  This would start a\n      bi-directional negotiation ending in a compromise between the two\n      ASAs.\n\n\n   o  Convergence of negotiation procedures\n\n      To enable convergence, when a responder makes a suggestion of a\n      changed condition in a negative reply, it should be as close as\n      possible to the original request or previous suggestion.  The\n      suggested value of the third or later negotiation steps should be\n      chosen between the suggested values from the last two negotiation\n      steps.  In any case there must be a mechanism to guarantee\n      convergence (or failure) in a small number of steps, such as a\n      timeout or maximum number of iterations.\n\n\n\n      *  End of negotiation\n\n         A limited number of rounds, for example three, or a timeout, is\n         needed on each ASA for each negotiation objective.  It may be\n         an implementation choice, a pre-configurable parameter, or a\n         network-wide policy intent.  These choices might vary between\n         different types of ASA.  Therefore, the definition of each\n         negotiation objective MUST clearly specify this, so that the\n         negotiation can always be terminated properly.\n\n\n      *  Failed negotiation\n\n         There must be a well-defined procedure for concluding that a\n         negotiation cannot succeed, and if so deciding what happens\n         next (deadlock resolution, tie-breaking, or revert to best-\n         effort service).  Again, this MUST be specified for individual\n         negotiation objectives, as an implementation choice, a pre-\n         configurable parameter, or a network-wide policy intent.\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 13]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n3.3.  GDNP Protocol Basic Properties and Mechanisms\n\n3.3.1.  Required External Security Mechanism\n\n   The protocol SHOULD run within a secure Autonomic Control Plane (ACP)\n   [I-D.behringer-anima-autonomic-control-plane].  The procedure for\n   establishing the ACP MUST provide a flag indicating to GDNP that the\n   ACP has been established.\n\n   If there is no ACP, the protocol MUST use TLS [RFC5246] or DTLS\n   [RFC6347] for all messages, based on a local Public Key\n   Infrastructure (PKI) [RFC5280] managed within the autonomic network\n   itself.\n\n   Link-local multicast is used for discovery messages.  These cannot be\n   secured, but responses to discovery messages MUST be secured.\n   However, during initialisation, before a node has joined the\n   applicable trust infrastructure, e.g.,\n   [I-D.pritikin-anima-bootstrapping-keyinfra], it might be impossible\n   to secure certain messages.  Such messages MUST be limited to the\n   strictly necessary minimum.\n\n3.3.2.  Transport Layer Usage\n\n   The protocol is capable of running over UDP or TCP, except for link-\n   local multicast discovery messages, which can only run over UDP and\n   MUST NOT be fragmented, and therefore cannot exceed the link MTU\n   size.\n\n   When running within a secure ACP, UDP SHOULD be used for messages not\n   exceeding the minimum IPv6 path MTU, and TCP MUST be used for longer\n   messages.  In other words, IPv6 fragmentation is avoided.  If a node\n   receives a UDP message but the reply is too long, it MUST open a TCP\n   connection to the peer for the reply.\n\n   When running without an ACP, TLS MUST be supported and used by\n   default, except for multicast discovery messages.  DTLS MAY be\n   supported as an alternative but the details are out of scope for this\n   document.\n\n   For all transport protocols, the GDNP protocol listens to the GDNP\n   Listen Port (Section 3.4).\n\n3.3.3.  Discovery Mechanism and Procedures\n\n   o  Separated discovery and negotiation mechanisms\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 14]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n         Although discovery and negotiation or synchronization are\n         defined together in the GDNP, they are separated mechanisms.\n         The discovery process could run independently from the\n         negotiation or synchronization process.  Upon receiving a\n         discovery (Section 3.6.2) or request (Section 3.6.4) message,\n         the recipient ASA should return a message in which it either\n         indicates itself as a discovery responder or diverts the\n         initiator towards another more suitable ASA.\n\n         The discovery action will normally be followed by a negotiation\n         or synchronization action.  The discovery results could be\n         utilized by the negotiation protocol to decide which ASA the\n         initiator will negotiate with.\n\n   o  Discovery Procedures\n\n         Discovery starts as an on-link operation.  The Divert option\n         can tell the discovery initiator to contact an off-link ASA for\n         that discovery objective.  Every DISCOVERY message is sent by a\n         discovery initiator via UDP to the ALL_GDNP_NEIGHBOR multicast\n         address (Section 3.4).  Every network device that supports the\n         GDNP always listens to a well-known UDP port to capture the\n         discovery messages.\n\n         If an ASA in the neighbor device supports the requested\n         discovery objective, it MAY respond with a Response message\n         (Section 3.6.3) with locator option(s).  Otherwise, if the\n         neigbor has cached information about an ASA that supports the\n         requested discovery objective (usually because it discovered\n         the same objective before), it SHOULD respond with a Response\n         message with a Divert option pointing to the appropriate\n         Discovery Responder.\n\n         If no discovery response is received within a reasonable\n         timeout (default GDNP_DEF_TIMEOUT milliseconds, Section 3.4),\n         the DISCOVERY message MAY be repeated, with a newly generated\n         Session ID (Section 3.5).  An exponential backoff SHOULD be\n         used for subsequent repetitions, in order to mitigate possible\n         denial of service attacks.\n\n         After a GDNP device successfully discovers a Discovery\n         Responder supporting a specific objective, it MUST cache this\n         information.  This cache record MAY be used for future\n         negotiation or synchronization, and SHOULD be passed on when\n         appropriate as a Divert option to another Discovery Initiator.\n         The cache lifetime is an implementation choice.\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 15]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n         If multiple Discovery Responders are found for the same\n         objective, they SHOULD all be cached, unless this creates a\n         resource shortage.  The method of choosing between multiple\n         responders is an implementation choice.\n\n         A GDNP device with multiple link-layer interfaces (typically a\n         router) MUST support discovery on all interfaces.  If it\n         receives a DISCOVERY message on a given interface for a\n         specific objective that it does not support and for which it\n         has not previously discovered a Discovery Responder, it MUST\n         relay the query by re-issuing the same DISCOVERY message on its\n         other interfaces.  However, it MUST limit the total rate at\n         which it relays discovery messages to a reasonable value, in\n         order to mitigate possible denial of service attacks.  It MUST\n         cache the Session ID value of each relayed discovery message\n         and, to prevent loops, MUST NOT relay a DISCOVERY message which\n         carries such a cached Session ID.\n\n         This relayed discovery mechanism, with caching of the results,\n         should be sufficient to support most network bootstrapping\n         scenarios.\n\n   o  A complete discovery process will start with multicast on the\n      local link; a neighbor might divert it to an off-link destination,\n      which could be a default higher-level gateway in a hierarchical\n      network.  Then discovery would continue with a unicast to that\n      gateway; if that gateway is still not the right counterpart, it\n      should divert to another gateway, which is in principle closer to\n      the right counterpart.  Finally the right counterpart responds to\n      start the negotiation or synchronization process.\n\n   o  Rapid Mode (Discovery/Negotiation binding)\n\n         A Discovery message MAY include one or more Negotiation\n         Objective option(s).  This allows a rapid mode of negotiation\n         described in Section 3.3.4.  A similar mechanism is defined for\n         synchronization in Section 3.3.5.\n\n3.3.4.  Negotiation Procedures\n\n   A negotiation initiator sends a negotiation request to a counterpart\n   ASA, including a specific negotiation objective.  It may request the\n   negotiation counterpart to make a specific configuration.\n   Alternatively, it may request a certain simulation or forecast result\n   by sending a dry run configuration.  The details, including the\n   distinction between dry run and an actual configuration change, will\n   be defined separately for each type of negotiation objective.\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 16]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   If the counterpart can immediately apply the requested configuration,\n   it will give an immediate positive (accept) answer.  This will end\n   the negotiation phase immediately.  Otherwise, it will negotiate.  It\n   will reply with a proposed alternative configuration that it can\n   apply (typically, a configuration that uses fewer resources than\n   requested by the negotiation initiator).  This will start a bi-\n   directional negotiation to reach a compromise between the two ASAs.\n\n   The negotiation procedure is ended when one of the negotiation peers\n   sends a Negotiation Ending message, which contains an accept or\n   decline option and does not need a response from the negotiation\n   peer.  Negotiation may also end in failure (equivalent to a decline)\n   if a timeout is exceeded or a loop count is exceeded.\n\n   A negotiation procedure concerns one objective and one counterpart.\n   Both the initiator and the counterpart may take part in simultaneous\n   negotiations with various other ASAs, or in simultaneous negotiations\n   about different objectives.  Thus, GDNP is expected to be used in a\n   multi-threaded mode.  Certain negotiation objectives may have\n   restrictions on multi-threading, for example to avoid over-allocating\n   resources.\n\n   Rapid Mode (Discovery/Negotiation linkage)\n\n      A Discovery message MAY include a Negotiation Objective option.\n      In this case the Discovery message also acts as a Request message\n      to indicate to the Discovery Responder that it could directly\n      reply to the Discovery Initiator with a Negotiation message for\n      rapid processing, if it could act as the corresponding negotiation\n      counterpart.  However, the indication is only advisory not\n      prescriptive.\n\n      This rapid mode could reduce the interactions between nodes so\n      that a higher efficiency could be achieved.  This rapid\n      negotiation function SHOULD be configured off by default and MAY\n      be configured on or off by policy intent.\n\n3.3.5.  Synchronization Procedure\n\n   A synchronization initiator sends a synchronization request to a\n   counterpart, including a specific synchronization objective.  The\n   counterpart responds with a Response message containing the current\n   value of the requested synchronization objective.  No further\n   messages are needed.  If no Response message is received, the\n   synchronization request MAY be repeated after a suitable timeout.\n\n   In the case just described, the message exchange is unicast and\n   concerns only one synchronization objective.  For large groups of\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 17]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   nodes requiring mutual synchronization, ADNCP\n   [I-D.stenberg-anima-adncp] is considered more appropriate.  In the\n   following case, several synchronization objectives may be combined.\n\n   Rapid Mode (Discovery/Synchronization linkage)\n\n      A Discovery message MAY include one or more Synchronization\n      Objective option(s).  In this case the Discovery message also acts\n      as a Request message to indicate to the Discovery Responder that\n      it could directly reply to the Discovery Initiator with a Response\n      message with synchronization data for rapid processing, if the\n      discovery target supports the corresponding synchronization\n      objective(s).  However, the indication is only advisory not\n      prescriptive.\n\n      This rapid mode could reduce the interactions between nodes so\n      that a higher efficiency could be achieved.  This rapid\n      synchronization function SHOULD be configured off by default and\n      MAY be configured on or off by policy intent.\n\n3.4.  GDNP Constants\n\n   o  ALL_GDNP_NEIGHBOR\n\n      A link-local scope multicast address used by a GDNP-enabled device\n      to discover GDNP-enabled neighbor (i.e., on-link) devices . All\n      devices that support GDNP are members of this multicast group.\n\n      *  IPv6 multicast address: TBD1\n\n      *  IPv4 multicast address: TBD2\n\n   o  GDNP Listen Port (TBD3)\n\n      A UDP and TCP port that every GDNP-enabled network device always\n      listens to.\n\n   o  GDNP_DEF_TIMEOUT (60000 milliseconds)\n\n      The default timeout used to determine that a discovery or\n      negotiation has failed to complete.\n\n   o  GDNP_DEF_LOOPCT (6)\n\n      The default loop count used to determine that a negotiation has\n      failed to complete.\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 18]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n3.5.  Session Identifier (Session ID)\n\n   A 24-bit opaque value used to distinguish multiple sessions between\n   the same two devices.  A new Session ID MUST be generated for every\n   new Discovery or Request message, and for every unsolicited Response\n   message.  All follow-up messages in the same discovery,\n   synchronization or negotiation procedure, which is initiated by the\n   request message, MUST carry the same Session ID.\n\n   The Session ID SHOULD have a very low collision rate locally.  It is\n   RECOMMENDED to be generated by a pseudo-random algorithm using a seed\n   which is unlikely to be used by any other device in the same network\n   [RFC4086].\n\n3.6.  GDNP Messages\n\n   This document defines the following GDNP message format and types.\n   Message types not listed here are reserved for future use.  The\n   numeric encoding for each message type is shown in parentheses.\n\n3.6.1.  GDNP Message Format\n\n   GDNP messages share an identical fixed format header and a variable\n   format area for options.  GDNP message headers and options are in the\n   type-length-value (TLV) format defined in DNCP (see Section "Type-\n   Length-Value Objects" in [I-D.ietf-homenet-dncp]).\n\n   Every GDNP message carries a Session ID.  Options are presented\n   serially in the options field, with padding to 4-byte alignment.\n\n   The following diagram illustrates the format of GDNP messages:\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _          MESSAGE_TYPE         _                4              _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _    Reserved   _                Session ID                     _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _                        Options  (variable length)             _\n   .                                                               .\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   MESSAGE_TYPE:  Identifies the GDNP message type. 16-bit.\n\n   Reserved:  Set to zero, ignored on receipt. 8-bit.\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 19]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   Session ID:  Identifies this GDNP session, as defined in Section 3.5.\n      24-bit.\n\n   Options:  GDNP Options carried in this message.  Options are defined\n      starting at Section 3.7.\n\n3.6.2.  Discovery Message\n\n   DISCOVERY (MESSAGE_TYPE = G1):\n\n   A discovery initiator sends a DISCOVERY message to initiate a\n   discovery process.\n\n   The discovery initiator sends the DISCOVERY messages to the link-\n   local ALL_GDNP_NEIGHBOR multicast address for discovery, and stores\n   the discovery results (including responding discovery objectives and\n   corresponding unicast addresses or FQDNs).\n\n   A DISCOVERY message MUST include exactly one of the following:\n\n   o  a discovery objective option (Section 3.8.1).\n\n   o  a negotiation objective option (Section 3.8.1) to indicate to the\n      discovery target that it MAY directly reply to the discovery\n      initiatior with a NEGOTIATION message for rapid processing, if it\n      could act as the corresponding negotiation counterpart.  The\n      sender of such a DISCOVERY message MUST initialize a negotiation\n      timer and loop count in the same way as a REQUEST message\n      (Section 3.6.4).\n\n   o  one or more synchronization objective options (Section 3.8.1) to\n      indicate to the discovery target that it MAY directly reply to the\n      discovery initiator with a RESPONSE message for rapid processing,\n      if it could act as the corresponding synchronization counterpart.\n\n3.6.3.  Response Message\n\n   RESPONSE (MESSAGE_TYPE = G2):\n\n   A node which receives a DISCOVERY message sends a Response message to\n   respond to a discovery.  It MUST contain the same Session ID as the\n   DISCOVERY message.  It MAY include a copy of the discovery objective\n   from the DISCOVERY message.\n\n   If the responding node supports the discovery objective of the\n   discovery, it MUST include at least one kind of locator option\n   (Section 3.7.7) to indicate its own location.  A combination of\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 20]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   multiple kinds of locator options (e.g.  IP address option + FQDN\n   option) is also valid.\n\n   If the responding node itself does not support the discovery\n   objective, but it knows the locator of the discovery objective, then\n   it SHOULD respond to the discovery message with a divert option\n   (Section 3.7.2) embedding a locator option or a combination of\n   multiple kinds of locator options which indicate the locator(s) of\n   the discovery objective.\n\n   A node which receives a synchronization request sends a Response\n   message with the synchronization data, in the form of GDNP Option(s)\n   for the specific synchronization objective(s).\n\n3.6.4.  Request Message\n\n   REQUEST (MESSAGE_TYPE = G3):\n\n   A negotiation or synchronization requesting node sends the REQUEST\n   message to the unicast address (directly stored or resolved from the\n   FQDN) of the negotiation or synchronization counterpart (selected\n   from the discovery results).\n\n   A request message MUST include the relevant objective option, with\n   the requested value in the case of negotiation.\n\n   When an initiator sends a REQUEST message, it MUST initialize a\n   negotiation timer for the new negotiation thread with the value\n   GDNP_DEF_TIMEOUT milliseconds.  Unless this timeout is modified by a\n   CONFIRM-WAITING message (Section 3.6.7), the initiator will consider\n   that the negotiation has failed when the timer expires.\n\n   When an initiator sends a REQUEST message, it MUST initialize the\n   loop count of the objective option with a value defined in the\n   specification of the option or, if no such value is specified, with\n   GDNP_DEF_LOOPCT.\n\n3.6.5.  Negotiation Message\n\n   NEGOTIATION (MESSAGE_TYPE = G4):\n\n   A negotiation counterpart sends a NEGOTIATION message in response to\n   a REQUEST message, a NEGOTIATION message, or a DISCOVERY message in\n   Rapid Mode.  A negotiation process MAY include multiple steps.\n\n   The NEGOTIATION message MUST include the relevant Negotiation\n   Objective option, with its value updated according to progress in the\n   negotiation.  The sender MUST decrement the loop count by 1.  If the\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 21]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   loop count becomes zero both parties will consider that the\n   negotiation has failed.\n\n3.6.6.  Negotiation-ending Message\n\n   NEGOTIATION-ENDING (MESSAGE_TYPE = G5):\n\n   A negotiation counterpart sends an NEGOTIATION-ENDING message to\n   close the negotiation.  It MUST contain one, but only one of accept/\n   decline option, defined in Section 3.7.3 and Section 3.7.4.  It could\n   be sent either by the requesting node or the responding node.\n\n3.6.7.  Confirm-waiting Message\n\n   CONFIRM-WAITING (MESSAGE_TYPE = G6):\n\n   A responding node sends a CONFIRM-WAITING message to indicate the\n   requesting node to wait for a further negotiation response.  It might\n   be that the local process needs more time or that the negotiation\n   depends on another triggered negotiation.  This message MUST NOT\n   include any other options than the Waiting Time Option\n   (Section 3.7.5).\n\n3.7.  GDNP General Options\n\n   This section defines the GDNP general options for the negotiation and\n   synchronization protocol signaling.  Additional option types are\n   reserved for GDNP general options defined in the future.\n\n3.7.1.  Format of GDNP Options\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _          option-code          _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _                          option-data                          _\n   _                      (option-len octets)                      _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  An unsigned integer identifying the specific option\n      type carried in this option.\n\n   Option-len:  An unsigned integer giving the length of the option-data\n      field in this option in octets.\n\n   Option-data:  The data for the option; the format of this data\n      depends on the definition of the option.\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 22]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   GDNP options are scoped by using encapsulation.  If an option\n   contains other options, the outer Option-len includes the total size\n   of the encapsulated options, and the latter apply only to the outer\n   option.\n\n3.7.2.  Divert Option\n\n   The divert option is used to redirect a GDNP request to another node,\n   which may be more appropriate for the intended negotiation or\n   synchronization.  It may redirect to an entity that is known as a\n   specific negotiation or synchronization counterpart (on-link or off-\n   link) or a default gateway.  The divert option MUST only be\n   encapsulated in Response messages.  If found elsewhere, it SHOULD be\n   silently ignored.\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _         OPTION_DIVERT         _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _             Locator Option(s) of Diversion Target(s)          _\n   .                                                               .\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_DIVERT (G32).\n\n   Option-len:  The total length of diverted destination sub-option(s)\n      in octets.\n\n   Locator Option(s) of Diversion Device(s):  Embedded Locator Option(s)\n      (Section 3.7.7) that point to diverted destination target(s).\n\n3.7.3.  Accept Option\n\n   The accept option is used to indicate to the negotiation counterpart\n   that the proposed negotiation content is accepted.\n\n   The accept option MUST only be encapsulated in Negotiation-ending\n   messages.  If found elsewhere, it SHOULD be silently ignored.\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _        OPTION_ACCEPT          _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_ACCEPT (G33)\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 23]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   Option-len:  0\n\n3.7.4.  Decline Option\n\n   The decline option is used to indicate to the negotiation counterpart\n   the proposed negotiation content is declined and end the negotiation\n   process.\n\n   The decline option MUST only be encapsulated in Negotiation-ending\n   messages.  If found elsewhere, it SHOULD be silently ignored.\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _        OPTION_DECLINE         _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_DECLINE (G34)\n\n   Option-len:  0\n\n   Notes: there are scenarios where a negotiation counterpart wants to\n   decline the proposed negotiation content and continue the negotiation\n   process.  For these scenarios, the negotiation counterpart SHOULD use\n   a Negotiate message, with either an objective option that contains at\n   least one data field with all bits set to 1 to indicate a meaningless\n   initial value, or a specific objective option that provides further\n   conditions for convergence.\n\n3.7.5.  Waiting Time Option\n\n   The waiting time option is used to indicate that the negotiation\n   counterpart needs to wait for a further negotiation response, since\n   the processing might need more time than usual or it might depend on\n   another triggered negotiation.\n\n   The waiting time option MUST only be encapsulated in Confirm-waiting\n   messages.  If found elsewhere, it SHOULD be silently ignored.  When\n   received, its value overwrites the negotiation timer (Section 3.6.4).\n\n   The counterpart SHOULD send a Negotiation, Negotiation-Ending or\n   another Confirm-waiting message before the negotiation timer expires.\n   If not, the initiator MUST abandon or restart the negotiation\n   procedure, to avoid an indefinite wait.\n\n\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 24]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _       OPTION_WAITING          _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _                              Time                             _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_WAITING (G35)\n\n   Option-len:  4, in octets\n\n   Time:  Time in milliseconds\n\n3.7.6.  Device Identity Option\n\n   The Device Identity option carries the identities of the sender and\n   of the domain(s) that it belongs to.  The format of the Device\n   Identity option is as follows:\n\n      0                   1                   2                   3\n      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n     _       OPTION_DEVICE_ID        _           option-len          _\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n     _                                                               _\n     .                    Identities (variable length)               .\n     .                                                               .\n     _                                                               _\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_DEVICE_ID (G36)\n\n   Option-len:  Length of identities in octets\n\n   Identities:  A variable-length field containing the device identity\n      and one or more domain identities.  The format is not yet defined.\n\n   Note:  Currently this option is a placeholder.  It might be removed\n      or modified.\n\n3.7.7.  Locator Options\n\n   These locator options are used to present reachability information\n   for an ASA, a device or an interface.  They are Locator IPv4 Address\n   Option, Locator IPv6 Address Option and Locator FQDN (Fully Qualified\n   Domain Name) Option.\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 25]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   Note that it is assumed that all locators are in scope throughout the\n   GDNP domain.  GDNP is not intended to work across disjoint addressing\n   or naming realms.\n\n3.7.7.1.  Locator IPv4 address option\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _    OPTION_LOCATOR_IPV4ADDR    _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _                          IPv4-Address                         _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_LOCATOR_IPV4ADDR (G37)\n\n   Option-len:  4, in octets\n\n   IPv4-Address:  The IPv4 address locator of the target\n\n   Note: If an operator has internal network address translation for\n   IPv4, this option MUST NOT be used within the Divert option.\n\n3.7.7.2.  Locator IPv6 address option\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _   OPTION_LOCATOR_IPV6ADDR     _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _                                                               _\n   _                          IPv6-Address                         _\n   _                                                               _\n   _                                                               _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_LOCATOR_IPV6ADDR (G38)\n\n   Option-len:  16, in octets\n\n   IPv6-Address:  The IPv6 address locator of the target\n\n   Note: A link-local IPv6 address MUST NOT be used when this option is\n   used within the Divert option.\n\n\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 26]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n3.7.7.3.  Locator FQDN option\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _         OPTION_FQDN           _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _                   Fully Qualified Domain Name                 _\n   _                       (variable length)                       _\n   .                                                               .\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_FQDN (G39)\n\n   Option-len:  Length of Fully Qualified Domain Name in octets\n\n   Domain-Name:  The Fully Qualified Domain Name of the target\n\n   Note: Any FQDN which might not be valid throughout the network in\n   question, such as a Multicast DNS name [RFC6762], MUST NOT be used\n   when this option is used within the Divert option.\n\n3.8.  Objective Options\n\n3.8.1.  Format of Objective Options\n\n   An objective option is used to identify objectives for the purposes\n   of discovery, negotiation or synchronization.  All objectives must\n   follow a common format as follows:\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _         OPTION_XXX            _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _   flags       _   loop-count  _                               _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+          value                _\n   .                                    (variable length)          .\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_XXX: The option code assigned in the\n      specification of the XXX objective.\n\n   option-len:  The total length in octets.\n\n   flags:  Flag bits.\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 27]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n      Bit 0 (D bit): set if this objective is valid for GDNP discovery\n      operations.\n\n      Bit 1 (N bit): set if this objective is valid for GDNP negotiation\n      operations.\n\n      Bit 2 (S bit): set if this objective is valid for GDNP\n      synchronization operations.\n\n      Bits 3~7: reserved, set to zero and ignored on reception.\n\n   loop-count:  The loop count for terminating negotation.  This field\n      is present if and only if the objective is a negotiation\n      objective.\n\n   value:  This field is to express the actual value of a negotiation or\n      synchronization objective.  Its format is defined in the\n      specification of the objective and may be a single value or a data\n      structure of any kind.\n\n3.8.2.  General Considerations for Objective Options\n\n   Objective Options MUST be assigned an option type greater than G63 in\n   the GDNP option table.\n\n   An Objective Option that contains no additional fields, i.e., has a\n   length of 4 octets, is a discovery objective and MUST only be used in\n   Discovery and Response messages.\n\n   The Negotiation Objective Options contain negotiation objectives,\n   which are various according to different functions/services.  They\n   MUST be carried by Discovery, Request or Negotiation Messages only.\n   The negotiation initiator MUST set the initial "loop-count" to a\n   value specified in the specification of the objective or, if no such\n   value is specified, to GDNP_DEF_LOOPCT.\n\n   For most scenarios, there should be initial values in the negotiation\n   requests.  Consequently, the Negotiation Objective options MUST\n   always be completely presented in a Request message, or in a\n   Discovery message in rapid mode.  If there is no initial value, the\n   bits in the value field SHOULD all be set to 1 to indicate a\n   meaningless value, unless this is inappropriate for the specific\n   negotiation objective.\n\n   Synchronization Objective Options are similar, but MUST be carried by\n   Discovery, Request or Response messages only.  They include value\n   fields only in Response messages.\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 28]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n3.8.3.  Organizing of Objective Options\n\n   As noted earlier, one negotiation objective is handled by each GDNP\n   negotiation thread.  Therefore, a negotiation objective, which is\n   based on a specific function or action, SHOULD be organized as a\n   single GDNP option.  It is NOT RECOMMENDED to organize multiple\n   negotiation objectives into a single option, nor to split a single\n   function or action into multiple negotiation objectives.\n\n   A synchronization objective SHOULD also be organized as a single GDNP\n   option.\n\n   Some objectives will support more than one operational mode.  An\n   example is a negotiation objective with both a "dry run" mode (where\n   the negotiation is to find out whether the other end can in fact make\n   the requested change without problems) and a "live" mode.  Such modes\n   will be defined in the specification of such an objective.  These\n   objectives SHOULD include a "flags" octet, with bits indicating the\n   applicable mode(s).\n\n   An objective may have multiple parameters.  Parameters can be\n   categorized into two classes: the obligatory ones presented as fixed\n   fields; and the optional ones presented in TLV sub-options or some\n   other form of data structure.  The format might be inherited from an\n   existing management or configuration protocol, the objective option\n   acting as a carrier for that format.  The data structure might be\n   defined in a formal language, but that is a matter for the\n   specifications of individual objectives.  There are many candidates,\n   according to the context, such as ABNF, RBNF, XML Schema, possibly\n   YANG, etc.  The GDNP protocol itself is agnostic on these questions.\n\n   It is NOT RECOMMENDED to split parameters in a single objective into\n   multiple options, unless they have different response periods.  An\n   exception scenario may also be described by split objectives.\n\n3.8.4.  Vendor Specific Objective Options\n\n   Option codes G128~159 have been reserved for vendor specific options.\n   Multiple option codes have been assigned because a single vendor\n   might use multiple options simultaneously.  These vendor specific\n   options are highly likely to have different meanings when used by\n   different vendors.  Therefore, they SHOULD NOT be used without an\n   explicit human decision and SHOULD NOT be used in unmanaged networks\n   such as home networks.\n\n   There is one general requirement that applies to all vendor specific\n   options.  They MUST start with a field that uniquely identifies the\n   enterprise that defines the option, in the form of a registered 32\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 29]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   bit Private Enterprise Number (PEN) [I-D.liang-iana-pen].  There is\n   no default value for this field.  Note that it is not used during\n   discovery.  It MUST be verified during negotiation or\n   synchronization.\n\n   In the case of a vendor-specific objective, the loop count and flags,\n   if present, follow the PEN.\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _         OPTION_vendor         _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _                              PEN                              _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _   flags       _   loop-count  _                               _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+          value                _\n   .                                    (variable length)          .\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_vendor (G128~159)\n\n   Option-len:  The total length in octets.\n\n   PEN:  Private Enterprise Number.\n\n   flags:  See Section 3.8.1\n\n   loop-count:  See Section 3.8.1 This field is present if and only if\n      the objective is a negotiation objective.\n\n   value:  This field is to express the actual value of a negotiation or\n      synchronization objective.  Its format is defined in the vendor\'s\n      specification of the objective.\n\n3.8.5.  Experimental Objective Options\n\n   Option codes G176~191 have been reserved for experimental options.\n   Multiple option codes have been assigned because a single experiment\n   may use multiple options simultaneously.  These experimental options\n   are highly likely to have different meanings when used for different\n   experiments.  Therefore, they SHOULD NOT be used without an explicit\n   human decision and SHOULD NOT be used in unmanaged networks such as\n   home networks.\n\n   These option codes are also RECOMMENDED for use in documentation\n   examples.\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 30]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n4.  Items for Future Work\n\n   There are various design questions that are worthy of more work in\n   the near future, as listed below (statically numbered for reference\n   purposes, resolved issues removed):\n\n   o  5.  Need to expand description of the minimum requirements for the\n      specification of an individual discovery, synchronization or\n      negotiation objective.\n\n   o  6.  Use case and protocol walkthrough.  A description of how a\n      node starts up, performs discovery, and conducts negotiation and\n      synchronisation for a sample use case would help readers to\n      understand the applicability of this specification.  Maybe it\n      should be an artificial use case or maybe a simple real one, based\n      on a conceptual API.  However, the authors have not yet decided\n      whether to have a separate document or have it in the protocol\n      document.\n\n   o  7.  Cross-check against other ANIMA WG documents for consistency\n      and gaps.\n\n   o  12.  Justify that IP address within ACP or (D)TLS environment is\n      sufficient to prove AN identity; or explain how Device Identity\n      Option is used.  (Sheng)\n\n      For now, we assume that all ASAs in a device are trusted as soon\n      as the device is trusted, and share credentials.  In that case the\n      Device Identity Option is useless.  This needs to be reviewed\n      later.\n\n   o  14.  Do we need an unsolicited flooding mechanism for discovery\n      (for discovery results that everyone needs), to reduce scaling\n      impact of flooding discovery messages?  (Toerless)\n\n5.  Security Considerations\n\n   It is obvious that a successful attack on negotiation-enabled nodes\n   would be extremely harmful, as such nodes might end up with a\n   completely undesirable configuration that would also adversely affect\n   their peers.  GDNP nodes and messages therefore require full\n   protection.\n\n   - Authentication\n\n      A cryptographically authenticated identity for each device is\n      needed in an autonomic network.  It is not safe to assume that a\n      large network is physically secured against interference or that\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 31]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n      all personnel are trustworthy.  Each autonomic device MUST be\n      capable of proving its identity and authenticating its messages.\n      GDNP relies on a separate certificate-based security mechanism to\n      support authentication, data integrity protection, and anti-replay\n      protection.\n\n      Since GDNP is intended to be deployed in a single administrative\n      domain operating its own trust anchor and CA, there is no need for\n      a trusted public third party.  In a network requiring "air gap"\n      security, such a dependency would be unacceptable.\n\n   - Privacy and confidentiality\n\n      Generally speaking, no personal information is expected to be\n      involved in the negotiation protocol, so there should be no direct\n      impact on personal privacy.  Nevertheless, traffic flow paths,\n      VPNs, etc. could be negotiated, which could be of interest for\n      traffic analysis.  Also, operators generally want to conceal\n      details of their network topology and traffic density from\n      outsiders.  Therefore, since insider attacks cannot be excluded in\n      a large network, the security mechanism for the protocol MUST\n      provide message confidentiality.\n\n   - DoS Attack Protection\n\n      GDNP discovery partly relies on insecure link-local multicast.\n      Since routers participating in GDNP sometimes relay discovery\n      messages from one link to another, this could be a vector for\n      denial of service attacks.  Relevant mitigations are specified in\n      Section 3.3.3.  Additionally, it is of great importance that\n      firewalls prevent any GDNP messages from entering the domain from\n      an untrusted source.\n\n   - Security during bootstrap and discovery\n\n      A node cannot authenticate GDNP traffic from other nodes until it\n      has identified the trust anchor and can validate certificates for\n      other nodes.  Also, until it has succesfully enrolled\n      [I-D.pritikin-anima-bootstrapping-keyinfra] it cannot assume that\n      other nodes are able to authenticate its own traffic.  Therefore,\n      GDNP discovery during the bootstrap phase for a new device will\n      inevitably be insecure and GDNP synchronization and negotiation\n      will be impossible until enrollment is complete.\n\n\n\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 32]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n6.  IANA Considerations\n\n   Section 3.4 defines the following link-local multicast addresses,\n   which have been assigned by IANA for use by GDNP:\n\n   ALL_GDNP_NEIGHBOR multicast address  (IPv6): (TBD1).  Assigned in the\n      IPv6 Link-Local Scope Multicast Addresses registry.\n\n   ALL_GDNP_NEIGHBOR multicast address  (IPv4): (TBD2).  Assigned in the\n      IPv4 Multicast Local Network Control Block.\n\n      (Note in draft: alternatively, we could use 224.0.0.1, currently\n      defined as All Systems on this Subnet.)\n\n   Section 3.4 defines the following UDP and TCP port, which has been\n   assigned by IANA for use by GDNP:\n\n   GDNP Listen Port:  (TBD3)\n\n   This document defines the General Discovery and Negotiation Protocol\n   (GDNP).  The IANA is requested to create a GDNP registry within the\n   unused portion of the DNCP registry [I-D.ietf-homenet-dncp].  The\n   IANA is also requested to add two new registry tables to the newly-\n   created GDNP registry.  The two tables are the GDNP Messages table\n   and GDNP Options table.\n\n   Initial values for these registries are given below.  Future\n   assignments are to be made through Standards Action or Specification\n   Required [RFC5226].  Assignments for each registry consist of a type\n   code value, a name and a document where the usage is defined.\n\n   Note to the RFC Editor: In the following tables and in the body of\n   this document, the values G0, G1, etc., should be replaced by the\n   assigned values.\n\n   GDNP Messages table.  The values in this table are 16-bit unsigned\n   integers.  The following initial values are assigned in Section 3.6\n   in this document:\n\n\n\n\n\n\n\n\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 33]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n         Type  _          Name               _   RFCs\n      ---------+-----------------------------+------------\n           G0  _Reserved                     _ this document\n           G1  _Discovery Message            _ this document\n           G2  _Response Message             _ this document\n           G3  _Request Message              _ this document\n           G4  _Negotiation Message          _ this document\n           G5  _Negotiation-ending Message   _ this document\n           G6  _Confirm-waiting Message      _ this document\n        G7~31  _reserved for future messages _\n\n   GDNP Options table.  The values in this table are 16-bit unsigned\n   integers.  The following initial values are assigned in Section 3.7\n   and Section 3.8.1 in this document:\n\n         Type  _          Name               _   RFCs\n      ---------+-----------------------------+------------\n          G32  _Divert Option                _ this document\n          G33  _Accept Option                _ this document\n          G34  _Decline Option               _ this document\n          G35  _Waiting Time Option          _ this document\n          G36  _Device Identity Option       _ this document\n          G37  _Locator IPv4 Address Option  _ this document\n          G38  _Locator IPv6 Address Option  _ this document\n          G39  _Locator FQDN Option          _ this document\n       G40~63  _Reserved for future GDNP     _\n               _General Options              _\n       G64~127 _Reserved for future GDNP     _\n               _Objective Options            _\n       G128~159_Vendor Specific Options      _ this document\n       G160~175_Reserved for future use      _\n       G176~191_Experimental Options         _ this document\n       G192~???_Reserved for future use      _\n\n7.  Acknowledgements\n\n   A major contribution to the original version of this document was\n   made by Sheng Jiang.\n\n   Valuable comments were received from Michael Behringer, Jeferson\n   Campos Nobre, Laurent Ciavaglia, Zongpeng Du, Yu Fu, Zhenbin Li,\n   Dimitri Papadimitriou, Michael Richardson, Markus Stenberg, Rene\n   Struik, Dacheng Zhang, and other participants in the NMRG research\n   group and the ANIMA working group.\n\n   This document was produced using the xml2rfc tool [RFC2629].\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 34]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n8.  Change log [RFC Editor: Please remove]\n\n   draft-carpenter-anima-discovery-negotiation-protocol-04, 2015-05-17:\n\n   Tuned wording around hierarchical structure.\n\n   Changed "device" to "ASA" in many places.  Reformulated requirements\n   etc. to be clear that the ASA is the customer for signaling.\n\n   Requirements expanded and rearranged following design team\n   discussion.\n\n   Clarified that GDNP discovery must not be a prerequisite for GDNP\n   negotiation or synchronization (resolved issue 13).\n\n   Specified flag bits for objective options (resolved issue 15).\n\n   Clarified usage of ACP vs TLS/DTLS and TCP vs UDP (resolved issues\n   9,10,11).  Editorial improvements.\n\n   draft-carpenter-anima-discovery-negotiation-protocol-03, 2015-04-20:\n\n   Removed intrinsic security, required external security\n\n   Format changes to allow ADNCP co-existence\n\n   Recognized DNS-SD as alternative discovery method\n\n   Editorial improvements\n\n   draft-carpenter-anima-discovery-negotiation-protocol-02, 2015-02-19:\n\n   Tuned requirements to clarify scope,\n\n   Clarified relationship between types of objective,\n\n   Clarified that objectives may be simple values or complex data\n   structures,\n\n   Improved description of objective options,\n\n   Added loop-avoidance mechanisms (loop count and default timeout,\n   limitations on discovery relaying and on unsolicited responses),\n\n   Allow multiple discovery objectives in one response,\n\n   Provided for missing or multiple discovery responses,\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 35]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   Indicated how modes such as "dry run" should be supported,\n\n   Minor editorial and technical corrections and clarifications,\n\n   Reorganized future work list.\n\n   draft-carpenter-anima-discovery-negotiation-protocol-01, restructured\n   the logical flow of the document, updated to describe synchronization\n   completely, add unsolicited responses, numerous corrections and\n   clarifications, expanded future work list, 2015-01-06.\n\n   draft-carpenter-anima-discovery-negotiation-protocol-00, combination\n   of draft-jiang-config-negotiation-ps-03 and draft-jiang-config-\n   negotiation-protocol-02, 2014-10-08.\n\n9.  References\n\n9.1.  Normative References\n\n   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate\n              Requirement Levels", BCP 14, RFC 2119, March 1997.\n\n   [RFC4086]  Eastlake, D., Schiller, J., and S. Crocker, "Randomness\n              Requirements for Security", BCP 106, RFC 4086, June 2005.\n\n   [RFC5246]  Dierks, T. and E. Rescorla, "The Transport Layer Security\n              (TLS) Protocol Version 1.2", RFC 5246, August 2008.\n\n   [RFC5280]  Cooper, D., Santesson, S., Farrell, S., Boeyen, S.,\n              Housley, R., and W. Polk, "Internet X.509 Public Key\n              Infrastructure Certificate and Certificate Revocation List\n              (CRL) Profile", RFC 5280, May 2008.\n\n   [RFC6347]  Rescorla, E. and N. Modadugu, "Datagram Transport Layer\n              Security Version 1.2", RFC 6347, January 2012.\n\n9.2.  Informative References\n\n   [I-D.behringer-anima-autonomic-control-plane]\n              Behringer, M., Bjarnason, S., BL, B., and T. Eckert, "An\n              Autonomic Control Plane", draft-behringer-anima-autonomic-\n              control-plane-02 (work in progress), March 2015.\n\n   [I-D.chaparadza-intarea-igcp]\n              Behringer, M., Chaparadza, R., Petre, R., Li, X., and H.\n              Mahkonen, "IP based Generic Control Protocol (IGCP)",\n              draft-chaparadza-intarea-igcp-00 (work in progress), July\n              2011.\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 36]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   [I-D.eckert-anima-stable-connectivity]\n              Eckert, T. and M. Behringer, "Using Autonomic Control\n              Plane for Stable Connectivity of Network OAM", draft-\n              eckert-anima-stable-connectivity-01 (work in progress),\n              March 2015.\n\n   [I-D.ietf-dnssd-requirements]\n              Lynn, K., Cheshire, S., Blanchet, M., and D. Migault,\n              "Requirements for Scalable DNS-SD/mDNS Extensions", draft-\n              ietf-dnssd-requirements-06 (work in progress), March 2015.\n\n   [I-D.ietf-homenet-dncp]\n              Stenberg, M. and S. Barth, "Distributed Node Consensus\n              Protocol", draft-ietf-homenet-dncp-03 (work in progress),\n              April 2015.\n\n   [I-D.ietf-homenet-hncp]\n              Stenberg, M., Barth, S., and P. Pfister, "Home Networking\n              Control Protocol", draft-ietf-homenet-hncp-04 (work in\n              progress), March 2015.\n\n   [I-D.ietf-netconf-restconf]\n              Bierman, A., Bjorklund, M., and K. Watsen, "RESTCONF\n              Protocol", draft-ietf-netconf-restconf-04 (work in\n              progress), January 2015.\n\n   [I-D.irtf-nmrg-an-gap-analysis]\n              Jiang, S., Carpenter, B., and M. Behringer, "General Gap\n              Analysis for Autonomic Networking", draft-irtf-nmrg-an-\n              gap-analysis-06 (work in progress), April 2015.\n\n   [I-D.irtf-nmrg-autonomic-network-definitions]\n              Behringer, M., Pritikin, M., Bjarnason, S., Clemm, A.,\n              Carpenter, B., Jiang, S., and L. Ciavaglia, "Autonomic\n              Networking - Definitions and Design Goals", draft-irtf-\n              nmrg-autonomic-network-definitions-07 (work in progress),\n              March 2015.\n\n   [I-D.liang-iana-pen]\n              Liang, P., Melnikov, A., and D. Conrad, "Private\n              Enterprise Number (PEN) practices and Internet Assigned\n              Numbers Authority (IANA) registration considerations",\n              draft-liang-iana-pen-05 (work in progress), March 2015.\n\n\n\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 37]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   [I-D.pritikin-anima-bootstrapping-keyinfra]\n              Pritikin, M., Behringer, M., and S. Bjarnason,\n              "Bootstrapping Key Infrastructures", draft-pritikin-anima-\n              bootstrapping-keyinfra-01 (work in progress), February\n              2015.\n\n   [I-D.stenberg-anima-adncp]\n              Stenberg, M., "Autonomic Distributed Node Consensus\n              Protocol", draft-stenberg-anima-adncp-00 (work in\n              progress), March 2015.\n\n   [RFC2205]  Braden, B., Zhang, L., Berson, S., Herzog, S., and S.\n              Jamin, "Resource ReSerVation Protocol (RSVP) -- Version 1\n              Functional Specification", RFC 2205, September 1997.\n\n   [RFC2608]  Guttman, E., Perkins, C., Veizades, J., and M. Day,\n              "Service Location Protocol, Version 2", RFC 2608, June\n              1999.\n\n   [RFC2629]  Rose, M., "Writing I-Ds and RFCs using XML", RFC 2629,\n              June 1999.\n\n   [RFC2865]  Rigney, C., Willens, S., Rubens, A., and W. Simpson,\n              "Remote Authentication Dial In User Service (RADIUS)", RFC\n              2865, June 2000.\n\n   [RFC3209]  Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V.,\n              and G. Swallow, "RSVP-TE: Extensions to RSVP for LSP\n              Tunnels", RFC 3209, December 2001.\n\n   [RFC3315]  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C.,\n              and M. Carney, "Dynamic Host Configuration Protocol for\n              IPv6 (DHCPv6)", RFC 3315, July 2003.\n\n   [RFC3416]  Presuhn, R., "Version 2 of the Protocol Operations for the\n              Simple Network Management Protocol (SNMP)", STD 62, RFC\n              3416, December 2002.\n\n   [RFC4861]  Narten, T., Nordmark, E., Simpson, W., and H. Soliman,\n              "Neighbor Discovery for IP version 6 (IPv6)", RFC 4861,\n              September 2007.\n\n   [RFC5226]  Narten, T. and H. Alvestrand, "Guidelines for Writing an\n              IANA Considerations Section in RFCs", BCP 26, RFC 5226,\n              May 2008.\n\n   [RFC5971]  Schulzrinne, H. and R. Hancock, "GIST: General Internet\n              Signalling Transport", RFC 5971, October 2010.\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 38]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   [RFC6241]  Enns, R., Bjorklund, M., Schoenwaelder, J., and A.\n              Bierman, "Network Configuration Protocol (NETCONF)", RFC\n              6241, June 2011.\n\n   [RFC6733]  Fajardo, V., Arkko, J., Loughney, J., and G. Zorn,\n              "Diameter Base Protocol", RFC 6733, October 2012.\n\n   [RFC6762]  Cheshire, S. and M. Krochmal, "Multicast DNS", RFC 6762,\n              February 2013.\n\n   [RFC6763]  Cheshire, S. and M. Krochmal, "DNS-Based Service\n              Discovery", RFC 6763, February 2013.\n\n   [RFC6887]  Wing, D., Cheshire, S., Boucadair, M., Penno, R., and P.\n              Selkirk, "Port Control Protocol (PCP)", RFC 6887, April\n              2013.\n\nAppendix A.  Capability Analysis of Current Protocols\n\n   This appendix discusses various existing protocols with properties\n   related to the above negotiation and synchronisation requirements.\n   The purpose is to evaluate whether any existing protocol, or a simple\n   combination of existing protocols, can meet those requirements.\n\n   Numerous protocols include some form of discovery, but these all\n   appear to be very specific in their applicability.  Service Location\n   Protocol (SLP) [RFC2608] provides service discovery for managed\n   networks, but requires configuration of its own servers.  DNS-SD\n   [RFC6763] combined with mDNS [RFC6762] provides service discovery for\n   small networks with a single link layer.\n   [I-D.ietf-dnssd-requirements] aims to extend this to larger\n   autonomous networks.  However, both SLP and DNS-SD appear to target\n   primarily application layer services, not the layer 2 and 3\n   objectives relevant to basic network configuration.  Both SLP and\n   DNS-SD are text-based protocols.\n\n   Routing protocols are mainly one-way information announcements.  The\n   receiver makes independent decisions based on the received\n   information and there is no direct feedback information to the\n   announcing peer.  This remains true even though the protocol is used\n   in both directions between peer routers; there is state\n   synchronization, but no negotiation, and each peer runs its route\n   calculations independently.\n\n   Simple Network Management Protocol (SNMP) [RFC3416] uses a command/\n   response model not well suited for peer negotiation.  Network\n   Configuration Protocol (NETCONF) [RFC6241] uses an RPC model that\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 39]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   does allow positive or negative responses from the target system, but\n   this is still not adequate for negotiation.\n\n   There are various existing protocols that have elementary negotiation\n   abilities, such as Dynamic Host Configuration Protocol for IPv6\n   (DHCPv6) [RFC3315], Neighbor Discovery (ND) [RFC4861], Port Control\n   Protocol (PCP) [RFC6887], Remote Authentication Dial In User Service\n   (RADIUS) [RFC2865], Diameter [RFC6733], etc.  Most of them are\n   configuration or management protocols.  However, they either provide\n   only a simple request/response model in a master/slave context or\n   very limited negotiation abilities.\n\n   There are some signaling protocols with an element of negotiation.\n   For example Resource ReSerVation Protocol (RSVP) [RFC2205] was\n   designed for negotiating quality of service parameters along the path\n   of a unicast or multicast flow.  RSVP is a very specialised protocol\n   aimed at end-to-end flows.  However, it has some flexibility, having\n   been extended for MPLS label distribution [RFC3209].  A more generic\n   design is General Internet Signalling Transport (GIST) [RFC5971], but\n   it is complex, tries to solve many problems, and is also aimed at\n   per-flow signaling across many hops rather than at device-to-device\n   signaling.  However, we cannot completely exclude extended RSVP or\n   GIST as a synchronization and negotiation protocol.  They do not\n   appear to be directly useable for peer discovery.\n\n   We now consider two protocols that are works in progress at the time\n   of this writing.  Firstly, RESTCONF [I-D.ietf-netconf-restconf] is a\n   protocol intended to convey NETCONF information expressed in the YANG\n   language via HTTP, including the ability to transit HTML\n   intermediaries.  While this is a powerful approach in the context of\n   centralised configuration of a complex network, it is not well\n   adapted to efficient interactive negotiation between peer devices,\n   especially simple ones that are unlikely to include YANG processing\n   already.\n\n   Secondly, we consider Distributed Node Consensus Protocol (DNCP)\n   [I-D.ietf-homenet-dncp].  This is defined as a generic form of state\n   synchronization protocol, with a proposed usage profile being the\n   Home Networking Control Protocol (HNCP) [I-D.ietf-homenet-hncp] for\n   configuring Homenet routers.  A specific application of DNCP for\n   autonomic networking was proposed in [I-D.stenberg-anima-adncp].\n\n   Specific features of DNCP include:\n\n   o  Every participating node has a unique node identifier.\n\n   o  DNCP messages are encoded as a sequence of TLV objects, sent over\n      unicast UDP or TCP, with or without (D)TLS security.\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 40]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   o  Multicast is used only for discovery of DNCP neighbors when lower\n      security is acceptable.\n\n   o  Synchronization of state is maintained by a flooding process using\n      the Trickle algorithm.  There is no bilateral synchronization or\n      negotiation capability.\n\n   o  The HNCP profile of DNCP is designed to operate between directly\n      connected neighbors on a shared link using UDP and link-local IPv6\n      addresses.\n\n   Clearly DNCP does not meet the needs of a general negotiation\n   protocol, especially in its HNCP profile due to the limitation to\n   link-local messages and its strict dependency on IPv6.  However, at\n   the minimum it is a very interesting test case for this style of\n   interaction between devices without needing a central authority, and\n   it is a proven method of network-wide state synchronization by\n   flooding.\n\n   A proposal was made some years ago for an IP based Generic Control\n   Protocol (IGCP) [I-D.chaparadza-intarea-igcp].  This was aimed at\n   information exchange and negotiation but not directly at peer\n   discovery.  However, it has many points in common with the present\n   work.\n\n   None of the above solutions appears to completely meet the needs of\n   generic discovery, state synchronization and negotiation in a single\n   solution.  Neither is there an obvious combination of protocols that\n   does so.  Therefore, this document proposes the design of a protocol\n   that does meet those needs.  However, this proposal needs to be\n   compared with alternatives such as extension and adaptation of GIST\n   or DNCP, or combination with IGCP.\n\nAuthors\' Addresses\n\n   Brian Carpenter\n   Department of Computer Science\n   University of Auckland\n   PB 92019\n   Auckland  1142\n   New Zealand\n\n   Email: brian.e.carpenter@gmail.com\n\n\n\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 41]\n_\nInternet-Draft                GDN Protocol                      May 2015\n\n\n   Bing Liu\n   Huawei Technologies Co., Ltd\n   Q14, Huawei Campus\n   No.156 Beiqing Road\n   Hai-Dian District, Beijing  100095\n   P.R. China\n\n   Email: leo.liubing@huawei.com\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCarpenter _ Liu         Expires November 18, 2015              [Page 42]\n', 'filename1': '\n\n\n\nNetwork Working Group                                       B. Carpenter\nInternet-Draft                                         Univ. of Auckland\nIntended status: Standards Track                                  B. Liu\nExpires: October 22, 2015                   Huawei Technologies Co., Ltd\n                                                          April 20, 2015\n\n\n A Generic Discovery and Negotiation Protocol for Autonomic Networking\n                 draft-carpenter-anima-gdn-protocol-03\n\nAbstract\n\n   This document establishes requirements for a protocol that enables\n   intelligent devices to dynamically discover peer devices, to\n   synchronize state with them, and to negotiate parameter settings\n   mutually with them.  The document then defines a general protocol for\n   discovery, synchronization and negotiation, while the technical\n   objectives for specific scenarios are to be described in separate\n   documents.  An Appendix briefly discusses existing protocols with\n   comparable features.\n\nStatus of This Memo\n\n   This Internet-Draft is submitted in full conformance with the\n   provisions of BCP 78 and BCP 79.\n\n   Internet-Drafts are working documents of the Internet Engineering\n   Task Force (IETF).  Note that other groups may also distribute\n   working documents as Internet-Drafts.  The list of current Internet-\n   Drafts is at http://datatracker.ietf.org/drafts/current/.\n\n   Internet-Drafts are draft documents valid for a maximum of six months\n   and may be updated, replaced, or obsoleted by other documents at any\n   time.  It is inappropriate to use Internet-Drafts as reference\n   material or to cite them other than as "work in progress."\n\n   This Internet-Draft will expire on October 22, 2015.\n\nCopyright Notice\n\n   Copyright (c) 2015 IETF Trust and the persons identified as the\n   document authors.  All rights reserved.\n\n   This document is subject to BCP 78 and the IETF Trust\'s Legal\n   Provisions Relating to IETF Documents\n   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication of this document.  Please review these documents\n   carefully, as they describe your rights and restrictions with respect\n\n\n\nCarpenter _ Liu         Expires October 22, 2015                [Page 1]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   to this document.  Code Components extracted from this document must\n   include Simplified BSD License text as described in Section 4.e of\n   the Trust Legal Provisions and are provided without warranty as\n   described in the Simplified BSD License.\n\nTable of Contents\n\n   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3\n   2.  Requirement Analysis of Discovery, Synchronization and\n       Negotiation . . . . . . . . . . . . . . . . . . . . . . . . .   4\n     2.1.  Requirements for Discovery  . . . . . . . . . . . . . . .   4\n     2.2.  Requirements for Synchronization and Negotiation\n           Capability  . . . . . . . . . . . . . . . . . . . . . . .   5\n     2.3.  Specific Technical Requirements . . . . . . . . . . . . .   7\n   3.  GDNP Protocol Overview  . . . . . . . . . . . . . . . . . . .   8\n     3.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   8\n     3.2.  High-Level Design Choices . . . . . . . . . . . . . . . .   9\n     3.3.  GDNP Protocol Basic Properties and Mechanisms . . . . . .  13\n       3.3.1.  Required External Security Mechanism  . . . . . . . .  13\n       3.3.2.  Transport Layer Usage . . . . . . . . . . . . . . . .  13\n       3.3.3.  Discovery Mechanism and Procedures  . . . . . . . . .  13\n       3.3.4.  Negotiation Procedures  . . . . . . . . . . . . . . .  15\n       3.3.5.  Synchronization Procedure . . . . . . . . . . . . . .  16\n     3.4.  GDNP Constants  . . . . . . . . . . . . . . . . . . . . .  17\n     3.5.  Session Identifier (Session ID) . . . . . . . . . . . . .  17\n     3.6.  GDNP Messages . . . . . . . . . . . . . . . . . . . . . .  18\n       3.6.1.  GDNP Message Format . . . . . . . . . . . . . . . . .  18\n       3.6.2.  Discovery Message . . . . . . . . . . . . . . . . . .  19\n       3.6.3.  Response Message  . . . . . . . . . . . . . . . . . .  19\n       3.6.4.  Request Message . . . . . . . . . . . . . . . . . . .  20\n       3.6.5.  Negotiation Message . . . . . . . . . . . . . . . . .  20\n       3.6.6.  Negotiation-ending Message  . . . . . . . . . . . . .  21\n       3.6.7.  Confirm-waiting Message . . . . . . . . . . . . . . .  21\n     3.7.  GDNP General Options  . . . . . . . . . . . . . . . . . .  21\n       3.7.1.  Format of GDNP Options  . . . . . . . . . . . . . . .  21\n       3.7.2.  Divert Option . . . . . . . . . . . . . . . . . . . .  22\n       3.7.3.  Accept Option . . . . . . . . . . . . . . . . . . . .  22\n       3.7.4.  Decline Option  . . . . . . . . . . . . . . . . . . .  23\n       3.7.5.  Waiting Time Option . . . . . . . . . . . . . . . . .  23\n       3.7.6.  Device Identity Option  . . . . . . . . . . . . . . .  24\n       3.7.7.  Locator Options . . . . . . . . . . . . . . . . . . .  24\n     3.8.  Objective Options . . . . . . . . . . . . . . . . . . . .  26\n       3.8.1.  Format of Objective Options . . . . . . . . . . . . .  26\n       3.8.2.  General Considerations for Objective Options  . . . .  27\n       3.8.3.  Organizing of Objective Options . . . . . . . . . . .  27\n       3.8.4.  Vendor Specific Objective Options . . . . . . . . . .  28\n       3.8.5.  Experimental Objective Options  . . . . . . . . . . .  29\n   4.  Items for Future Work . . . . . . . . . . . . . . . . . . . .  29\n\n\n\nCarpenter _ Liu         Expires October 22, 2015                [Page 2]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   5.  Security Considerations . . . . . . . . . . . . . . . . . . .  30\n   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  31\n   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .  33\n   8.  Change log [RFC Editor: Please remove]  . . . . . . . . . . .  33\n   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  34\n     9.1.  Normative References  . . . . . . . . . . . . . . . . . .  34\n     9.2.  Informative References  . . . . . . . . . . . . . . . . .  35\n   Appendix A.  Capability Analysis of Current Protocols . . . . . .  37\n   Authors\' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  40\n\n1.  Introduction\n\n   The success of the Internet has made IP-based networks bigger and\n   more complicated.  Large-scale ISP and enterprise networks have\n   become more and more problematic for human based management.  Also,\n   operational costs are growing quickly.  Consequently, there are\n   increased requirements for autonomic behavior in the networks.\n   General aspects of autonomic networks are discussed in\n   [I-D.irtf-nmrg-autonomic-network-definitions] and\n   [I-D.irtf-nmrg-an-gap-analysis].  In order to fulfil autonomy,\n   devices that embody autonomic service agents need to be able to\n   discover each other, to synchronize state with each other, and to\n   negotiate parameters and resources directly with each other.  There\n   is no restriction on the type of parameters and resources concerned,\n   which include very basic information needed for addressing and\n   routing, as well as anything else that might be configured in a\n   conventional network.\n\n   Following this Introduction, Section 2 describes the requirements for\n   network device discovery, synchronization and negotiation.\n   Negotiation is an iterative process, requiring multiple message\n   exchanges forming a closed loop between the negotiating devices.\n   State synchronization, when needed, can be regarded as a special case\n   of negotiation, without iteration.  Section 3.2 describes a behavior\n   model for a protocol intended to support discovery, synchronization\n   and negotiation.  The design of Generic Discovery and Negotiation\n   Protocol (GDNP) in Section 3 of this document is mainly based on this\n   behavior model.  The relevant capabilities of various existing\n   protocols are reviewed in Appendix A.\n\n   The proposed discovery mechanism is oriented towards synchronization\n   and negotiation objectives.  It is based on a neighbor discovery\n   process, but also supports diversion to off-link peers.  Although\n   many negotiations will occur between horizontally distributed peers,\n   many target scenarios are hierarchical networks, which is the\n   predominant structure of current large-scale networks.  However, when\n   a device starts up with no pre-configuration, it has no knowledge of\n   a hierarchical superior.  The protocol itself is capable of being\n\n\n\nCarpenter _ Liu         Expires October 22, 2015                [Page 3]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   used in a small and/or flat network structure such as a small office\n   or home network as well as a professionally managed network.\n   Therefore, the discovery mechanism needs to be able to allow a device\n   to bootstrap itself without making any prior assumptions about\n   network structure.\n\n   Because GDNP can be used to perform a decision process among\n   distributed devices or between networks, it must run in a secure and\n   strongly authenticatd environment.\n\n   It is understood that in realistic deployments, not all devices will\n   support GDNP.  It is expected that some autonomic service agents will\n   manage a group of non-autonomic nodes, and that other non-autonomic\n   nodes will be managed traditionally.  Such mixed scenarios are not\n   discussed in this specification.\n\n2.  Requirement Analysis of Discovery, Synchronization and Negotiation\n\n   This section discusses the requirements for discovery, negotiation\n   and synchronization capabilities.\n\n2.1.  Requirements for Discovery\n\n   In an autonomic network we must assume that when a device starts up\n   it has no information about any peer devices, the network structure,\n   or what specific role it must play.  In some cases, when a new\n   application session starts up within a device, the device may again\n   lack information about relevant peer devices.  It might be necessary\n   to set up resources on multiple other devices, coordinated and\n   matched to each other so that there is no wasted resource.  Security\n   settings might also need updating to allow for the new device or\n   user.  Therefore a basic requirement is that there must be a\n   mechanism by which a device can separately discover peer devices for\n   each of the technical objectives that it needs to manage.  Some\n   objectives may only be significant on the local link, but others may\n   be significant across the routed network and require off-link\n   operations.  Thus, the relevant peer devices might be immediate\n   neighbors on the same layer 2 link or they might be more distant and\n   only accessible via layer 3.  The mechanism must therefore support\n   both on-link discovery and off-link discovery of peers that support\n   specific technical objectives.\n\n   The relevant peer devices may be different for different technical\n   objectives.  Therefore discovery needs to be repeated as often as\n   necessary to find peers capable of acting as counterparts for each\n   objective that a discovery initiator needs to handle.  In many\n   scenarios, the discovery process may be followed by a synchronization\n   or negotiation process.  Therefore, a discovery objective may be\n\n\n\nCarpenter _ Liu         Expires October 22, 2015                [Page 4]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   associated with one or more synchronization or negotiation\n   objectives.\n\n   When a device first starts up, it has no knowledge of the network\n   structure.  Therefore the discovery process must be able to support\n   any network scenario, assuming only that the device concerned is\n   bootstrapped from factory condition.\n\n   In some networks, as mentioned above, there will be some hierarchical\n   structure, at least for certain synchronization or negotiation\n   objectives.  A special case of discovery is that each device must be\n   able to discover its hierarchical superior for each such objective\n   that it is capable of handling.  This is part of the more general\n   requirement to discover off-link devices.\n\n   During initialisation, a device must be able to establish mutual\n   trust with the rest of the network and join an authentication\n   mechanism.  Although this will inevitably start with a discovery\n   action, it is a special case precisely because trust is not yet\n   established.  This topic is the subject of\n   [I-D.pritikin-anima-bootstrapping-keyinfra].  In addition, depending\n   on the type of network involved, discovery of other central functions\n   might be needed, such as the Network Operations Center (NOC)\n   [I-D.eckert-anima-stable-connectivity].  GDNP must be capable of\n   supporting such discovery during initialisation, as well as discovery\n   during ongoing operation.\n\n2.2.  Requirements for Synchronization and Negotiation Capability\n\n   We start by considering routing protocols, the closest approximation\n   to autonomic networking in widespread use.  Routing protocols use a\n   largely autonomic model based on distributed devices that communicate\n   repeatedly with each other.  However, routing is mainly based on one-\n   way information synchronization (in either direction), rather than on\n   bi-directional negotiation.  The focus is reachability, so current\n   routing protocols only consider simple link status, i.e., up or down,\n   and an underlying assumption is that all nodes need a consistent view\n   of the network topology.  Other information, such as latency,\n   congestion, capacity, and particularly unused capacity, would be\n   helpful to get better path selection and utilization rate, but are\n   not normally used in distributed routing algorithms.  Also, autonomic\n   networks need to be able to manage many more dimensions, such as\n   security settings, power saving, load balancing, etc.  In general,\n   these items do not apply to all participating nodes, but only to a\n   subset.  A basic requirement for the protocol is therefore the\n   ability to represent, discover, synchronize and negotiate almost any\n   kind of network parameter among arbitrary subsets of participating\n   nodes.\n\n\n\nCarpenter _ Liu         Expires October 22, 2015                [Page 5]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   Human intervention in complex situations is costly and error-prone.\n   Therefore, synchronization or negotiation of parameters without human\n   intervention is desirable whenever the coordination of multiple\n   devices can improve overall network performance.  It follows that a\n   requirement for the protocol is to be capable of running in any\n   device that would otherwise need human intervention.\n\n   Human intervention in large networks is often replaced by use of a\n   top-down network management system (NMS).  It therefore follows that\n   a requirement for the protocol is to be capable of running in any\n   device that would otherwise be managed by an NMS, and that it can co-\n   exist with an NMS.\n\n   Since the goal is to minimize human intervention, it is necessary\n   that the network can in effect "think ahead" before changing its\n   parameters.  In other words there must be a possibility of\n   forecasting the effect of a change by a "dry run" mechanism before\n   actually installing the change.  This will be an application of the\n   protocol rather than a feature of the protocol itself.\n\n   Status information and traffic metrics need to be shared between\n   nodes for dynamic adjustment of resources and for monitoring\n   purposes.  While this might be achieved by existing protocols when\n   they are available, the new protocol needs to be able to support\n   parameter exchange, including mutual synchronization, even when no\n   negotiation as such is required.\n\n   Recovery from faults and identification of faulty devices should be\n   as automatic as possible.  However, the protocol\'s role is limited to\n   the ability to handle discovery, synchronization and negotiation at\n   any time, in case an autonomic service agent detects an anomaly such\n   as a negotiation counterpart failing.\n\n   Management logging, monitoring, alerts and tools for intervention are\n   required.  However, these can only be features of individual\n   autonomic service agents.  Another document\n   [I-D.eckert-anima-stable-connectivity] discusses how such agents may\n   be linked into conventional OAM systems via an Autonomic Control\n   Plane [I-D.behringer-anima-autonomic-control-plane].\n\n   The protocol needs to be able to deal with a wide variety of\n   technical objectives, covering any type of network parameter.\n   Therefore the protocol will need either an explicit information model\n   describing its messages, or at least a flexible and extensible\n   message format.  One design consideration is whether to adopt an\n   existing information model or to design a new one.  Another\n   consideration is whether it should be able to carry some or all of\n   the message formats used by existing configuration protocols.\n\n\n\nCarpenter _ Liu         Expires October 22, 2015                [Page 6]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n2.3.  Specific Technical Requirements\n\n   To be a generic platform, the protocol payload format should be\n   independent of the transport protocol or IP version.  In particular,\n   it should be able to run over IPv6 or IPv4.  However, some functions,\n   such as multicasting or broadcasting on a link, might need to be IP\n   version dependent.  In case of doubt, IPv6 should be preferred.\n\n   The protocol must be able to access off-link counterparts via\n   routable addresses, i.e., must not be restricted to link-local\n   operation.\n\n   The negotiation process must be guaranteed to terminate (with success\n   or failure) and if necessary it must contain tie-breaking rules for\n   each technical objective that requires them.  While this must be\n   defined specifically for each use case, the protocol should have some\n   general mechanisms in support of loop and deadlock prevention.\n\n   Dependencies and conflicts: In order to decide a configuration on a\n   given device, the device may need information from neighbors.  This\n   can be established through the negotiation procedure, or through\n   synchronization if that is sufficient.  However, a given item in a\n   neighbor may depend on other information from its own neighbors,\n   which may need another negotiation or synchronization procedure to\n   obtain or decide.  Therefore, there are potential dependencies and\n   conflicts among negotiation or synchronization procedures.  Resolving\n   dependencies and conflicts is a matter for the individual autonomic\n   service agents involved.  To allow this, there need to be clear\n   boundaries and convergence mechanisms for negotiations.  Also some\n   mechanisms are needed to avoid loop dependencies.\n\n   Policy constraints: There must be provision for general policy intent\n   rules to be applied by all devices in the network (e.g., security\n   rules, prefix length, resource sharing rules).  However, policy\n   intent distribution might not use the negotiation protocol itself.\n\n   Management monitoring, alerts and intervention: Devices should be\n   able to report to a monitoring system.  Some events must be able to\n   generate operator alerts and some provision for emergency\n   intervention must be possible (e.g.  to freeze synchronization or\n   negotiation in a mis-behaving device).  These features may not use\n   the negotiation protocol itself.\n\n   The protocol needs to be fully secure against forged messages and\n   man-in-the middle attacks, and as secure as reasonably possible\n   against denial of service attacks.  It needs to be capable of\n   encryption in order to resist unwanted monitoring, although this\n   capability may not be required in all deployments.  However, it is\n\n\n\nCarpenter _ Liu         Expires October 22, 2015                [Page 7]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   not required that the protocol itself provides these security\n   features; it may depend on an existing secure environment.\n\n3.  GDNP Protocol Overview\n\n3.1.  Terminology\n\n   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",\n   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and\n   "OPTIONAL" in this document are to be interpreted as described in\n   [RFC2119] when they appear in ALL CAPS.  When these words are not in\n   ALL CAPS (such as "should" or "Should"), they have their usual\n   English meanings, and are not to be interpreted as [RFC2119] key\n   words.\n\n   This document uses terminology defined in\n   [I-D.irtf-nmrg-autonomic-network-definitions].\n\n   The following additional terms are used throughout this document:\n\n   o  Discovery: a process by which a device discovers peer devices\n      according to a specific discovery objective.  The discovery\n      results may be different according to the different discovery\n      objectives.  The discovered peer devices may later be used as\n      negotiation counterparts or as sources of synchronization data.\n\n   o  Negotiation: a process by which two (or more) devices interact\n      iteratively to agree on parameter settings that best satisfy the\n      objectives of one or more devices.\n\n   o  State Synchronization: a process by which two (or more) devices\n      interact to agree on the current state of parameter values stored\n      in each device.  This is a special case of negotiation in which\n      information is sent but the devices do not request their peers to\n      change parameter settings.  All other definitions apply to both\n      negotiation and synchronization.\n\n   o  Objective: An objective in GDNP is a configurable state of some\n      kind, which occurs in three contexts: Discovery, Negotiation and\n      Synchronization.  In the protocol, an objective is represented by\n      an identifier (actually a GDNP option number) and if relevant a\n      value.  Normally, a given objective will occur during discovery\n      and negotiation, or during discovery and synchronization, but not\n      in all three contexts.\n\n      *  One device may support multiple independent objectives.\n\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015                [Page 8]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n      *  The parameter described by a given objective is naturally based\n         on a specific service or function or action.  It may in\n         principle be anything that can be set to a specific logical,\n         numerical or string value, or a more complex data structure, by\n         a network node.  That node is generally expected to be an\n         autonomic service agent which may itself manage other nodes.\n\n      *  Discovery Objective: if a node needs to synchronize or\n         negotiate a specific objective but does not know a peer that\n         supports this objective, it starts a discovery process.  The\n         objective is called a Discovery Objective during this process.\n\n      *  Synchronization Objective: an objective whose specific\n         technical content needs to be synchronized among two or more\n         devices.\n\n      *  Negotiation Objective: an objective whose specific technical\n         content needs to be decided in coordination with another\n         network device.\n\n   o  Discovery Initiator: a device that spontaneously starts discovery\n      by sending a discovery message referring to a specific discovery\n      objective.\n\n   o  Discovery Responder: a peer device which responds to the discovery\n      objective initiated by the discovery initiator.\n\n   o  Synchronization Initiator: a device that spontaneously starts\n      synchronization by sending a request message referring to a\n      specific synchronization objective.\n\n   o  Synchronization Responder: a peer device which responds with the\n      value of a synchronization objective.\n\n   o  Negotiation Initiator: a device that spontaneously starts\n      negotiation by sending a request message referring to a specific\n      negotiation objective.\n\n   o  Negotiation Counterpart: a peer device with which the Negotiation\n      Initiator negotiates a specific negotiation objective.\n\n3.2.  High-Level Design Choices\n\n   This section describes a behavior model and some considerations for\n   designing a generic discovery, synchronization and negotiation\n   protocol, which can act as a platform for different technical\n   objectives.\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015                [Page 9]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   NOTE: This protocol is described here in a stand-alone fashion as a\n   proof of concept.  An early version was prototyped by Huawei and the\n   Beijing University of Posts and Telecommunications.  However, this is\n   not yet a definitive proposal for IETF adoption.  In particular,\n   adaptation and extension of one of the protocols discussed in\n   Appendix A might be an option.  This whole specification is subject\n   to change as a result.\n\n   o  A generic platform\n\n      The protocol is designed as a generic platform, which is\n      independent from the synchronization or negotiation contents.  It\n      takes care of the general intercommunication between counterparts.\n      The technical contents will vary according to the various\n      synchronization or negotiation objectives and the different pairs\n      of counterparts.\n\n\n   o  Security infrastructure and trust relationship\n\n      Because this negotiation protocol may directly cause changes to\n      device configurations and bring significant impacts to a running\n      network, this protocol is assumed to run within an existing secure\n      environment with strong authentication.\n\n      On the other hand, a limited negotiation model might be deployed\n      based on a limited trust relationship.  For example, between two\n      administrative domains, devices might also exchange limited\n      information and negotiate some particular configurations based on\n      a limited conventional or contractual trust relationship.\n\n\n   o  Discovery, synchronization and negotiation designed together\n\n      The discovery method and the synchronization and negotiation\n      methods are designed in the same way and can be combined when this\n      is useful.  These processes can also be performed independently\n      when appropriate.\n\n      *  GDNP discovery is appropriate for efficient discovery of GDNP\n         peers and allows a rapid mode of operation described in\n         Section 3.3.3.  For some parameters, especially those concerned\n         with application layer services, a text-based discovery\n         mechanism such as DNS Service Discovery\n         [I-D.ietf-dnssd-requirements] or Service Location Protocol\n         [RFC2608] might be more appropriate.  The choice is left to the\n         designers of individual Autonomic Service Agents.\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 10]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   o  A uniform pattern for technical contents\n\n      The synchronization and negotiation contents are defined according\n      to a uniform pattern.  They could be carried either in simple TLV\n      (Type, Length and Value) format or in payloads described by a\n      flexible language.  The initial protocol design uses the TLV\n      approach.  The format is extensible for unknown future\n      requirements.\n\n\n   o  A conservative model for synchronization\n\n      GDNP supports bilateral synchronization, which could be used to\n      perform synchronization among a small number of nodes.\n\n      *  For some parameters, synchronization across large groups of\n         nodes, possibly including all autonomic nodes, might be needed.\n         For such cases, a flooding mechanism such as ADNCP\n         [I-D.stenberg-anima-adncp] is considered more appropriate.\n         GDNP is designed to coexist with ADNCP.  The choice is left to\n         the designers of individual Autonomic Service Agents.\n\n   o  A simple initiator/responder model for negotiation\n\n      Multi-party negotiations are too complicated to be modeled and\n      there might be too many dependencies among the parties to converge\n      efficiently.  A simple initiator/responder model is more feasible\n      and can complete multiple-party negotiations by indirect steps.\n\n\n   o  Organizing of synchronization or negotiation content\n\n      Naturally, the technical content will be organized according to\n      the relevant function or service.  The content from different\n      functions or services is kept independent from each other.  They\n      are not combined into a single option or single session because\n      these contents may be negotiated or synchronized with different\n      counterparts or may be different in response time.\n\n\n   o  Self aware network device\n\n      Every network device will be pre-loaded with various functions and\n      be aware of its own capabilities, typically decided by the\n      hardware, firmware or pre-installed software.  Its exact role may\n      depend on the surrounding network behaviors, which may include\n      forwarding behaviors, aggregation properties, topology location,\n      bandwidth, tunnel or translation properties, etc.  The surrounding\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 11]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n      topology will depend on the network planning.  Following an\n      initial discovery phase, the device properties and those of its\n      neighbors are the foundation of the synchronization or negotiation\n      behavior of a specific device.  A device has no pre-configuration\n      for the particular network in which it is installed.\n\n\n   o  Requests and responses in negotiation procedures\n\n      The initiator can negotiate with its relevant negotiation\n      counterpart devices, which may be different according to the\n      specific negotiation objective.  It can request relevant\n      information from the negotiation counterpart so that it can decide\n      its local configuration to give the most coordinated performance.\n      It can request the negotiation counterpart to make a matching\n      configuration in order to set up a successful communication with\n      it.  It can request certain simulation or forecast results by\n      sending some dry run conditions.\n\n      Beyond the traditional yes/no answer, the responder can reply with\n      a suggested alternative if its answer is \'no\'.  This would start a\n      bi-directional negotiation ending in a compromise between the two\n      devices.\n\n\n   o  Convergence of negotiation procedures\n\n      To enable convergence, when a responder makes a suggestion of a\n      changed condition in a negative reply, it should be as close as\n      possible to the original request or previous suggestion.  The\n      suggested value of the third or later negotiation steps should be\n      chosen between the suggested values from the last two negotiation\n      steps.  In any case there must be a mechanism to guarantee\n      convergence (or failure) in a small number of steps, such as a\n      timeout or maximum number of iterations.\n\n\n\n      *  End of negotiation\n\n         A limited number of rounds, for example three, or a timeout, is\n         needed on each device for each negotiation objective.  It may\n         be an implementation choice, a pre-configurable parameter, or a\n         network-wide policy intent.  These choices might vary between\n         different types of autonomic service agent.  Therefore, the\n         definition of each negotiation objective MUST clearly specify\n         this, so that the negotiation can always be terminated\n         properly.\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 12]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n      *  Failed negotiation\n\n         There must be a well-defined procedure for concluding that a\n         negotiation cannot succeed, and if so deciding what happens\n         next (deadlock resolution, tie-breaking, or revert to best-\n         effort service).  Again, this MUST be specified for individual\n         negotiation objectives, as an implementation choice, a pre-\n         configurable parameter, or a network-wide policy intent.\n\n3.3.  GDNP Protocol Basic Properties and Mechanisms\n\n3.3.1.  Required External Security Mechanism\n\n   The protocol SHOULD run within a secure Autonomic Control Plane (ACP)\n   [I-D.behringer-anima-autonomic-control-plane].  If this is\n   impossible, it MUST use TLS [RFC5246] or DTLS [RFC6347] for all\n   messages, based on a local Public Key Infrastructure (PKI) [RFC5280]\n   managed within the autonomic network itself.\n\n   Link-local multicast is used for discovery messages.  These cannot be\n   secured, but responses to discovery messages MUST be secured.\n   However, during initialisation, before a node has joined the\n   applicable trust infrastructure, e.g.,\n   [I-D.pritikin-anima-bootstrapping-keyinfra], it will be impossible to\n   secure certain messages.  Such messages MUST be limited to the\n   strictly necessary minimum.\n\n3.3.2.  Transport Layer Usage\n\n   The protocol is capable of running over UDP or TCP, except for\n   multicast discovery messages which can only run over UDP.  When\n   running within an ACP, UDP SHOULD be used for messages not exceeding\n   the minimum IPv6 path MTU, and TCP SHOULD be used for longer\n   messages.  In other words, IPv6 fragmentation should be avoided.\n   When running without an ACP, TLS MUST be used by default, except for\n   multicast discovery messages.  DTLS MAY be supported as an\n   alternative.\n\n3.3.3.  Discovery Mechanism and Procedures\n\n   o  Separated discovery and negotiation mechanisms\n\n         Although discovery and negotiation or synchronization are\n         defined together in the GDNP, they are separated mechanisms.\n         The discovery process could run independently from the\n         negotiation or synchronization process.  Upon receiving a\n         discovery (Section 3.6.2) or request (Section 3.6.4) message,\n         the recipient device should return a message in which it either\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 13]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n         indicates itself as a discovery responder or diverts the\n         initiator towards another more suitable device.\n\n         The discovery action will normally be followed by a negotiation\n         or synchronization action.  The discovery results could be\n         utilized by the negotiation protocol to decide which device the\n         initiator will negotiate with.\n\n   o  Discovery Procedures\n\n         Discovery starts as an on-link operation.  The Divert option\n         can tell the discovery initiator to contact an off-link\n         discovery objective device.  Every DISCOVERY message is sent by\n         a discovery initiator via UDP to the ALL_GDNP_NEIGHBOR\n         multicast address (Section 3.4).  Every network device that\n         supports the GDNP always listens to a well-known UDP port to\n         capture the discovery messages.\n\n         If the neighbor device supports the requested discovery\n         objective, it MAY respond with a Response message\n         (Section 3.6.3) with locator option(s).  Otherwise, if the\n         neigbor device has cached information about a device that\n         supports the requested discovery objective (usually because it\n         discovered the same objective before), it SHOULD respond with a\n         Response message with a Divert option pointing to the\n         appropriate Discovery Responder.\n\n         If no discovery response is received within a reasonable\n         timeout (default GDNP_DEF_TIMEOUT milliseconds, Section 3.4),\n         the DISCOVERY message MAY be repeated, with a newly generated\n         Session ID (Section 3.5).  An exponential backoff SHOULD be\n         used for subsequent repetitions, in order to mitigate possible\n         denial of service attacks.\n\n         After a GDNP device successfully discovers a Discovery\n         Responder supporting a specific objective, it MUST cache this\n         information.  This cache record MAY be used for future\n         negotiation or synchronization, and SHOULD be passed on when\n         appropriate as a Divert option to another Discovery Initiator.\n         The cache lifetime is an implementation choice.\n\n         If multiple Discovery Responders are found for the same\n         objective, they SHOULD all be cached, unless this creates a\n         resource shortage.  The method of choosing between multiple\n         responders is an implementation choice.\n\n         A GDNP device with multiple link-layer interfaces (typically a\n         router) MUST support discovery on all interfaces.  If it\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 14]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n         receives a DISCOVERY message on a given interface for a\n         specific objective that it does not support and for which it\n         has not previously discovered a Discovery Responder, it MUST\n         relay the query by re-issuing the same DISCOVERY message on its\n         other interfaces.  However, it MUST limit the total rate at\n         which it relays discovery messages to a reasonable value, in\n         order to mitigate possible denial of service attacks.  It MUST\n         cache the Session ID value of each relayed discovery message\n         and, to prevent loops, MUST NOT relay a DISCOVERY message which\n         carries such a cached Session ID.\n\n         This relayed discovery mechanism, with caching of the results,\n         should be sufficient to support most network bootstrapping\n         scenarios.\n\n   o  A complete discovery process will start with multicast on the\n      local link; a neighbor might divert it to an off-link destination,\n      which could be a default higher-level gateway in a hierarchical\n      network.  Then discovery would continue with a unicast to that\n      gateway; if that gateway is still not the right counterpart, it\n      should divert to another device, which is in principle closer to\n      the right counterpart.  Finally the right counterpart responds to\n      start the negotiation or synchronization process.\n\n   o  Rapid Mode (Discovery/Negotiation binding)\n\n         A Discovery message MAY include one or more Negotiation\n         Objective option(s).  This allows a rapid mode of negotiation\n         described in Section 3.3.4.  A similar mechanism is defined for\n         synchronization in Section 3.3.5.\n\n3.3.4.  Negotiation Procedures\n\n   A negotiation initiator sends a negotiation request to a counterpart\n   device, including a specific negotiation objective.  It may request\n   the negotiation counterpart to make a specific configuration.\n   Alternatively, it may request a certain simulation or forecast result\n   by sending a dry run configuration.  The details, including the\n   distinction between dry run and an actual configuration change, will\n   be defined separately for each type of negotiation objective.\n\n   If the counterpart can immediately apply the requested configuration,\n   it will give an immediate positive (accept) answer.  This will end\n   the negotiation phase immediately.  Otherwise, it will negotiate.  It\n   will reply with a proposed alternative configuration that it can\n   apply (typically, a configuration that uses fewer resources than\n   requested by the negotiation initiator).  This will start a bi-\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 15]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   directional negotiation to reach a compromise between the two network\n   devices.\n\n   The negotiation procedure is ended when one of the negotiation peers\n   sends a Negotiation Ending message, which contains an accept or\n   decline option and does not need a response from the negotiation\n   peer.  Negotiation may also end in failure (equivalent to a decline)\n   if a timeout is exceeded or a loop count is exceeded.\n\n   A negotiation procedure concerns one objective and one counterpart.\n   Both the initiator and the counterpart may take part in simultaneous\n   negotiations with various other devices, or in simultaneous\n   negotiations about different objectives.  Thus, GDNP is expected to\n   be used in a multi-threaded mode.  Certain negotiation objectives may\n   have restrictions on multi-threading, for example to avoid over-\n   allocating resources.\n\n   Rapid Mode (Discovery/Negotiation linkage)\n\n      A Discovery message MAY include a Negotiation Objective option.\n      In this case the Discovery message also acts as a Request message\n      to indicate to the Discovery Responder that it could directly\n      reply to the Discovery Initiator with a Negotiation message for\n      rapid processing, if it could act as the corresponding negotiation\n      counterpart.  However, the indication is only advisory not\n      prescriptive.\n\n      This rapid mode could reduce the interactions between nodes so\n      that a higher efficiency could be achieved.  This rapid\n      negotiation function SHOULD be configured off by default and MAY\n      be configured on or off by policy intent.\n\n3.3.5.  Synchronization Procedure\n\n   A synchronization initiator sends a synchronization request to a\n   counterpart device, including a specific synchronization objective.\n   The counterpart responds with a Response message containing the\n   current value of the requested synchronization objective.  No further\n   messages are needed.  If no Response message is received, the\n   synchronization request MAY be repeated after a suitable timeout.\n\n   In the case just described, the message exchange is unicast and\n   concerns only one synchronization objective.  For large groups of\n   nodes requiring mutual synchronization, ADNCP\n   [I-D.stenberg-anima-adncp] is considered more appropriate.  In the\n   following case, several synchronization objectives may be combined.\n\n   Rapid Mode (Discovery/Synchronization linkage)\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 16]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n      A Discovery message MAY include one or more Synchronization\n      Objective option(s).  In this case the Discovery message also acts\n      as a Request message to indicate to the Discovery Responder that\n      it could directly reply to the Discovery Initiator with a Response\n      message with synchronization data for rapid processing, if the\n      discovery target supports the corresponding synchronization\n      objective(s).  However, the indication is only advisory not\n      prescriptive.\n\n      This rapid mode could reduce the interactions between nodes so\n      that a higher efficiency could be achieved.  This rapid\n      synchronization function SHOULD be configured off by default and\n      MAY be configured on or off by policy intent.\n\n3.4.  GDNP Constants\n\n   o  ALL_GDNP_NEIGHBOR\n\n      A link-local scope multicast address used by a GDNP-enabled device\n      to discover GDNP-enabled neighbor (i.e., on-link) devices . All\n      devices that support GDNP are members of this multicast group.\n\n      *  IPv6 multicast address: TBD1\n\n      *  IPv4 multicast address: TBD2\n\n   o  GDNP Listen Port (TBD3)\n\n      A UDP and TCP port that every GDNP-enabled network device always\n      listens to.\n\n   o  GDNP_DEF_TIMEOUT (60000 milliseconds)\n\n      The default timeout used to determine that a discovery or\n      negotiation has failed to complete.\n\n   o  GDNP_DEF_LOOPCT (6)\n\n      The default loop count used to determine that a negotiation has\n      failed to complete.\n\n3.5.  Session Identifier (Session ID)\n\n   A 24-bit opaque value used to distinguish multiple sessions between\n   the same two devices.  A new Session ID MUST be generated for every\n   new Discovery or Request message, and for every unsolicited Response\n   message.  All follow-up messages in the same discovery,\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 17]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   synchronization or negotiation procedure, which is initiated by the\n   request message, MUST carry the same Session ID.\n\n   The Session ID SHOULD have a very low collision rate locally.  It is\n   RECOMMENDED to be generated by a pseudo-random algorithm using a seed\n   which is unlikely to be used by any other device in the same network\n   [RFC4086].\n\n3.6.  GDNP Messages\n\n   This document defines the following GDNP message format and types.\n   Message types not listed here are reserved for future use.  The\n   numeric encoding for each message type is shown in parentheses.\n\n3.6.1.  GDNP Message Format\n\n   GDNP messages share an identical fixed format header and a variable\n   format area for options.  GDNP message headers and options are in the\n   type-length-value (TLV) format defined in DNCP (see Section "Type-\n   Length-Value Objects" in [I-D.ietf-homenet-dncp]).\n\n   Every GDNP message carries a Session ID.  Options are presented\n   serially in the options field, with padding to 4-byte alignment.\n\n   The following diagram illustrates the format of GDNP messages:\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _          MESSAGE_TYPE         _                4              _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _    Reserved   _                Session ID                     _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _                        Options  (variable length)             _\n   .                                                               .\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   MESSAGE_TYPE:  Identifies the GDNP message type. 16-bit.\n\n   Reserved:  Set to zero, ignored on receipt. 8-bit.\n\n   Session ID:  Identifies this GDNP session, as defined in Section 3.5.\n      24-bit.\n\n   Options:  GDNP Options carried in this message.  Options are defined\n      starting at Section 3.7.\n\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 18]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n3.6.2.  Discovery Message\n\n   DISCOVERY (MESSAGE_TYPE = G1):\n\n   A discovery initiator sends a DISCOVERY message to initiate a\n   discovery process.\n\n   The discovery initiator sends the DISCOVERY messages to the link-\n   local ALL_GDNP_NEIGHBOR multicast address for discovery, and stores\n   the discovery results (including responding discovery objectives and\n   corresponding unicast addresses or FQDNs).\n\n   A DISCOVERY message MUST include exactly one of the following:\n\n   o  a discovery objective option (Section 3.8.1).\n\n   o  a negotiation objective option (Section 3.8.1) to indicate to the\n      discovery target that it MAY directly reply to the discovery\n      initiatior with a NEGOTIATION message for rapid processing, if it\n      could act as the corresponding negotiation counterpart.  The\n      sender of such a DISCOVERY message MUST initialize a negotiation\n      timer and loop count in the same way as a REQUEST message\n      (Section 3.6.4).\n\n   o  one or more synchronization objective options (Section 3.8.1) to\n      indicate to the discovery target that it MAY directly reply to the\n      discovery initiator with a RESPONSE message for rapid processing,\n      if it could act as the corresponding synchronization counterpart.\n\n3.6.3.  Response Message\n\n   RESPONSE (MESSAGE_TYPE = G2):\n\n   A node which receives a DISCOVERY message sends a Response message to\n   respond to a discovery.  It MUST contain the same Session ID as the\n   DISCOVERY message.  It MAY include a copy of the discovery objective\n   from the DISCOVERY message.\n\n   If the responding node supports the discovery objective of the\n   discovery, it MUST include at least one kind of locator option\n   (Section 3.7.7) to indicate its own location.  A combination of\n   multiple kinds of locator options (e.g.  IP address option + FQDN\n   option) is also valid.\n\n   If the responding node itself does not support the discovery\n   objective, but it knows the locator of the discovery objective, then\n   it SHOULD respond to the discovery message with a divert option\n   (Section 3.7.2) embedding a locator option or a combination of\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 19]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   multiple kinds of locator options which indicate the locator(s) of\n   the discovery objective.\n\n   A node which receives a synchronization request sends a Response\n   message with the synchronization data, in the form of GDNP Option(s)\n   for the specific synchronization objective(s).\n\n3.6.4.  Request Message\n\n   REQUEST (MESSAGE_TYPE = G3):\n\n   A negotiation or synchronization requesting node sends the REQUEST\n   message to the unicast address (directly stored or resolved from the\n   FQDN) of the negotiation or synchronization counterpart (selected\n   from the discovery results).\n\n   A request message MUST include the relevant objective option, with\n   the requested value in the case of negotiation.\n\n   When an initiator sends a REQUEST message, it MUST initialize a\n   negotiation timer for the new negotiation thread with the value\n   GDNP_DEF_TIMEOUT milliseconds.  Unless this timeout is modified by a\n   CONFIRM-WAITING message (Section 3.6.7), the initiator will consider\n   that the negotiation has failed when the timer expires.\n\n   When an initiator sends a REQUEST message, it MUST initialize the\n   loop count of the objective option with a value defined in the\n   specification of the option or, if no such value is specified, with\n   GDNP_DEF_LOOPCT.\n\n3.6.5.  Negotiation Message\n\n   NEGOTIATION (MESSAGE_TYPE = G4):\n\n   A negotiation counterpart sends a NEGOTIATION message in response to\n   a REQUEST message, a NEGOTIATION message, or a DISCOVERY message in\n   Rapid Mode.  A negotiation process MAY include multiple steps.\n\n   The NEGOTIATION message MUST include the relevant Negotiation\n   Objective option, with its value updated according to progress in the\n   negotiation.  The sender MUST decrement the loop count by 1.  If the\n   loop count becomes zero both parties will consider that the\n   negotiation has failed.\n\n\n\n\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 20]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n3.6.6.  Negotiation-ending Message\n\n   NEGOTIATION-ENDING (MESSAGE_TYPE = G5):\n\n   A negotiation counterpart sends an NEGOTIATION-ENDING message to\n   close the negotiation.  It MUST contain one, but only one of accept/\n   decline option, defined in Section 3.7.3 and Section 3.7.4.  It could\n   be sent either by the requesting node or the responding node.\n\n3.6.7.  Confirm-waiting Message\n\n   CONFIRM-WAITING (MESSAGE_TYPE = G6):\n\n   A responding node sends a CONFIRM-WAITING message to indicate the\n   requesting node to wait for a further negotiation response.  It might\n   be that the local process needs more time or that the negotiation\n   depends on another triggered negotiation.  This message MUST NOT\n   include any other options than the Waiting Time Option\n   (Section 3.7.5).\n\n3.7.  GDNP General Options\n\n   This section defines the GDNP general options for the negotiation and\n   synchronization protocol signalling.  Additional option types are\n   reserved for GDNP general options defined in the future.\n\n3.7.1.  Format of GDNP Options\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _          option-code          _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _                          option-data                          _\n   _                      (option-len octets)                      _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  An unsigned integer identifying the specific option\n      type carried in this option.\n\n   Option-len:  An unsigned integer giving the length of the option-data\n      field in this option in octets.\n\n   Option-data:  The data for the option; the format of this data\n      depends on the definition of the option.\n\n   GDNP options are scoped by using encapsulation.  If an option\n   contains other options, the outer Option-len includes the total size\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 21]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   of the encapsulated options, and the latter apply only to the outer\n   option.\n\n3.7.2.  Divert Option\n\n   The divert option is used to redirect a GDNP request to another node,\n   which may be more appropriate for the intended negotiation or\n   synchronization.  It may redirect to an entity that is known as a\n   specific negotiation or synchronization counterpart (on-link or off-\n   link) or a default gateway.  The divert option MUST only be\n   encapsulated in Response messages.  If found elsewhere, it SHOULD be\n   silently ignored.\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _         OPTION_DIVERT         _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _             Locator Option(s) of Diversion Device(s)          _\n   .                                                               .\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_DIVERT (G32).\n\n   Option-len:  The total length of diverted destination sub-option(s)\n      in octets.\n\n   Locator Option(s) of Diversion Device(s):  Embedded Locator Option(s)\n      (Section 3.7.7) that point to diverted destination device(s).\n\n3.7.3.  Accept Option\n\n   The accept option is used to indicate to the negotiation counterpart\n   that the proposed negotiation content is accepted.\n\n   The accept option MUST only be encapsulated in Negotiation-ending\n   messages.  If found elsewhere, it SHOULD be silently ignored.\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _        OPTION_ACCEPT          _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_ACCEPT (G33)\n\n   Option-len:  0\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 22]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n3.7.4.  Decline Option\n\n   The decline option is used to indicate to the negotiation counterpart\n   the proposed negotiation content is declined and end the negotiation\n   process.\n\n   The decline option MUST only be encapsulated in Negotiation-ending\n   messages.  If found elsewhere, it SHOULD be silently ignored.\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _        OPTION_DECLINE         _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_DECLINE (G34)\n\n   Option-len:  0\n\n   Notes: there are scenarios where a negotiation counterpart wants to\n   decline the proposed negotiation content and continue the negotiation\n   process.  For these scenarios, the negotiation counterpart SHOULD use\n   a Negotiate message, with either an objective option that contains at\n   least one data field with all bits set to 1 to indicate a meaningless\n   initial value, or a specific objective option that provides further\n   conditions for convergence.\n\n3.7.5.  Waiting Time Option\n\n   The waiting time option is used to indicate that the negotiation\n   counterpart needs to wait for a further negotiation response, since\n   the processing might need more time than usual or it might depend on\n   another triggered negotiation.\n\n   The waiting time option MUST only be encapsulated in Confirm-waiting\n   messages.  If found elsewhere, it SHOULD be silently ignored.  When\n   received, its value overwrites the negotiation timer (Section 3.6.4).\n\n   The counterpart SHOULD send a Negotiation, Negotiation-Ending or\n   another Confirm-waiting message before the negotiation timer expires.\n   If not, the initiator MUST abandon or restart the negotiation\n   procedure, to avoid an indefinite wait.\n\n\n\n\n\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 23]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _       OPTION_WAITING          _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _                              Time                             _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_WAITING (G35)\n\n   Option-len:  4, in octets\n\n   Time:  Time in milliseconds\n\n3.7.6.  Device Identity Option\n\n   The Device Identity option carries the identities of the sender and\n   of the domain(s) that it belongs to.  The format of the Device\n   Identity option is as follows:\n\n      0                   1                   2                   3\n      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n     _       OPTION_DEVICE_ID        _           option-len          _\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n     _                                                               _\n     .                    Identities (variable length)               .\n     .                                                               .\n     _                                                               _\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_DEVICE_ID (G36)\n\n   Option-len:  Length of identities in octets\n\n   Identities:  A variable-length field containing the device identity\n      and one or more domain identities.  The format is not yet defined.\n\n   Note:  Currently this option is a placeholder.  It might be removed\n      or modified.\n\n3.7.7.  Locator Options\n\n   These locator options are used to present a device\'s or interface\'s\n   reachability information.  They are Locator IPv4 Address Option,\n   Locator IPv6 Address Option and Locator FQDN (Fully Qualified Domain\n   Name) Option.\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 24]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   Note that it is assumed that all locators are in scope throughout the\n   GDNP domain.  GDNP is not intended to work across disjoint addressing\n   or naming realms.\n\n3.7.7.1.  Locator IPv4 address option\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _    OPTION_LOCATOR_IPV4ADDR    _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _                          IPv4-Address                         _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_LOCATOR_IPV4ADDR (G37)\n\n   Option-len:  4, in octets\n\n   IPv4-Address:  The IPv4 address locator of the device/interface\n\n   Note: If an operator has internal network address translation for\n   IPv4, this option MUST NOT be used within the Divert option.\n\n3.7.7.2.  Locator IPv6 address option\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _   OPTION_LOCATOR_IPV6ADDR     _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _                                                               _\n   _                          IPv6-Address                         _\n   _                                                               _\n   _                                                               _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_LOCATOR_IPV6ADDR (G38)\n\n   Option-len:  16, in octets\n\n   IPv6-Address:  The IPv6 address locator of the device/interface\n\n   Note: A link-local IPv6 address MUST NOT be used when this option is\n   used within the Divert option.\n\n\n\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 25]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n3.7.7.3.  Locator FQDN option\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _         OPTION_FQDN           _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _                   Fully Qualified Domain Name                 _\n   _                       (variable length)                       _\n   .                                                               .\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_FQDN (G39)\n\n   Option-len:  Length of Fully Qualified Domain Name in octets\n\n   Domain-Name:  The Fully Qualified Domain Name of the entity\n\n   Note: Any FQDN which might not be valid throughout the network in\n   question, such as a Multicast DNS name [RFC6762], MUST NOT be used\n   when this option is used within the Divert option.\n\n3.8.  Objective Options\n\n3.8.1.  Format of Objective Options\n\n   An objective option is used to identify objectives for the purposes\n   of discovery, negotiation or synchronization.  All objectives must\n   follow a common format as follows:\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _         OPTION_XXX            _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _   loop-count  _    flags      _                               _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+          value                _\n   .                                    (variable length)          .\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_XXX: The option code assigned in the\n      specification of the XXX objective.\n\n   option-len:  The total length in octets.\n\n   loop-count:  The loop count.  This field is present if and only if\n      the objective is a negotiation objective.\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 26]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   flags:  Flag bits.  This field is present if and only if defined in\n      the specification of the objective.\n\n   value:  This field is to express the actual value of a negotiation or\n      synchronization objective.  Its format is defined in the\n      specification of the objective and may be a single value or a data\n      structure of any kind.\n\n3.8.2.  General Considerations for Objective Options\n\n   Objective Options MUST be assigned an option type greater than G63 in\n   the GDNP option table.\n\n   An Objective Option that contains no additional fields, i.e., has a\n   length of 4 octets, is a discovery objective and MUST only be used in\n   Discovery and Response messages.\n\n   The Negotiation Objective Options contain negotiation objectives,\n   which are various according to different functions/services.  They\n   MUST be carried by Discovery, Request or Negotiation Messages only.\n   The negotiation initiator MUST set the initial "loop-count" to a\n   value specified in the specification of the objective or, if no such\n   value is specified, to GDNP_DEF_LOOPCT.\n\n   For most scenarios, there should be initial values in the negotiation\n   requests.  Consequently, the Negotiation Objective options MUST\n   always be completely presented in a Request message, or in a\n   Discovery message in rapid mode.  If there is no initial value, the\n   bits in the value field SHOULD all be set to 1 to indicate a\n   meaningless value, unless this is inappropriate for the specific\n   negotiation objective.\n\n   Synchronization Objective Options are similar, but MUST be carried by\n   Discovery, Request or Response messages only.  They include value\n   fields only in Response messages.\n\n3.8.3.  Organizing of Objective Options\n\n   As noted earlier, one negotiation objective is handled by each GDNP\n   negotiation thread.  Therefore, a negotiation objective, which is\n   based on a specific function or action, SHOULD be organized as a\n   single GDNP option.  It is NOT RECOMMENDED to organize multiple\n   negotiation objectives into a single option, nor to split a single\n   function or action into multiple negotiation objectives.\n\n   A synchronization objective SHOULD also be organized as a single GDNP\n   option.\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 27]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   Some objectives will support more than one operational mode.  An\n   example is a negotiation objective with both a "dry run" mode (where\n   the negotiation is to find out whether the other end can in fact make\n   the requested change without problems) and a "live" mode.  Such modes\n   will be defined in the specification of such an objective.  These\n   objectives SHOULD include a "flags" octet, with bits indicating the\n   applicable mode(s).\n\n   An objective may have multiple parameters.  Parameters can be\n   categorized into two classes: the obligatory ones presented as fixed\n   fields; and the optional ones presented in TLV sub-options or some\n   other form of data structure.  The format might be inherited from an\n   existing management or configuration protocol, the objective option\n   acting as a carrier for that format.  The data structure might be\n   defined in a formal language, but that is a matter for the\n   specifications of individual objectives.  There are many candidates,\n   according to the context, such as ABNF, RBNF, XML Schema, possibly\n   YANG, etc.  The GDNP protocol itself is agnostic on these questions.\n\n   It is NOT RECOMMENDED to split parameters in a single objective into\n   multiple options, unless they have different response periods.  An\n   exception scenario may also be described by split objectives.\n\n3.8.4.  Vendor Specific Objective Options\n\n   Option codes G128~159 have been reserved for vendor specific options.\n   Multiple option codes have been assigned because a single vendor\n   might use multiple options simultaneously.  These vendor specific\n   options are highly likely to have different meanings when used by\n   different vendors.  Therefore, they SHOULD NOT be used without an\n   explicit human decision and SHOULD NOT be used in unmanaged networks\n   such as home networks.\n\n   There is one general requirement that applies to all vendor specific\n   options.  They MUST start with a field that uniquely identifies the\n   enterprise that defines the option, in the form of a registered 32\n   bit Private Enterprise Number (PEN) [I-D.liang-iana-pen].  There is\n   no default value for this field.  Note that it is not used during\n   discovery.  It MUST be verified during negotiation or\n   synchronization.\n\n   In the case of a vendor-specific objective, the loop count and flags,\n   if present, follow the PEN.\n\n\n\n\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 28]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n    0                   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _         OPTION_vendor         _           option-len          _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _                              PEN                              _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   _   loop-count  _    flags      _                               _\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+          value                _\n   .                                    (variable length)          .\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n   Option-code:  OPTION_vendor (G128~159)\n\n   Option-len:  The total length in octets.\n\n   PEN:  Private Enterprise Number.\n\n   loop-count:  The loop count.  This field is present if and only if\n      the objective is a negotiation objective.\n\n   flags:  Flag bits.  This field is present if and only if defined in\n      the specification of the objective.\n\n   value:  This field is to express the actual value of a negotiation or\n      synchronization objective.  Its format is defined in the vendor\'s\n      specification of the objective.\n\n3.8.5.  Experimental Objective Options\n\n   Option codes G176~191 have been reserved for experimental options.\n   Multiple option codes have been assigned because a single experiment\n   may use multiple options simultaneously.  These experimental options\n   are highly likely to have different meanings when used for different\n   experiments.  Therefore, they SHOULD NOT be used without an explicit\n   human decision and SHOULD NOT be used in unmanaged networks such as\n   home networks.\n\n   These option codes are also RECOMMENDED for use in documentation\n   examples.\n\n4.  Items for Future Work\n\n   There are various design questions that are worthy of more work in\n   the near future, as listed below (statically numbered for reference\n   purposes):\n\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 29]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   o  5.  Need to expand description of the minimum requirements for the\n      specification of an individual discovery, synchronization or\n      negotiation objective.\n\n   o  6.  Use case and protocol walkthrough.  A description of how a\n      node starts up, performs discovery, and conducts negotiation and\n      synchronisation for a sample use case would help readers to\n      understand the applicability of this specification.  Maybe it\n      should be an artificial use case or maybe a simple real one.\n      However, the authors have not yet decided whether to have a\n      separate document or have it in this document.\n\n   o  7.  Cross-check against other ANIMA WG documents for consistency\n      and gaps.\n\n5.  Security Considerations\n\n   It is obvious that a successful attack on negotiation-enabled nodes\n   would be extremely harmful, as such nodes might end up with a\n   completely undesirable configuration that would also adversely affect\n   their peers.  GDNP nodes and messages therefore require full\n   protection.\n\n   - Authentication\n\n      A cryptographically authenticated identity for each device is\n      needed in an autonomic network.  It is not safe to assume that a\n      large network is physically secured against interference or that\n      all personnel are trustworthy.  Each autonomic device MUST be\n      capable of proving its identity and authenticating its messages.\n      GDNP relies on a separate certificate-based security mechanism to\n      support authentication, data integrity protection, and anti-replay\n      protection.\n\n      Since GDNP is intended to be deployed in a single administrative\n      domain operating its own trust anchor and CA, there is no need for\n      a trusted public third party.  In a network requiring "air gap"\n      security, such a dependency would be unacceptable.\n\n   - Privacy and confidentiality\n\n      Generally speaking, no personal information is expected to be\n      involved in the negotiation protocol, so there should be no direct\n      impact on personal privacy.  Nevertheless, traffic flow paths,\n      VPNs, etc. could be negotiated, which could be of interest for\n      traffic analysis.  Also, operators generally want to conceal\n      details of their network topology and traffic density from\n      outsiders.  Therefore, since insider attacks cannot be excluded in\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 30]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n      a large network, the security mechanism for the protocol MUST\n      provide message confidentiality.\n\n   - DoS Attack Protection\n\n      GDNP discovery partly relies on insecure link-local multicast.\n      Since routers participating in GDNP sometimes relay discovery\n      messages from one link to another, this could be a vector for\n      denial of service attacks.  Relevant mitigations are specified in\n      Section 3.3.3.  Additionally, it is of great importance that\n      firewalls prevent any GDNP messages from entering the domain from\n      an untrusted source.\n\n   - Security during bootstrap and discovery\n\n      A node cannot authenticate GDNP traffic from other nodes until it\n      has identified the trust anchor and can validate certificates for\n      other nodes.  Also, until it has succesfully enrolled\n      [I-D.pritikin-anima-bootstrapping-keyinfra] it cannot assume that\n      other nodes are able to authenticate its own traffic.  Therefore,\n      GDNP discovery during the bootstrap phase for a new device will\n      inevitably be insecure and GDNP synchronization and negotiation\n      will be impossible until enrollment is complete.\n\n6.  IANA Considerations\n\n   Section 3.4 defines the following link-local multicast addresses,\n   which have been assigned by IANA for use by GDNP:\n\n   ALL_GDNP_NEIGHBOR multicast address  (IPv6): (TBD1).  Assigned in the\n      IPv6 Link-Local Scope Multicast Addresses registry.\n\n   ALL_GDNP_NEIGHBOR multicast address  (IPv4): (TBD2).  Assigned in the\n      IPv4 Multicast Local Network Control Block.\n\n      (Note in draft: alternatively, we could use 224.0.0.1, currently\n      defined as All Systems on this Subnet.)\n\n   Section 3.4 defines the following UDP and TCP port, which has been\n   assigned by IANA for use by GDNP:\n\n   GDNP Listen Port:  (TBD3)\n\n   This document defines the General Discovery and Negotiation Protocol\n   (GDNP).  The IANA is requested to create a GDNP registry within the\n   unused portion of the DNCP registry [I-D.ietf-homenet-dncp].  The\n   IANA is also requested to add two new registry tables to the newly-\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 31]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   created GDNP registry.  The two tables are the GDNP Messages table\n   and GDNP Options table.\n\n   Initial values for these registries are given below.  Future\n   assignments are to be made through Standards Action or Specification\n   Required [RFC5226].  Assignments for each registry consist of a type\n   code value, a name and a document where the usage is defined.\n\n   Note to the RFC Editor: In the following tables and in the body of\n   this document, the values G0, G1, etc., should be replaced by the\n   assigned values.\n\n   GDNP Messages table.  The values in this table are 16-bit unsigned\n   integers.  The following initial values are assigned in Section 3.6\n   in this document:\n\n         Type  _          Name               _   RFCs\n      ---------+-----------------------------+------------\n           G0  _Reserved                     _ this document\n           G1  _Discovery Message            _ this document\n           G2  _Response Message             _ this document\n           G3  _Request Message              _ this document\n           G4  _Negotiation Message          _ this document\n           G5  _Negotiation-ending Message   _ this document\n           G6  _Confirm-waiting Message      _ this document\n        G7~31  _reserved for future messages _\n\n   GDNP Options table.  The values in this table are 16-bit unsigned\n   integers.  The following initial values are assigned in Section 3.7\n   and Section 3.8.1 in this document:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 32]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n         Type  _          Name               _   RFCs\n      ---------+-----------------------------+------------\n          G32  _Divert Option                _ this document\n          G33  _Accept Option                _ this document\n          G34  _Decline Option               _ this document\n          G35  _Waiting Time Option          _ this document\n          G36  _Device Identity Option       _ this document\n          G37  _Device IPv4 Address Option   _ this document\n          G38  _Device IPv6 Address Option   _ this document\n          G39  _Device FQDN Option           _ this document\n       G40~63  _Reserved for future GDNP     _\n               _General Options              _\n       G64~127 _Reserved for future GDNP     _\n               _Objective Options            _\n       G128~159_Vendor Specific Options      _ this document\n       G160~175_Reserved for future use      _\n       G176~191_Experimental Options         _ this document\n       G192~???_Reserved for future use      _\n\n7.  Acknowledgements\n\n   A major contribution to the original version of this document was\n   made by Sheng Jiang.\n\n   Valuable comments were received from Michael Behringer, Zongpeng Du,\n   Yu Fu, Zhenbin Li, Dimitri Papadimitriou, Michael Richardson, Markus\n   Stenberg, Rene Struik, Dacheng Zhang, and other participants in the\n   NMRG research group and the ANIMA working group.\n\n   This document was produced using the xml2rfc tool [RFC2629].\n\n8.  Change log [RFC Editor: Please remove]\n\n   draft-carpenter-anima-discovery-negotiation-protocol-03, 2015-04-20:\n\n   Removed intrinsic security, required external security\n\n   Format changes to allow ADNCP co-existence\n\n   Recognized DNS-SD as alternative discovery method\n\n   Editorial improvements\n\n   draft-carpenter-anima-discovery-negotiation-protocol-02, 2015-02-19:\n\n   Tuned requirements to clarify scope,\n\n   Clarified relationship between types of objective,\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 33]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   Clarified that objectives may be simple values or complex data\n   structures,\n\n   Improved description of objective options,\n\n   Added loop-avoidance mechanisms (loop count and default timeout,\n   limitations on discovery relaying and on unsolicited responses),\n\n   Allow multiple discovery objectives in one response,\n\n   Provided for missing or multiple discovery responses,\n\n   Indicated how modes such as "dry run" should be supported,\n\n   Minor editorial and technical corrections and clarifications,\n\n   Reorganized future work list.\n\n   draft-carpenter-anima-discovery-negotiation-protocol-01, restructured\n   the logical flow of the document, updated to describe synchronization\n   completely, add unsolicited responses, numerous corrections and\n   clarifications, expanded future work list, 2015-01-06.\n\n   draft-carpenter-anima-discovery-negotiation-protocol-00, combination\n   of draft-jiang-config-negotiation-ps-03 and draft-jiang-config-\n   negotiation-protocol-02, 2014-10-08.\n\n9.  References\n\n9.1.  Normative References\n\n   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate\n              Requirement Levels", BCP 14, RFC 2119, March 1997.\n\n   [RFC4086]  Eastlake, D., Schiller, J., and S. Crocker, "Randomness\n              Requirements for Security", BCP 106, RFC 4086, June 2005.\n\n   [RFC5246]  Dierks, T. and E. Rescorla, "The Transport Layer Security\n              (TLS) Protocol Version 1.2", RFC 5246, August 2008.\n\n   [RFC5280]  Cooper, D., Santesson, S., Farrell, S., Boeyen, S.,\n              Housley, R., and W. Polk, "Internet X.509 Public Key\n              Infrastructure Certificate and Certificate Revocation List\n              (CRL) Profile", RFC 5280, May 2008.\n\n   [RFC6347]  Rescorla, E. and N. Modadugu, "Datagram Transport Layer\n              Security Version 1.2", RFC 6347, January 2012.\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 34]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n9.2.  Informative References\n\n   [I-D.behringer-anima-autonomic-control-plane]\n              Behringer, M., Bjarnason, S., BL, B., and T. Eckert, "An\n              Autonomic Control Plane", draft-behringer-anima-autonomic-\n              control-plane-02 (work in progress), March 2015.\n\n   [I-D.chaparadza-intarea-igcp]\n              Behringer, M., Chaparadza, R., Petre, R., Li, X., and H.\n              Mahkonen, "IP based Generic Control Protocol (IGCP)",\n              draft-chaparadza-intarea-igcp-00 (work in progress), July\n              2011.\n\n   [I-D.eckert-anima-stable-connectivity]\n              Eckert, T. and M. Behringer, "Using Autonomic Control\n              Plane for Stable Connectivity of Network OAM", draft-\n              eckert-anima-stable-connectivity-01 (work in progress),\n              March 2015.\n\n   [I-D.ietf-dnssd-requirements]\n              Lynn, K., Cheshire, S., Blanchet, M., and D. Migault,\n              "Requirements for Scalable DNS-SD/mDNS Extensions", draft-\n              ietf-dnssd-requirements-06 (work in progress), March 2015.\n\n   [I-D.ietf-homenet-dncp]\n              Stenberg, M. and S. Barth, "Distributed Node Consensus\n              Protocol", draft-ietf-homenet-dncp-01 (work in progress),\n              March 2015.\n\n   [I-D.ietf-homenet-hncp]\n              Stenberg, M., Barth, S., and P. Pfister, "Home Networking\n              Control Protocol", draft-ietf-homenet-hncp-04 (work in\n              progress), March 2015.\n\n   [I-D.ietf-netconf-restconf]\n              Bierman, A., Bjorklund, M., and K. Watsen, "RESTCONF\n              Protocol", draft-ietf-netconf-restconf-04 (work in\n              progress), January 2015.\n\n   [I-D.irtf-nmrg-an-gap-analysis]\n              Jiang, S., Carpenter, B., and M. Behringer, "General Gap\n              Analysis for Autonomic Networking", draft-irtf-nmrg-an-\n              gap-analysis-05 (work in progress), March 2015.\n\n\n\n\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 35]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   [I-D.irtf-nmrg-autonomic-network-definitions]\n              Behringer, M., Pritikin, M., Bjarnason, S., Clemm, A.,\n              Carpenter, B., Jiang, S., and L. Ciavaglia, "Autonomic\n              Networking - Definitions and Design Goals", draft-irtf-\n              nmrg-autonomic-network-definitions-07 (work in progress),\n              March 2015.\n\n   [I-D.liang-iana-pen]\n              Liang, P., Melnikov, A., and D. Conrad, "Private\n              Enterprise Number (PEN) practices and Internet Assigned\n              Numbers Authority (IANA) registration considerations",\n              draft-liang-iana-pen-05 (work in progress), March 2015.\n\n   [I-D.pritikin-anima-bootstrapping-keyinfra]\n              Pritikin, M., Behringer, M., and S. Bjarnason,\n              "Bootstrapping Key Infrastructures", draft-pritikin-anima-\n              bootstrapping-keyinfra-01 (work in progress), February\n              2015.\n\n   [I-D.stenberg-anima-adncp]\n              Stenberg, M., "Autonomic Distributed Node Consensus\n              Protocol", draft-stenberg-anima-adncp-00 (work in\n              progress), March 2015.\n\n   [RFC2205]  Braden, B., Zhang, L., Berson, S., Herzog, S., and S.\n              Jamin, "Resource ReSerVation Protocol (RSVP) -- Version 1\n              Functional Specification", RFC 2205, September 1997.\n\n   [RFC2608]  Guttman, E., Perkins, C., Veizades, J., and M. Day,\n              "Service Location Protocol, Version 2", RFC 2608, June\n              1999.\n\n   [RFC2629]  Rose, M., "Writing I-Ds and RFCs using XML", RFC 2629,\n              June 1999.\n\n   [RFC2865]  Rigney, C., Willens, S., Rubens, A., and W. Simpson,\n              "Remote Authentication Dial In User Service (RADIUS)", RFC\n              2865, June 2000.\n\n   [RFC3209]  Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V.,\n              and G. Swallow, "RSVP-TE: Extensions to RSVP for LSP\n              Tunnels", RFC 3209, December 2001.\n\n   [RFC3315]  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C.,\n              and M. Carney, "Dynamic Host Configuration Protocol for\n              IPv6 (DHCPv6)", RFC 3315, July 2003.\n\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 36]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   [RFC3416]  Presuhn, R., "Version 2 of the Protocol Operations for the\n              Simple Network Management Protocol (SNMP)", STD 62, RFC\n              3416, December 2002.\n\n   [RFC4861]  Narten, T., Nordmark, E., Simpson, W., and H. Soliman,\n              "Neighbor Discovery for IP version 6 (IPv6)", RFC 4861,\n              September 2007.\n\n   [RFC5226]  Narten, T. and H. Alvestrand, "Guidelines for Writing an\n              IANA Considerations Section in RFCs", BCP 26, RFC 5226,\n              May 2008.\n\n   [RFC5971]  Schulzrinne, H. and R. Hancock, "GIST: General Internet\n              Signalling Transport", RFC 5971, October 2010.\n\n   [RFC6241]  Enns, R., Bjorklund, M., Schoenwaelder, J., and A.\n              Bierman, "Network Configuration Protocol (NETCONF)", RFC\n              6241, June 2011.\n\n   [RFC6733]  Fajardo, V., Arkko, J., Loughney, J., and G. Zorn,\n              "Diameter Base Protocol", RFC 6733, October 2012.\n\n   [RFC6762]  Cheshire, S. and M. Krochmal, "Multicast DNS", RFC 6762,\n              February 2013.\n\n   [RFC6763]  Cheshire, S. and M. Krochmal, "DNS-Based Service\n              Discovery", RFC 6763, February 2013.\n\n   [RFC6887]  Wing, D., Cheshire, S., Boucadair, M., Penno, R., and P.\n              Selkirk, "Port Control Protocol (PCP)", RFC 6887, April\n              2013.\n\nAppendix A.  Capability Analysis of Current Protocols\n\n   This appendix discusses various existing protocols with properties\n   related to the above negotiation and synchronisation requirements.\n   The purpose is to evaluate whether any existing protocol, or a simple\n   combination of existing protocols, can meet those requirements.\n\n   Numerous protocols include some form of discovery, but these all\n   appear to be very specific in their applicability.  Service Location\n   Protocol (SLP) [RFC2608] provides service discovery for managed\n   networks, but requires configuration of its own servers.  DNS-SD\n   [RFC6763] combined with mDNS [RFC6762] provides service discovery for\n   small networks with a single link layer.\n   [I-D.ietf-dnssd-requirements] aims to extend this to larger\n   autonomous networks.  However, both SLP and DNS-SD appear to target\n   primarily application layer services, not the layer 2 and 3\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 37]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   objectives relevant to basic network configuration.  Both SLP and\n   DNS-SD are text-based protocols.\n\n   Routing protocols are mainly one-way information announcements.  The\n   receiver makes independent decisions based on the received\n   information and there is no direct feedback information to the\n   announcing peer.  This remains true even though the protocol is used\n   in both directions between peer routers; there is state\n   synchronization, but no negotiation, and each peer runs its route\n   calculations independently.\n\n   Simple Network Management Protocol (SNMP) [RFC3416] uses a command/\n   response model not well suited for peer negotiation.  Network\n   Configuration Protocol (NETCONF) [RFC6241] uses an RPC model that\n   does allow positive or negative responses from the target system, but\n   this is still not adequate for negotiation.\n\n   There are various existing protocols that have elementary negotiation\n   abilities, such as Dynamic Host Configuration Protocol for IPv6\n   (DHCPv6) [RFC3315], Neighbor Discovery (ND) [RFC4861], Port Control\n   Protocol (PCP) [RFC6887], Remote Authentication Dial In User Service\n   (RADIUS) [RFC2865], Diameter [RFC6733], etc.  Most of them are\n   configuration or management protocols.  However, they either provide\n   only a simple request/response model in a master/slave context or\n   very limited negotiation abilities.\n\n   There are also signalling protocols with an element of negotiation.\n   For example Resource ReSerVation Protocol (RSVP) [RFC2205] was\n   designed for negotiating quality of service parameters along the path\n   of a unicast or multicast flow.  RSVP is a very specialised protocol\n   aimed at end-to-end flows.  However, it has some flexibility, having\n   been extended for MPLS label distribution [RFC3209].  A more generic\n   design is General Internet Signalling Transport (GIST) [RFC5971], but\n   it is complex, tries to solve many problems, and is also aimed at\n   per-flow signalling across many hops rather than at device-to-device\n   signalling.  However, we cannot completely exclude extended RSVP or\n   GIST as a synchronization and negotiation protocol.  They do not\n   appear to be directly useable for peer discovery.\n\n   We now consider two protocols that are works in progress at the time\n   of this writing.  Firstly, RESTCONF [I-D.ietf-netconf-restconf] is a\n   protocol intended to convey NETCONF information expressed in the YANG\n   language via HTTP, including the ability to transit HTML\n   intermediaries.  While this is a powerful approach in the context of\n   centralised configuration of a complex network, it is not well\n   adapted to efficient interactive negotiation between peer devices,\n   especially simple ones that are unlikely to include YANG processing\n   already.\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 38]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\n   Secondly, we consider Distributed Node Consensus Protocol (DNCP)\n   [I-D.ietf-homenet-dncp].  This is defined as a generic form of state\n   synchronization protocol, with a proposed usage profile being the\n   Home Networking Control Protocol (HNCP) [I-D.ietf-homenet-hncp] for\n   configuring Homenet routers.  A specific application of DNCP for\n   autonomic networking was proposed in [I-D.stenberg-anima-adncp].\n\n   Specific features of DNCP include:\n\n   o  Every participating node has a unique node identifier.\n\n   o  DNCP messages are encoded as a sequence of TLV objects, sent over\n      unicast UDP or TCP, with or without (D)TLS security.\n\n   o  Multicast is used only for discovery of DNCP neighbors when lower\n      security is acceptable.\n\n   o  Synchronization of state is maintained by a flooding process using\n      the Trickle algorithm.  There is no bilateral synchronization or\n      negotiation capability.\n\n   o  The HNCP profile of DNCP is designed to operate between directly\n      connected neighbors on a shared link using UDP and link-local IPv6\n      addresses.\n\n   Clearly DNCP does not meet the needs of a general negotiation\n   protocol, especially in its HNCP profile due to the limitation to\n   link-local messages and its strict dependency on IPv6.  However, at\n   the minimum it is a very interesting test case for this style of\n   interaction between devices without needing a central authority, and\n   it is a proven method of network-wide state synchronization by\n   flooding.\n\n   A proposal was made some years ago for an IP based Generic Control\n   Protocol (IGCP) [I-D.chaparadza-intarea-igcp].  This was aimed at\n   information exchange and negotiation but not directly at peer\n   discovery.  However, it has many points in common with the present\n   work.\n\n   None of the above solutions appears to completely meet the needs of\n   generic discovery, state synchronization and negotiation in a single\n   solution.  Neither is there an obvious combination of protocols that\n   does so.  Therefore, this document proposes the design of a protocol\n   that does meet those needs.  However, this proposal needs to be\n   compared with alternatives such as extension and adaptation of GIST\n   or DNCP, or combination with IGCP.\n\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 39]\n_\nInternet-Draft                GDN Protocol                    April 2015\n\n\nAuthors\' Addresses\n\n   Brian Carpenter\n   Department of Computer Science\n   University of Auckland\n   PB 92019\n   Auckland  1142\n   New Zealand\n\n   Email: brian.e.carpenter@gmail.com\n\n\n   Bing Liu\n   Huawei Technologies Co., Ltd\n   Q14, Huawei Campus\n   No.156 Beiqing Road\n   Hai-Dian District, Beijing  100095\n   P.R. China\n\n   Email: leo.liubing@huawei.com\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCarpenter _ Liu         Expires October 22, 2015               [Page 40]\n', 'url1': '', 'submit': 'Generate diff', 'url2': '', '--newcolour': 'green'} -->